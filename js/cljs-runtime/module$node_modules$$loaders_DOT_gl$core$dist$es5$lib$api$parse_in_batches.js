shadow$provide.module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$api$parse_in_batches=function(global,require,module,exports){function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;
},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,
minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function parseInBatches(_x2,
_x3,_x4,_x5){return _parseInBatches.apply(this,arguments)}function _parseInBatches(){_parseInBatches=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(data,loaders,options,context){var _getResourceUrlAndTyp,url,loader;return _regenerator["default"].wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return(0,_loaderUtils.assert)(!context||"string"!==typeof context,"parseInBatches no longer accepts final url"),Array.isArray(loaders)||(0,_normalizeLoader.isLoaderObject)(loaders)||
(context=options,options=loaders,loaders=null),_context.next=4,data;case 4:return data=_context.sent,options=options||{},_getResourceUrlAndTyp=(0,_resourceUtils.getResourceUrlAndType)(data),url=_getResourceUrlAndTyp.url,_context.next=9,(0,_selectLoader.selectLoader)(data,loaders,options);case 9:if(loader=_context.sent){_context.next=12;break}return _context.abrupt("return",null);case 12:return options=(0,_optionUtils.normalizeOptions)(options,loader,loaders,url),context=(0,_contextUtils.getLoaderContext)({url,
parseInBatches,parse:_parse.parse,loaders},options,context),_context.next=16,parseWithLoaderInBatches(loader,data,options,context);case 16:return _context.abrupt("return",_context.sent);case 17:case "end":return _context.stop()}},_callee)}));return _parseInBatches.apply(this,arguments)}function parseWithLoaderInBatches(_x6,_x7,_x8,_x9){return _parseWithLoaderInBatches.apply(this,arguments)}function _parseWithLoaderInBatches(){_parseWithLoaderInBatches=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee3(loader,
data,options,context){var outputIterator,metadataBatch,makeMetadataBatchIterator,_makeMetadataBatchIterator;return _regenerator["default"].wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _makeMetadataBatchIterator=function(){_makeMetadataBatchIterator=(0,_wrapAsyncGenerator2["default"])(_regenerator["default"].mark(function _callee2(iterator){return _regenerator["default"].wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=
2,metadataBatch;case 2:return _context2.delegateYield((0,_asyncGeneratorDelegate2["default"])((0,_asyncIterator2["default"])(iterator),_awaitAsyncGenerator2["default"]),"t0",3);case 3:case "end":return _context2.stop()}},_callee2)}));return _makeMetadataBatchIterator.apply(this,arguments)},makeMetadataBatchIterator=function(_x){return _makeMetadataBatchIterator.apply(this,arguments)},_context3.next=4,parseToOutputIterator(loader,data,options,context);case 4:outputIterator=_context3.sent;if(options.metadata){_context3.next=
7;break}return _context3.abrupt("return",outputIterator);case 7:return metadataBatch={batchType:"metadata",metadata:{_loader:loader,_context:context},data:[],bytesUsed:0},_context3.abrupt("return",makeMetadataBatchIterator(outputIterator));case 9:case "end":return _context3.stop()}},_callee3)}));return _parseWithLoaderInBatches.apply(this,arguments)}function parseToOutputIterator(_x10,_x11,_x12,_x13){return _parseToOutputIterator.apply(this,arguments)}function _parseToOutputIterator(){_parseToOutputIterator=
(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee5(loader,data,options,context){var inputIterator,iteratorChain,stream,parseChunkInBatches,_parseChunkInBatches;return _regenerator["default"].wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:_parseChunkInBatches=function(){_parseChunkInBatches=(0,_wrapAsyncGenerator2["default"])(_regenerator["default"].mark(function _callee4(){var inputIterator,arrayBuffer;return _regenerator["default"].wrap(function(_context4){for(;;)switch(_context4.prev=
_context4.next){case 0:return _context4.next=2,(0,_awaitAsyncGenerator2["default"])((0,_getData.getAsyncIteratorFromData)(data));case 2:return inputIterator=_context4.sent,_context4.next=5,(0,_awaitAsyncGenerator2["default"])((0,_loaderUtils.concatenateChunksAsync)(inputIterator));case 5:return arrayBuffer=_context4.sent,_context4.next=8,loader.parse(arrayBuffer,options,context,loader);case 8:case "end":return _context4.stop()}},_callee4)}));return _parseChunkInBatches.apply(this,arguments)};parseChunkInBatches=
function(){return _parseChunkInBatches.apply(this,arguments)};if(!loader.parseInBatches){_context5.next=10;break}_context5.next=5;return(0,_getData.getAsyncIteratorFromData)(data);case 5:return inputIterator=_context5.sent,iteratorChain=applyInputTransforms(inputIterator,options),_context5.next=9,loader.parseInBatches(iteratorChain,options,context,loader);case 9:return _context5.abrupt("return",_context5.sent);case 10:if(!loader.parseStreamInBatches){_context5.next=17;break}_context5.next=13;return(0,
_getData.getReadableStream)(data);case 13:stream=_context5.sent;if(!stream){_context5.next=17;break}options.transforms&&console.warn("options.transforms not implemented for loaders that use `parseStreamInBatches`");return _context5.abrupt("return",loader.parseStreamInBatches(stream,options,context));case 17:return _context5.next=19,parseChunkInBatches();case 19:return _context5.abrupt("return",_context5.sent);case 20:case "end":return _context5.stop()}},_callee5)}));return _parseToOutputIterator.apply(this,
arguments)}function applyInputTransforms(inputIterator,options){var _iterator=_createForOfIteratorHelper(options.transforms||[]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var Transform=_step.value;inputIterator=(0,_loaderUtils.makeTransformIterator)(inputIterator,Transform,options)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return inputIterator}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});
exports.parseInBatches=parseInBatches;var _regenerator=global(require("module$node_modules$$babel$runtime$regenerator$index")),_asyncToGenerator2=global(require("module$node_modules$$babel$runtime$helpers$asyncToGenerator")),_wrapAsyncGenerator2=global(require("module$node_modules$$babel$runtime$helpers$wrapAsyncGenerator")),_awaitAsyncGenerator2=global(require("module$node_modules$$babel$runtime$helpers$awaitAsyncGenerator")),_asyncIterator2=global(require("module$node_modules$$babel$runtime$helpers$asyncIterator")),
_asyncGeneratorDelegate2=global(require("module$node_modules$$babel$runtime$helpers$asyncGeneratorDelegate")),_loaderUtils=require("module$node_modules$$loaders_DOT_gl$loader_utils$dist$es5$index"),_normalizeLoader=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$loader_utils$normalize_loader"),_optionUtils=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$loader_utils$option_utils"),_contextUtils=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$loader_utils$context_utils"),
_getData=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$loader_utils$get_data"),_resourceUtils=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$utils$resource_utils"),_selectLoader=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$api$select_loader"),_parse=require("module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$api$parse")}
//# sourceMappingURL=module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$api$parse_in_batches.js.map
