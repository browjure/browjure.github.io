{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$gis$dist$es5$lib$binary_to_geojson.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/gis/dist/es5/lib/binary-to-geojson.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$gis$dist$es5$lib$binary_to_geojson\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.binaryToGeoJson = binaryToGeoJson;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction binaryToGeoJson(data, type, format) {\n  if (format === 'geometry') {\n    return parseGeometry(data);\n  }\n\n  var dataArray = normalizeInput(data, type);\n\n  switch (deduceReturnType(dataArray)) {\n    case 'Geometry':\n      return parseGeometry(dataArray[0]);\n\n    case 'FeatureCollection':\n      return parseFeatureCollection(dataArray);\n\n    default:\n      break;\n  }\n\n  return null;\n}\n\nfunction normalizeInput(data, type) {\n  var isHeterogeneousType = Boolean(data.points || data.lines || data.polygons);\n\n  if (!isHeterogeneousType) {\n    data.type = type || parseType(data);\n    return [data];\n  }\n\n  var features = [];\n\n  if (data.points) {\n    data.points.type = 'Point';\n    features.push(data.points);\n  }\n\n  if (data.lines) {\n    data.lines.type = 'LineString';\n    features.push(data.lines);\n  }\n\n  if (data.polygons) {\n    data.polygons.type = 'Polygon';\n    features.push(data.polygons);\n  }\n\n  return features;\n}\n\nfunction deduceReturnType(dataArray) {\n  if (dataArray.length > 1) {\n    return 'FeatureCollection';\n  }\n\n  var data = dataArray[0];\n\n  if (!(data.featureIds || data.globalFeatureIds || data.numericProps || data.properties)) {\n    return 'Geometry';\n  }\n\n  return 'FeatureCollection';\n}\n\nfunction parseFeatureCollection(dataArray) {\n  var features = [];\n\n  var _iterator = _createForOfIteratorHelper(dataArray),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var data = _step.value;\n\n      if (data.featureIds.value.length === 0) {\n        continue;\n      }\n\n      var lastIndex = 0;\n      var lastValue = data.featureIds.value[0];\n\n      for (var i = 0; i < data.featureIds.value.length; i++) {\n        var currValue = data.featureIds.value[i];\n\n        if (currValue === lastValue) {\n          continue;\n        }\n\n        features.push(parseFeature(data, lastIndex, i));\n        lastIndex = i;\n        lastValue = currValue;\n      }\n\n      features.push(parseFeature(data, lastIndex, data.featureIds.value.length));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return features;\n}\n\nfunction parseFeature(data, startIndex, endIndex) {\n  var geometry = parseGeometry(data, startIndex, endIndex);\n  var properties = parseProperties(data, startIndex, endIndex);\n  return {\n    type: 'Feature',\n    geometry: geometry,\n    properties: properties\n  };\n}\n\nfunction parseProperties(data, startIndex, endIndex) {\n  var properties = Object.assign(data.properties[data.featureIds.value[startIndex]]);\n\n  for (var key in data.numericProps) {\n    properties[key] = data.numericProps[key].value[startIndex];\n  }\n\n  return properties;\n}\n\nfunction parseGeometry(data, startIndex, endIndex) {\n  switch (data.type) {\n    case 'Point':\n      return pointToGeoJson(data, startIndex, endIndex);\n\n    case 'LineString':\n      return lineStringToGeoJson(data, startIndex, endIndex);\n\n    case 'Polygon':\n      return polygonToGeoJson(data, startIndex, endIndex);\n\n    default:\n      throw new Error(\"Unsupported geometry type: \".concat(data.type));\n  }\n}\n\nfunction polygonToGeoJson(data) {\n  var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -Infinity;\n  var endIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n  var positions = data.positions;\n  var polygonIndices = data.polygonIndices.value.filter(function (x) {\n    return x >= startIndex && x <= endIndex;\n  });\n  var primitivePolygonIndices = data.primitivePolygonIndices.value.filter(function (x) {\n    return x >= startIndex && x <= endIndex;\n  });\n  var multi = polygonIndices.length > 2;\n  var coordinates = [];\n\n  if (!multi) {\n    for (var i = 0; i < primitivePolygonIndices.length - 1; i++) {\n      var startRingIndex = primitivePolygonIndices[i];\n      var endRingIndex = primitivePolygonIndices[i + 1];\n      var ringCoordinates = ringToGeoJson(positions, startRingIndex, endRingIndex);\n      coordinates.push(ringCoordinates);\n    }\n\n    return {\n      type: 'Polygon',\n      coordinates: coordinates\n    };\n  }\n\n  for (var _i = 0; _i < polygonIndices.length - 1; _i++) {\n    var startPolygonIndex = polygonIndices[_i];\n    var endPolygonIndex = polygonIndices[_i + 1];\n    var polygonCoordinates = polygonToGeoJson(data, startPolygonIndex, endPolygonIndex).coordinates;\n    coordinates.push(polygonCoordinates);\n  }\n\n  return {\n    type: 'MultiPolygon',\n    coordinates: coordinates\n  };\n}\n\nfunction lineStringToGeoJson(data) {\n  var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -Infinity;\n  var endIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n  var positions = data.positions;\n  var pathIndices = data.pathIndices.value.filter(function (x) {\n    return x >= startIndex && x <= endIndex;\n  });\n  var multi = pathIndices.length > 2;\n\n  if (!multi) {\n    var _coordinates = ringToGeoJson(positions, pathIndices[0], pathIndices[1]);\n\n    return {\n      type: 'LineString',\n      coordinates: _coordinates\n    };\n  }\n\n  var coordinates = [];\n\n  for (var i = 0; i < pathIndices.length - 1; i++) {\n    var ringCoordinates = ringToGeoJson(positions, pathIndices[i], pathIndices[i + 1]);\n    coordinates.push(ringCoordinates);\n  }\n\n  return {\n    type: 'MultiLineString',\n    coordinates: coordinates\n  };\n}\n\nfunction pointToGeoJson(data, startIndex, endIndex) {\n  var positions = data.positions;\n  var coordinates = ringToGeoJson(positions, startIndex, endIndex);\n  var multi = coordinates.length > 1;\n\n  if (multi) {\n    return {\n      type: 'MultiPoint',\n      coordinates: coordinates\n    };\n  }\n\n  return {\n    type: 'Point',\n    coordinates: coordinates[0]\n  };\n}\n\nfunction ringToGeoJson(positions, startIndex, endIndex) {\n  startIndex = startIndex || 0;\n  endIndex = endIndex || positions.value.length / positions.size;\n  var ringCoordinates = [];\n\n  for (var j = startIndex; j < endIndex; j++) {\n    ringCoordinates.push(Array.from(positions.value.subarray(j * positions.size, (j + 1) * positions.size)));\n  }\n\n  return ringCoordinates;\n}\n\nfunction parseType(data) {\n  if (data.pathIndices) {\n    return 'LineString';\n  }\n\n  if (data.polygonIndices) {\n    return 'Polygon';\n  }\n\n  return 'Point';\n}\n//# sourceMappingURL=binary-to-geojson.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","parseFeature","data","startIndex","endIndex","geometry","parseGeometry","properties","assign","featureIds","key","numericProps","type","coordinates","ringToGeoJson","positions","lineStringToGeoJson","polygonToGeoJson","Error","concat","arguments","undefined","Infinity","polygonIndices","filter","x","primitivePolygonIndices","ringCoordinates","startRingIndex","endRingIndex","push","_i","polygonCoordinates","startPolygonIndex","endPolygonIndex","pathIndices","_coordinates","size","j","subarray","defineProperty","binaryToGeoJson","format","points","lines","polygons","features","dataArray","globalFeatureIds","_iterator","_step","lastIndex","lastValue","currValue"]
}
