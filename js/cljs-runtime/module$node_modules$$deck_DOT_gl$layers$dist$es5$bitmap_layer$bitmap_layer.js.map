{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$layers$dist$es5$bitmap_layer$bitmap_layer.js",
"lineCount":16,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/layers/dist/es5/bitmap-layer/bitmap-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$layers$dist$es5$bitmap_layer$bitmap_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar _createMesh2 = _interopRequireDefault(require(\"./create-mesh\"));\n\nvar _bitmapLayerVertex = _interopRequireDefault(require(\"./bitmap-layer-vertex\"));\n\nvar _bitmapLayerFragment = _interopRequireDefault(require(\"./bitmap-layer-fragment\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar defaultProps = {\n  image: {\n    type: 'image',\n    value: null,\n    async: true\n  },\n  bounds: {\n    type: 'array',\n    value: [1, 0, 0, 1],\n    compare: true\n  },\n  _imageCoordinateSystem: _core.COORDINATE_SYSTEM.DEFAULT,\n  desaturate: {\n    type: 'number',\n    min: 0,\n    max: 1,\n    value: 0\n  },\n  transparentColor: {\n    type: 'color',\n    value: [0, 0, 0, 0]\n  },\n  tintColor: {\n    type: 'color',\n    value: [255, 255, 255]\n  }\n};\n\nvar BitmapLayer = function (_Layer) {\n  (0, _inherits2[\"default\"])(BitmapLayer, _Layer);\n\n  var _super = _createSuper(BitmapLayer);\n\n  function BitmapLayer() {\n    (0, _classCallCheck2[\"default\"])(this, BitmapLayer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(BitmapLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(BitmapLayer.prototype), \"getShaders\", this).call(this, {\n        vs: _bitmapLayerVertex[\"default\"],\n        fs: _bitmapLayerFragment[\"default\"],\n        modules: [_core.project32, _core.picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      var attributeManager = this.getAttributeManager();\n      attributeManager.remove(['instancePickingColors']);\n      var noAlloc = true;\n      attributeManager.add({\n        indices: {\n          size: 1,\n          isIndexed: true,\n          update: function update(attribute) {\n            return attribute.value = _this.state.mesh.indices;\n          },\n          noAlloc: noAlloc\n        },\n        positions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          update: function update(attribute) {\n            return attribute.value = _this.state.mesh.positions;\n          },\n          noAlloc: noAlloc\n        },\n        texCoords: {\n          size: 2,\n          update: function update(attribute) {\n            return attribute.value = _this.state.mesh.texCoords;\n          },\n          noAlloc: noAlloc\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps,\n          changeFlags = _ref.changeFlags;\n\n      if (changeFlags.extensionsChanged) {\n        var gl = this.context.gl;\n\n        if (this.state.model) {\n          this.state.model[\"delete\"]();\n        }\n\n        this.setState({\n          model: this._getModel(gl)\n        });\n        this.getAttributeManager().invalidateAll();\n      }\n\n      var attributeManager = this.getAttributeManager();\n\n      if (props.bounds !== oldProps.bounds) {\n        var oldMesh = this.state.mesh;\n\n        var mesh = this._createMesh();\n\n        this.state.model.setVertexCount(mesh.vertexCount);\n\n        for (var key in mesh) {\n          if (oldMesh && oldMesh[key] !== mesh[key]) {\n            attributeManager.invalidate(key);\n          }\n        }\n\n        this.setState(_objectSpread({\n          mesh: mesh\n        }, this._getCoordinateUniforms()));\n      } else if (props._imageCoordinateSystem !== oldProps._imageCoordinateSystem) {\n        this.setState(this._getCoordinateUniforms());\n      }\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref2) {\n      var info = _ref2.info;\n      var image = this.props.image;\n\n      if (!info.color || !image) {\n        info.bitmap = null;\n        return info;\n      }\n\n      var width = image.width,\n          height = image.height;\n      info.index = 0;\n      var uv = unpackUVsFromRGB(info.color);\n      var pixel = [Math.floor(uv[0] * width), Math.floor(uv[1] * height)];\n      info.bitmap = {\n        size: {\n          width: width,\n          height: height\n        },\n        uv: uv,\n        pixel: pixel\n      };\n      return info;\n    }\n  }, {\n    key: \"_createMesh\",\n    value: function _createMesh() {\n      var bounds = this.props.bounds;\n      var normalizedBounds = bounds;\n\n      if (Number.isFinite(bounds[0])) {\n        normalizedBounds = [[bounds[0], bounds[1]], [bounds[0], bounds[3]], [bounds[2], bounds[3]], [bounds[2], bounds[1]]];\n      }\n\n      return (0, _createMesh2[\"default\"])(normalizedBounds, this.context.viewport.resolution);\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      if (!gl) {\n        return null;\n      }\n\n      return new _core2.Model(gl, Object.assign({}, this.getShaders(), {\n        id: this.props.id,\n        geometry: new _core2.Geometry({\n          drawMode: 4,\n          vertexCount: 6\n        }),\n        isInstanced: false\n      }));\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(opts) {\n      var uniforms = opts.uniforms;\n      var _this$state = this.state,\n          model = _this$state.model,\n          coordinateConversion = _this$state.coordinateConversion,\n          bounds = _this$state.bounds;\n      var _this$props = this.props,\n          image = _this$props.image,\n          desaturate = _this$props.desaturate,\n          transparentColor = _this$props.transparentColor,\n          tintColor = _this$props.tintColor;\n\n      if (image && model) {\n        model.setUniforms(uniforms).setUniforms({\n          bitmapTexture: image,\n          desaturate: desaturate,\n          transparentColor: transparentColor.map(function (x) {\n            return x / 255;\n          }),\n          tintColor: tintColor.slice(0, 3).map(function (x) {\n            return x / 255;\n          }),\n          coordinateConversion: coordinateConversion,\n          bounds: bounds\n        }).draw();\n      }\n    }\n  }, {\n    key: \"_getCoordinateUniforms\",\n    value: function _getCoordinateUniforms() {\n      var LNGLAT = _core.COORDINATE_SYSTEM.LNGLAT,\n          CARTESIAN = _core.COORDINATE_SYSTEM.CARTESIAN,\n          DEFAULT = _core.COORDINATE_SYSTEM.DEFAULT;\n      var imageCoordinateSystem = this.props._imageCoordinateSystem;\n\n      if (imageCoordinateSystem !== DEFAULT) {\n        var bounds = this.props.bounds;\n\n        if (!Number.isFinite(bounds[0])) {\n          throw new Error('_imageCoordinateSystem only supports rectangular bounds');\n        }\n\n        var defaultImageCoordinateSystem = this.context.viewport.resolution ? LNGLAT : CARTESIAN;\n        imageCoordinateSystem = imageCoordinateSystem === LNGLAT ? LNGLAT : CARTESIAN;\n\n        if (imageCoordinateSystem === LNGLAT && defaultImageCoordinateSystem === CARTESIAN) {\n          return {\n            coordinateConversion: -1,\n            bounds: bounds\n          };\n        }\n\n        if (imageCoordinateSystem === CARTESIAN && defaultImageCoordinateSystem === LNGLAT) {\n          var bottomLeft = (0, _webMercator.lngLatToWorld)([bounds[0], bounds[1]]);\n          var topRight = (0, _webMercator.lngLatToWorld)([bounds[2], bounds[3]]);\n          return {\n            coordinateConversion: 1,\n            bounds: [bottomLeft[0], bottomLeft[1], topRight[0], topRight[1]]\n          };\n        }\n      }\n\n      return {\n        coordinateConversion: 0,\n        bounds: [0, 0, 0, 0]\n      };\n    }\n  }]);\n  return BitmapLayer;\n}(_core.Layer);\n\nexports[\"default\"] = BitmapLayer;\nBitmapLayer.layerName = 'BitmapLayer';\nBitmapLayer.defaultProps = defaultProps;\n\nfunction unpackUVsFromRGB(color) {\n  var _color = (0, _slicedToArray2[\"default\"])(color, 3),\n      u = _color[0],\n      v = _color[1],\n      fracUV = _color[2];\n\n  var vFrac = (fracUV & 0xf0) / 256;\n  var uFrac = (fracUV & 0x0f) / 16;\n  return [(u + uFrac) / 256, (v + vFrac) / 256];\n}\n//# sourceMappingURL=bitmap-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","value","_slicedToArray2","_classCallCheck2","_createClass2","_get2","_inherits2","_core","_core2","_webMercator","_createMesh2","_bitmapLayerVertex","_bitmapLayerFragment","defaultProps","image","type","async","bounds","compare","_imageCoordinateSystem","COORDINATE_SYSTEM","DEFAULT","desaturate","min","max","transparentColor","tintColor","BitmapLayer","_Layer","_super","getShaders","vs","fs","modules","project32","picking","initializeState","_this","attributeManager","getAttributeManager","remove","add","indices","size","isIndexed","update","attribute","state","mesh","noAlloc","positions","fp64","use64bitPositions","texCoords","updateState","_ref","props","oldProps","changeFlags","extensionsChanged","gl","context","model","setState","_getModel","invalidateAll","oldMesh","_createMesh","setVertexCount","vertexCount","invalidate","_getCoordinateUniforms","getPickingInfo","_ref2","info","color","bitmap","width","height","index","_color","fracUV","u","v","uv","pixel","Math","floor","normalizedBounds","Number","isFinite","viewport","resolution","Model","assign","id","geometry","Geometry","drawMode","isInstanced","draw","opts","uniforms","_this$state","coordinateConversion","_this$props","setUniforms","bitmapTexture","map","x","slice","LNGLAT","CARTESIAN","imageCoordinateSystem","Error","defaultImageCoordinateSystem","bottomLeft","lngLatToWorld","topRight","Layer","layerName"]
}
