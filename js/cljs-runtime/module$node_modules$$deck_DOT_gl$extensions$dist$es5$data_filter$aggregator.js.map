{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$extensions$dist$es5$data_filter$aggregator.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/extensions/dist/es5/data-filter/aggregator.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$extensions$dist$es5$data_filter$aggregator\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.supportsFloatTarget = supportsFloatTarget;\nexports.getFramebuffer = getFramebuffer;\nexports.getModel = getModel;\nexports.parameters = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar AGGREGATE_VS = \"#define SHADER_NAME data-filter-vertex-shader\\n\\n#ifdef FLOAT_TARGET\\n  attribute float filterIndices;\\n  attribute float filterPrevIndices;\\n#else\\n  attribute vec2 filterIndices;\\n  attribute vec2 filterPrevIndices;\\n#endif\\n\\nvarying vec4 vColor;\\nconst float component = 1.0 / 255.0;\\n\\nvoid main() {\\n  #ifdef FLOAT_TARGET\\n    dataFilter_value *= float(filterIndices != filterPrevIndices);\\n    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\\n    vColor = vec4(0.0, 0.0, 0.0, 1.0);\\n  #else\\n    // Float texture is not supported: pack result into 4 channels x 256 px x 64px\\n    dataFilter_value *= float(filterIndices.x != filterPrevIndices.x);\\n    float col = filterIndices.x;\\n    float row = filterIndices.y * 4.0;\\n    float channel = floor(row);\\n    row = fract(row);\\n    vColor = component * vec4(bvec4(channel == 0.0, channel == 1.0, channel == 2.0, channel == 3.0));\\n    gl_Position = vec4(col * 2.0 - 1.0, row * 2.0 - 1.0, 0.0, 1.0);\\n  #endif\\n  gl_PointSize = 1.0;\\n}\\n\";\nvar AGGREGATE_FS = \"#define SHADER_NAME data-filter-fragment-shader\\nprecision highp float;\\n\\nvarying vec4 vColor;\\n\\nvoid main() {\\n  if (dataFilter_value < 0.5) {\\n    discard;\\n  }\\n  gl_FragColor = vColor;\\n}\\n\";\n\nfunction supportsFloatTarget(gl) {\n  return gl.getExtension('EXT_float_blend') && (gl.getExtension('EXT_color_buffer_float') || gl.getExtension('WEBGL_color_buffer_float'));\n}\n\nfunction getFramebuffer(gl, useFloatTarget) {\n  if (useFloatTarget) {\n    return new _core.Framebuffer(gl, {\n      width: 1,\n      height: 1,\n      attachments: (0, _defineProperty2[\"default\"])({}, 36064, new _core.Texture2D(gl, {\n        format: (0, _core.isWebGL2)(gl) ? 34836 : 6408,\n        type: 5126,\n        mipmaps: false\n      }))\n    });\n  }\n\n  return new _core.Framebuffer(gl, {\n    width: 256,\n    height: 64,\n    depth: false\n  });\n}\n\nfunction getModel(gl, shaderOptions, useFloatTarget) {\n  shaderOptions.defines.NON_INSTANCED_MODEL = 1;\n\n  if (useFloatTarget) {\n    shaderOptions.defines.FLOAT_TARGET = 1;\n  }\n\n  return new _core.Model(gl, _objectSpread({\n    id: 'data-filter-aggregation-model',\n    vertexCount: 1,\n    isInstanced: false,\n    drawMode: 0,\n    vs: AGGREGATE_VS,\n    fs: AGGREGATE_FS\n  }, shaderOptions));\n}\n\nvar parameters = {\n  blend: true,\n  blendFunc: [1, 1, 1, 1],\n  blendEquation: [32774, 32774],\n  depthTest: false\n};\nexports.parameters = parameters;\n//# sourceMappingURL=aggregator.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_interopRequireDefault","value","supportsFloatTarget","gl","getExtension","getFramebuffer","useFloatTarget","_core","Framebuffer","width","height","attachments","Texture2D","format","isWebGL2","type","mipmaps","depth","getModel","shaderOptions","defines","NON_INSTANCED_MODEL","FLOAT_TARGET","Model","id","vertexCount","isInstanced","drawMode","vs","AGGREGATE_VS","fs","AGGREGATE_FS","parameters","blend","blendFunc","blendEquation","depthTest"]
}
