{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$tiles$dist$es5$tileset$traversers$i3s_tilset_traverser.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/tiles/dist/es5/tileset/traversers/i3s-tilset-traverser.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$tiles$dist$es5$tileset$traversers$i3s_tilset_traverser\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _core = require(\"@loaders.gl/core\");\n\nvar _tilesetTraverser = _interopRequireDefault(require(\"./tileset-traverser\"));\n\nvar _i3sLod = require(\"../helpers/i3s-lod\");\n\nvar _tile3d = _interopRequireDefault(require(\"../tile-3d\"));\n\nvar _i3sTileManager = _interopRequireDefault(require(\"./i3s-tile-manager\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar I3STilesetTraverser = function (_TilesetTraverser) {\n  (0, _inherits2[\"default\"])(I3STilesetTraverser, _TilesetTraverser);\n\n  var _super = _createSuper(I3STilesetTraverser);\n\n  function I3STilesetTraverser(options) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, I3STilesetTraverser);\n    _this = _super.call(this, options);\n    _this._tileManager = new _i3sTileManager[\"default\"]();\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(I3STilesetTraverser, [{\n    key: \"shouldRefine\",\n    value: function shouldRefine(tile, frameState) {\n      tile._lodJudge = (0, _i3sLod.lodJudge)(tile, frameState);\n      return tile._lodJudge === 'DIG';\n    }\n  }, {\n    key: \"updateChildTiles\",\n    value: function updateChildTiles(tile, frameState) {\n      var _this2 = this;\n\n      var children = tile.header.children || [];\n      var childTiles = tile.children;\n      var tileset = tile.tileset;\n\n      var _iterator = _createForOfIteratorHelper(children),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var child = _step.value;\n          var childTile = childTiles && childTiles.find(function (t) {\n            return t.id === child.id;\n          });\n\n          if (!childTile) {\n            var request = function request() {\n              return _this2._loadTile(child.id, tileset);\n            };\n\n            var cachedRequest = _this2._tileManager.find(child.id);\n\n            if (!cachedRequest) {\n              if (tileset.tileset.nodePages) {\n                request = function request() {\n                  return tileset.tileset.nodePagesTile.formTileFromNodePages(child.id);\n                };\n              }\n\n              _this2._tileManager.add(request, child.id, function (header) {\n                return _this2._onTileLoad(header, tile);\n              }, frameState);\n            } else {\n              _this2._tileManager.update(child.id, frameState);\n            }\n          } else if (childTile) {\n            _this2.updateTile(childTile, frameState);\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"_loadTile\",\n    value: function () {\n      var _loadTile2 = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(nodeId, tileset) {\n        var loader, nodeUrl, options;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = tileset.loader;\n                nodeUrl = tileset.getTileUrl(\"\".concat(tileset.url, \"/nodes/\").concat(nodeId));\n                options = {\n                  i3s: _objectSpread(_objectSpread({}, tileset.fetchOptions), {}, {\n                    isTileHeader: true,\n                    loadContent: false\n                  })\n                };\n                _context.next = 5;\n                return (0, _core.load)(nodeUrl, loader, options);\n\n              case 5:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function _loadTile(_x, _x2) {\n        return _loadTile2.apply(this, arguments);\n      }\n\n      return _loadTile;\n    }()\n  }, {\n    key: \"_onTileLoad\",\n    value: function _onTileLoad(header, tile) {\n      var basePath = this.options.basePath;\n      var childTile = new _tile3d[\"default\"](tile.tileset, header, tile, basePath);\n      tile.children.push(childTile);\n\n      var frameState = this._tileManager.find(childTile.id).frameState;\n\n      this.updateTile(childTile, frameState);\n\n      if (this._frameNumber === frameState.frameNumber) {\n        this.executeTraversal(childTile, frameState);\n      }\n    }\n  }]);\n  return I3STilesetTraverser;\n}(_tilesetTraverser[\"default\"]);\n\nexports[\"default\"] = I3STilesetTraverser;\n//# sourceMappingURL=i3s-tilset-traverser.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","result","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Date","_interopRequireDefault","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_inherits2","_core","_tilesetTraverser","_i3sLod","_tile3d","_i3sTileManager","I3STilesetTraverser","_TilesetTraverser","options","_this","_super","_tileManager","shouldRefine","tile","frameState","_lodJudge","lodJudge","updateChildTiles","_this2","childTiles","children","tileset","_iterator","header","_step","_loop","child","childTile","find","t","id","updateTile","request","_loadTile","cachedRequest","update","nodePages","nodePagesTile","formTileFromNodePages","add","_onTileLoad","_loadTile2","mark","_callee","nodeId","loader","nodeUrl","wrap","_callee$","_context","prev","getTileUrl","concat","url","i3s","fetchOptions","isTileHeader","loadContent","load","abrupt","sent","stop","_x","_x2","basePath","_frameNumber","frameNumber","executeTraversal"]
}
