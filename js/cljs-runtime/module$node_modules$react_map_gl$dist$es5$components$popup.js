shadow$provide.module$node_modules$react_map_gl$dist$es5$components$popup=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function getPosition(props,viewport,el,_ref){var _ref2=(0,_slicedToArray2["default"])(_ref,2);_ref=_ref2[0];_ref2=
_ref2[1];var anchor=props.anchor,dynamicPosition=props.dynamicPosition;props=props.tipSize;return el?dynamicPosition?(0,_dynamicPosition.getDynamicPosition)({x:_ref,y:_ref2,anchor,padding:props,width:viewport.width,height:viewport.height,selfWidth:el.clientWidth,selfHeight:el.clientHeight}):anchor:anchor}function getContainerStyle(props,viewport,el,_ref3,positionType){var _ref4=(0,_slicedToArray2["default"])(_ref3,3);_ref3=_ref4[0];var y=_ref4[1];_ref4=_ref4[2];var sortByDepth=props.sortByDepth,anchorPosition=
_dynamicPosition.ANCHOR_POSITION[positionType];positionType=_ref3+props.offsetLeft;props=y+props.offsetTop;var xPercentage=(0,_crispPixel.crispPercentage)(el,100*-anchorPosition.x);el=(0,_crispPixel.crispPercentage)(el,100*-anchorPosition.y,"y");el={position:"absolute",transform:"\n      translate(".concat(xPercentage,"%, ").concat(el,"%)\n      translate(").concat((0,_crispPixel.crispPixel)(positionType),"px, ").concat((0,_crispPixel.crispPixel)(props),"px)\n    "),display:void 0,zIndex:void 0};
if(!sortByDepth)return el;1<_ref4||-1>_ref4||0>_ref3||_ref3>viewport.width||0>y||y>viewport.height?el.display="none":el.zIndex=Math.floor((1-_ref4)/2*1E5);return el}function onClick(evt,_ref5){var props=_ref5.props;_ref5=_ref5.context;if(props.closeOnClick||"mapboxgl-popup-close-button"===evt.target.className)if(props.onClose(),_ref5.eventManager)_ref5.eventManager.once("click",function(e){return e.stopPropagation()},evt.target)}function Popup(props){var contentRef=(0,React.useRef)(null),thisRef=
(0,_useMapControl["default"])(_objectSpread(_objectSpread({},props),{},{onClick})),context=thisRef.context,containerRef=thisRef.containerRef,_useState=(0,React.useState)(!1),setLoaded=(0,_slicedToArray2["default"])(_useState,2)[1];(0,React.useEffect)(function(){setLoaded(!0)},[contentRef.current]);var viewport=context.viewport;_useState=props.className;var tipSize=props.tipSize,closeButton=props.closeButton,children=props.children,position=viewport.project([props.longitude,props.latitude,props.altitude]),
positionType=getPosition(props,viewport,contentRef.current,position);props=getContainerStyle(props,viewport,containerRef.current,position,positionType);viewport=(0,React.useCallback)(function(e){return!context.eventManager&&onClick(e,thisRef)},[context.eventManager]);return React.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(positionType," ").concat(_useState),style:props,ref:containerRef},React.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:tipSize}}),
React.createElement("div",{key:"content",ref:contentRef,className:"mapboxgl-popup-content",onClick:viewport},closeButton&&React.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"Ã—"),children))}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=
module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index"));module=global(require("module$node_modules$prop_types$index"));var _useMapControl=global(require("module$node_modules$react_map_gl$dist$es5$components$use_map_control")),_dynamicPosition=require("module$node_modules$react_map_gl$dist$es5$utils$dynamic_position"),_crispPixel=
require("module$node_modules$react_map_gl$dist$es5$utils$crisp_pixel");require=Object.assign({},_useMapControl.mapControlPropTypes,{className:module.string,longitude:module.number.isRequired,latitude:module.number.isRequired,altitude:module.number,offsetLeft:module.number,offsetTop:module.number,tipSize:module.number,closeButton:module.bool,closeOnClick:module.bool,anchor:module.oneOf(Object.keys(_dynamicPosition.ANCHOR_POSITION)),dynamicPosition:module.bool,sortByDepth:module.bool,onClose:module.func});
global=Object.assign({},_useMapControl.mapControlDefaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});Popup.propTypes=require;Popup.defaultProps=global;require=React.memo(Popup);exports["default"]=require}
//# sourceMappingURL=module$node_modules$react_map_gl$dist$es5$components$popup.js.map
