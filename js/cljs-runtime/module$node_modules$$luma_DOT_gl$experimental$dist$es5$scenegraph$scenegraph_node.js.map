{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$experimental$dist$es5$scenegraph$scenegraph_node.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/experimental/dist/es5/scenegraph/scenegraph-node.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$experimental$dist$es5$scenegraph$scenegraph_node\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _core = require(\"@math.gl/core\");\n\nvar _webgl = require(\"@luma.gl/webgl\");\n\nvar ScenegraphNode = function () {\n  function ScenegraphNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, ScenegraphNode);\n    var id = props.id;\n    this.id = id || (0, _webgl.uid)(this.constructor.name);\n    this.display = true;\n    this.position = new _core.Vector3();\n    this.rotation = new _core.Vector3();\n    this.scale = new _core.Vector3(1, 1, 1);\n    this.matrix = new _core.Matrix4();\n    this.userData = {};\n    this.props = {};\n\n    this._setScenegraphNodeProps(props);\n  }\n\n  (0, _createClass2[\"default\"])(ScenegraphNode, [{\n    key: \"delete\",\n    value: function _delete() {}\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._setScenegraphNodeProps(props);\n\n      return this;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"{type: ScenegraphNode, id: \".concat(this.id, \")}\");\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(position) {\n      (0, _webgl.assert)(position.length === 3, 'setPosition requires vector argument');\n      this.position = position;\n      return this;\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(rotation) {\n      (0, _webgl.assert)(rotation.length === 3, 'setRotation requires vector argument');\n      this.rotation = rotation;\n      return this;\n    }\n  }, {\n    key: \"setScale\",\n    value: function setScale(scale) {\n      (0, _webgl.assert)(scale.length === 3, 'setScale requires vector argument');\n      this.scale = scale;\n      return this;\n    }\n  }, {\n    key: \"setMatrix\",\n    value: function setMatrix(matrix) {\n      var copyMatrix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (copyMatrix) {\n        this.matrix.copy(matrix);\n      } else {\n        this.matrix = matrix;\n      }\n    }\n  }, {\n    key: \"setMatrixComponents\",\n    value: function setMatrixComponents(_ref) {\n      var position = _ref.position,\n          rotation = _ref.rotation,\n          scale = _ref.scale,\n          _ref$update = _ref.update,\n          update = _ref$update === void 0 ? true : _ref$update;\n\n      if (position) {\n        this.setPosition(position);\n      }\n\n      if (rotation) {\n        this.setRotation(rotation);\n      }\n\n      if (scale) {\n        this.setScale(scale);\n      }\n\n      if (update) {\n        this.updateMatrix();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"updateMatrix\",\n    value: function updateMatrix() {\n      var pos = this.position;\n      var rot = this.rotation;\n      var scale = this.scale;\n      this.matrix.identity();\n      this.matrix.translate(pos);\n      this.matrix.rotateXYZ(rot);\n      this.matrix.scale(scale);\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var position = options.position,\n          rotation = options.rotation,\n          scale = options.scale;\n\n      if (position) {\n        this.setPosition(position);\n      }\n\n      if (rotation) {\n        this.setRotation(rotation);\n      }\n\n      if (scale) {\n        this.setScale(scale);\n      }\n\n      this.updateMatrix();\n      return this;\n    }\n  }, {\n    key: \"getCoordinateUniforms\",\n    value: function getCoordinateUniforms(viewMatrix, modelMatrix) {\n      (0, _webgl.assert)(viewMatrix);\n      modelMatrix = modelMatrix || this.matrix;\n      var worldMatrix = new _core.Matrix4(viewMatrix).multiplyRight(modelMatrix);\n      var worldInverse = worldMatrix.invert();\n      var worldInverseTranspose = worldInverse.transpose();\n      return {\n        viewMatrix: viewMatrix,\n        modelMatrix: modelMatrix,\n        objectMatrix: modelMatrix,\n        worldMatrix: worldMatrix,\n        worldInverseMatrix: worldInverse,\n        worldInverseTransposeMatrix: worldInverseTranspose\n      };\n    }\n  }, {\n    key: \"_setScenegraphNodeProps\",\n    value: function _setScenegraphNodeProps(props) {\n      if ('display' in props) {\n        this.display = props.display;\n      }\n\n      if ('position' in props) {\n        this.setPosition(props.position);\n      }\n\n      if ('rotation' in props) {\n        this.setRotation(props.rotation);\n      }\n\n      if ('scale' in props) {\n        this.setScale(props.scale);\n      }\n\n      if ('matrix' in props) {\n        this.setMatrix(props.matrix);\n      }\n\n      Object.assign(this.props, props);\n    }\n  }]);\n  return ScenegraphNode;\n}();\n\nexports[\"default\"] = ScenegraphNode;\n//# sourceMappingURL=scenegraph-node.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_core","_webgl","ScenegraphNode","props","arguments","length","undefined","id","uid","constructor","name","display","position","Vector3","rotation","scale","matrix","Matrix4","userData","_setScenegraphNodeProps","key","_delete","setProps","toString","concat","setPosition","assert","setRotation","setScale","setMatrix","copyMatrix","copy","setMatrixComponents","_ref","_ref$update","update","updateMatrix","pos","rot","identity","translate","rotateXYZ","options","getCoordinateUniforms","viewMatrix","modelMatrix","worldMatrix","multiplyRight","worldInverse","invert","worldInverseTranspose","transpose","objectMatrix","worldInverseMatrix","worldInverseTransposeMatrix","assign"]
}
