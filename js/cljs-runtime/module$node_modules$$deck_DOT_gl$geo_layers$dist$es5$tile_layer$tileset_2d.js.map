{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$tileset_2d.js",
"lineCount":21,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/geo-layers/dist/es5/tile-layer/tileset-2d.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$tileset_2d\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.STRATEGY_DEFAULT = exports.STRATEGY_REPLACE = exports.STRATEGY_NEVER = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _tile2dHeader = _interopRequireDefault(require(\"./tile-2d-header\"));\n\nvar _utils = require(\"./utils\");\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nvar _math = require(\"math.gl\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar TILE_STATE_UNKNOWN = 0;\nvar TILE_STATE_VISIBLE = 1;\nvar TILE_STATE_PLACEHOLDER = 3;\nvar TILE_STATE_HIDDEN = 4;\nvar TILE_STATE_SELECTED = 5;\nvar STRATEGY_NEVER = 'never';\nexports.STRATEGY_NEVER = STRATEGY_NEVER;\nvar STRATEGY_REPLACE = 'no-overlap';\nexports.STRATEGY_REPLACE = STRATEGY_REPLACE;\nvar STRATEGY_DEFAULT = 'best-available';\nexports.STRATEGY_DEFAULT = STRATEGY_DEFAULT;\nvar DEFAULT_CACHE_SCALE = 5;\n\nvar Tileset2D = function () {\n  function Tileset2D(opts) {\n    var _this = this;\n\n    (0, _classCallCheck2[\"default\"])(this, Tileset2D);\n    this.opts = opts;\n    this._getTileData = opts.getTileData;\n    this.onTileError = opts.onTileError;\n\n    this.onTileLoad = function (tile) {\n      opts.onTileLoad(tile);\n\n      if (_this.opts.maxCacheByteSize) {\n        _this._cacheByteSize += tile.byteLength;\n\n        _this._resizeCache();\n      }\n    };\n\n    this.onTileUnload = opts.onTileUnload;\n    this._requestScheduler = new _loaderUtils.RequestScheduler({\n      maxRequests: opts.maxRequests,\n      throttleRequests: opts.maxRequests > 0\n    });\n    this._cache = new Map();\n    this._tiles = [];\n    this._dirty = false;\n    this._cacheByteSize = 0;\n    this._viewport = null;\n    this._selectedTiles = null;\n    this._frameNumber = 0;\n    this.setOptions(opts);\n  }\n\n  (0, _createClass2[\"default\"])(Tileset2D, [{\n    key: \"setOptions\",\n    value: function setOptions(opts) {\n      Object.assign(this.opts, opts);\n\n      if (Number.isFinite(opts.maxZoom)) {\n        this._maxZoom = Math.floor(opts.maxZoom);\n      }\n\n      if (Number.isFinite(opts.minZoom)) {\n        this._minZoom = Math.ceil(opts.minZoom);\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var _iterator = _createForOfIteratorHelper(this._cache.values()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var tile = _step.value;\n\n          if (tile.isLoading) {\n            tile.abort();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(viewport) {\n      var _this2 = this;\n\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          zRange = _ref.zRange,\n          modelMatrix = _ref.modelMatrix;\n\n      var modelMatrixAsMatrix4 = new _math.Matrix4(modelMatrix);\n      var isModelMatrixNew = !modelMatrixAsMatrix4.equals(this._modelMatrix);\n\n      if (!viewport.equals(this._viewport) || isModelMatrixNew) {\n        if (isModelMatrixNew) {\n          this._modelMatrixInverse = modelMatrix && modelMatrixAsMatrix4.clone().invert();\n          this._modelMatrix = modelMatrix && modelMatrixAsMatrix4;\n        }\n\n        this._viewport = viewport;\n        var tileIndices = this.getTileIndices({\n          viewport: viewport,\n          maxZoom: this._maxZoom,\n          minZoom: this._minZoom,\n          zRange: zRange,\n          modelMatrix: this._modelMatrix,\n          modelMatrixInverse: this._modelMatrixInverse\n        });\n        this._selectedTiles = tileIndices.map(function (index) {\n          return _this2._getTile(index, true);\n        });\n\n        if (this._dirty) {\n          this._rebuildTree();\n        }\n      }\n\n      var changed = this.updateTileStates();\n\n      if (this._dirty) {\n        this._resizeCache();\n      }\n\n      if (changed) {\n        this._frameNumber++;\n      }\n\n      return this._frameNumber;\n    }\n  }, {\n    key: \"getTileIndices\",\n    value: function getTileIndices(_ref2) {\n      var viewport = _ref2.viewport,\n          maxZoom = _ref2.maxZoom,\n          minZoom = _ref2.minZoom,\n          zRange = _ref2.zRange,\n          modelMatrix = _ref2.modelMatrix,\n          modelMatrixInverse = _ref2.modelMatrixInverse;\n      var _this$opts = this.opts,\n          tileSize = _this$opts.tileSize,\n          extent = _this$opts.extent;\n      return (0, _utils.getTileIndices)({\n        viewport: viewport,\n        maxZoom: maxZoom,\n        minZoom: minZoom,\n        zRange: zRange,\n        tileSize: tileSize,\n        extent: extent,\n        modelMatrix: modelMatrix,\n        modelMatrixInverse: modelMatrixInverse\n      });\n    }\n  }, {\n    key: \"getTileMetadata\",\n    value: function getTileMetadata(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          z = _ref3.z;\n      return {\n        bbox: (0, _utils.tileToBoundingBox)(this._viewport, x, y, z)\n      };\n    }\n  }, {\n    key: \"getParentIndex\",\n    value: function getParentIndex(tileIndex) {\n      tileIndex.x = Math.floor(tileIndex.x / 2);\n      tileIndex.y = Math.floor(tileIndex.y / 2);\n      tileIndex.z -= 1;\n      return tileIndex;\n    }\n  }, {\n    key: \"updateTileStates\",\n    value: function updateTileStates() {\n      this._updateTileStates(this.selectedTiles);\n\n      var maxRequests = this.opts.maxRequests;\n      var abortCandidates = [];\n      var ongoingRequestCount = 0;\n      var changed = false;\n\n      var _iterator2 = _createForOfIteratorHelper(this._cache.values()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _tile = _step2.value;\n          var isVisible = Boolean(_tile.state & TILE_STATE_VISIBLE);\n\n          if (_tile.isVisible !== isVisible) {\n            changed = true;\n            _tile.isVisible = isVisible;\n          }\n\n          _tile.isSelected = _tile.state === TILE_STATE_SELECTED;\n\n          if (_tile.isLoading) {\n            ongoingRequestCount++;\n\n            if (!_tile.isSelected) {\n              abortCandidates.push(_tile);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (maxRequests > 0) {\n        while (ongoingRequestCount > maxRequests && abortCandidates.length > 0) {\n          var tile = abortCandidates.shift();\n          tile.abort();\n          ongoingRequestCount--;\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_rebuildTree\",\n    value: function _rebuildTree() {\n      var _cache = this._cache;\n\n      var _iterator3 = _createForOfIteratorHelper(_cache.values()),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var tile = _step3.value;\n          tile.parent = null;\n          tile.children.length = 0;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      var _iterator4 = _createForOfIteratorHelper(_cache.values()),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _tile2 = _step4.value;\n\n          var parent = this._getNearestAncestor(_tile2.x, _tile2.y, _tile2.z);\n\n          _tile2.parent = parent;\n\n          if (parent) {\n            parent.children.push(_tile2);\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"_updateTileStates\",\n    value: function _updateTileStates(selectedTiles) {\n      var _cache = this._cache;\n      var refinementStrategy = this.opts.refinementStrategy || STRATEGY_DEFAULT;\n\n      var _iterator5 = _createForOfIteratorHelper(_cache.values()),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var tile = _step5.value;\n          tile.state = TILE_STATE_UNKNOWN;\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      var _iterator6 = _createForOfIteratorHelper(selectedTiles),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _tile3 = _step6.value;\n          _tile3.state = TILE_STATE_SELECTED;\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      if (refinementStrategy === STRATEGY_NEVER) {\n        return;\n      }\n\n      var _iterator7 = _createForOfIteratorHelper(selectedTiles),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var _tile4 = _step7.value;\n          getPlaceholderInAncestors(_tile4, refinementStrategy);\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      var _iterator8 = _createForOfIteratorHelper(selectedTiles),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var _tile5 = _step8.value;\n\n          if (needsPlaceholder(_tile5)) {\n            getPlaceholderInChildren(_tile5);\n          }\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n    }\n  }, {\n    key: \"_resizeCache\",\n    value: function _resizeCache() {\n      var _cache = this._cache,\n          opts = this.opts;\n      var maxCacheSize = opts.maxCacheSize || (opts.maxCacheByteSize ? Infinity : DEFAULT_CACHE_SCALE * this.selectedTiles.length);\n      var maxCacheByteSize = opts.maxCacheByteSize || Infinity;\n      var overflown = _cache.size > maxCacheSize || this._cacheByteSize > maxCacheByteSize;\n\n      if (overflown) {\n        var _iterator9 = _createForOfIteratorHelper(_cache),\n            _step9;\n\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var _step9$value = (0, _slicedToArray2[\"default\"])(_step9.value, 2),\n                tileId = _step9$value[0],\n                tile = _step9$value[1];\n\n            if (!tile.isVisible) {\n              this._cacheByteSize -= opts.maxCacheByteSize ? tile.byteLength : 0;\n\n              _cache[\"delete\"](tileId);\n\n              this.onTileUnload(tile);\n            }\n\n            if (_cache.size <= maxCacheSize && this._cacheByteSize <= maxCacheByteSize) {\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n\n        this._rebuildTree();\n\n        this._dirty = true;\n      }\n\n      if (this._dirty) {\n        this._tiles = Array.from(this._cache.values()).sort(function (t1, t2) {\n          return t1.z - t2.z;\n        });\n        this._dirty = false;\n      }\n    }\n  }, {\n    key: \"_getTile\",\n    value: function _getTile(_ref4, create) {\n      var x = _ref4.x,\n          y = _ref4.y,\n          z = _ref4.z;\n      var tileId = \"\".concat(x, \",\").concat(y, \",\").concat(z);\n\n      var tile = this._cache.get(tileId);\n\n      if (!tile && create) {\n        tile = new _tile2dHeader[\"default\"]({\n          x: x,\n          y: y,\n          z: z,\n          onTileLoad: this.onTileLoad,\n          onTileError: this.onTileError\n        });\n        Object.assign(tile, this.getTileMetadata(tile));\n        tile.loadData(this._getTileData, this._requestScheduler);\n\n        this._cache.set(tileId, tile);\n\n        this._dirty = true;\n      } else if (tile && tile.isCancelled && !tile.isLoading) {\n        tile.loadData(this._getTileData, this._requestScheduler);\n      }\n\n      return tile;\n    }\n  }, {\n    key: \"_getNearestAncestor\",\n    value: function _getNearestAncestor(x, y, z) {\n      var _this$_minZoom = this._minZoom,\n          _minZoom = _this$_minZoom === void 0 ? 0 : _this$_minZoom;\n\n      var index = {\n        x: x,\n        y: y,\n        z: z\n      };\n\n      while (index.z > _minZoom) {\n        index = this.getParentIndex(index);\n\n        var parent = this._getTile(index);\n\n        if (parent) {\n          return parent;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"tiles\",\n    get: function get() {\n      return this._tiles;\n    }\n  }, {\n    key: \"selectedTiles\",\n    get: function get() {\n      return this._selectedTiles;\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return this._selectedTiles.every(function (tile) {\n        return tile.isLoaded;\n      });\n    }\n  }]);\n  return Tileset2D;\n}();\n\nexports[\"default\"] = Tileset2D;\n\nfunction needsPlaceholder(tile) {\n  var t = tile;\n\n  while (t) {\n    if (t.state & TILE_STATE_VISIBLE === 0) {\n      return true;\n    }\n\n    if (t.isLoaded) {\n      return false;\n    }\n\n    t = t.parent;\n  }\n\n  return true;\n}\n\nfunction getPlaceholderInAncestors(tile, refinementStrategy) {\n  var parent;\n  var state = TILE_STATE_PLACEHOLDER;\n\n  while (parent = tile.parent) {\n    if (tile.isLoaded) {\n      state = TILE_STATE_HIDDEN;\n\n      if (refinementStrategy === STRATEGY_DEFAULT) {\n        return;\n      }\n    }\n\n    parent.state = Math.max(parent.state, state);\n    tile = parent;\n  }\n}\n\nfunction getPlaceholderInChildren(tile) {\n  var _iterator10 = _createForOfIteratorHelper(tile.children),\n      _step10;\n\n  try {\n    for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n      var child = _step10.value;\n      child.state = Math.max(child.state, TILE_STATE_PLACEHOLDER);\n\n      if (!child.isLoaded) {\n        getPlaceholderInChildren(child);\n      }\n    }\n  } catch (err) {\n    _iterator10.e(err);\n  } finally {\n    _iterator10.f();\n  }\n}\n//# sourceMappingURL=tileset-2d.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","getPlaceholderInChildren","tile","_iterator10","children","_step10","child","state","Math","max","TILE_STATE_PLACEHOLDER","isLoaded","_interopRequireDefault","defineProperty","STRATEGY_DEFAULT","STRATEGY_REPLACE","STRATEGY_NEVER","_slicedToArray2","_classCallCheck2","_createClass2","_tile2dHeader","_utils","_loaderUtils","_math","Tileset2D","opts","_this","_getTileData","getTileData","onTileError","onTileLoad","this.onTileLoad","maxCacheByteSize","_cacheByteSize","byteLength","_resizeCache","onTileUnload","_requestScheduler","RequestScheduler","maxRequests","throttleRequests","_cache","Map","_tiles","_dirty","_selectedTiles","_viewport","_frameNumber","setOptions","key","assign","Number","isFinite","maxZoom","_maxZoom","floor","minZoom","_minZoom","ceil","finalize","_iterator","values","_step","isLoading","abort","update","viewport","_this2","_ref","arguments","undefined","zRange","modelMatrix","modelMatrixAsMatrix4","Matrix4","isModelMatrixNew","equals","_modelMatrix","_modelMatrixInverse","clone","invert","tileIndices","getTileIndices","modelMatrixInverse","map","index","_getTile","_rebuildTree","changed","updateTileStates","_ref2","_this$opts","tileSize","extent","getTileMetadata","_ref3","x","y","z","bbox","tileToBoundingBox","getParentIndex","tileIndex","_updateTileStates","selectedTiles","abortCandidates","ongoingRequestCount","_iterator2","_step2","_tile","isVisible","TILE_STATE_VISIBLE","isSelected","TILE_STATE_SELECTED","push","shift","_iterator3","_step3","parent","_iterator4","_step4","_tile2","_getNearestAncestor","refinementStrategy","_iterator5","_step5","TILE_STATE_UNKNOWN","_iterator6","_step6","_iterator7","_step7","_tile4","TILE_STATE_HIDDEN","_iterator8","_step8","_tile5","t","maxCacheSize","Infinity","DEFAULT_CACHE_SCALE","size","_iterator9","_step9","_step9$value","tileId","sort","t1","t2","_ref4","create","concat","get","loadData","set","isCancelled","_this$_minZoom","every"]
}
