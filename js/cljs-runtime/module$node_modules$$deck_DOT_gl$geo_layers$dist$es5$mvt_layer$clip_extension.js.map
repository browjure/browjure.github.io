{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$mvt_layer$clip_extension.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/geo-layers/dist/es5/mvt-layer/clip-extension.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$mvt_layer$clip_extension\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar defaultProps = {\n  clipBounds: [0, 0, 1, 1]\n};\nvar shaderFunction = \"\\nuniform vec4 clip_bounds;\\n\\nbool clip_isInBounds(vec2 position) {\\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\\n}\\n\";\nvar shaderModuleVs = {\n  name: 'clip-vs',\n  vs: shaderFunction\n};\nvar injectionVs = {\n  'vs:#decl': \"\\nvarying float clip_isVisible;\\n\",\n  'vs:DECKGL_FILTER_GL_POSITION': \"\\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\\n\",\n  'fs:#decl': \"\\nvarying float clip_isVisible;\\n\",\n  'fs:DECKGL_FILTER_COLOR': \"\\n  if (clip_isVisible < 0.5) discard;\\n\"\n};\nvar shaderModuleFs = {\n  name: 'clip-fs',\n  fs: shaderFunction\n};\nvar injectionFs = {\n  'vs:#decl': \"\\nvarying vec2 clip_commonPosition;\\n\",\n  'vs:DECKGL_FILTER_GL_POSITION': \"\\n  clip_commonPosition = geometry.position.xy;\\n\",\n  'fs:#decl': \"\\nvarying vec2 clip_commonPosition;\\n\",\n  'fs:DECKGL_FILTER_COLOR': \"\\n  if (!clip_isInBounds(clip_commonPosition)) discard;\\n\"\n};\n\nvar ClipExtension = function (_LayerExtension) {\n  (0, _inherits2[\"default\"])(ClipExtension, _LayerExtension);\n\n  var _super = _createSuper(ClipExtension);\n\n  function ClipExtension() {\n    (0, _classCallCheck2[\"default\"])(this, ClipExtension);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(ClipExtension, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      var clipByInstance = ('instancePositions' in this.getAttributeManager().attributes);\n\n      if ('clipByInstance' in this.props) {\n        clipByInstance = this.props.clipByInstance;\n      }\n\n      this.state.clipByInstance = clipByInstance;\n      return clipByInstance ? {\n        modules: [shaderModuleVs],\n        inject: injectionVs\n      } : {\n        modules: [shaderModuleFs],\n        inject: injectionFs\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref) {\n      var uniforms = _ref.uniforms;\n      var _this$props$clipBound = this.props.clipBounds,\n          clipBounds = _this$props$clipBound === void 0 ? defaultProps.clipBounds : _this$props$clipBound;\n\n      if (this.state.clipByInstance) {\n        uniforms.clip_bounds = clipBounds;\n      } else {\n        var corner0 = this.projectPosition([clipBounds[0], clipBounds[1], 0]);\n        var corner1 = this.projectPosition([clipBounds[2], clipBounds[3], 0]);\n        uniforms.clip_bounds = [Math.min(corner0[0], corner1[0]), Math.min(corner0[1], corner1[1]), Math.max(corner0[0], corner1[0]), Math.max(corner0[1], corner1[1])];\n      }\n    }\n  }]);\n  return ClipExtension;\n}(_core.LayerExtension);\n\nexports[\"default\"] = ClipExtension;\nClipExtension.extensionName = 'ClipExtension';\nClipExtension.defaultProps = defaultProps;\n//# sourceMappingURL=clip-extension.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_inherits2","defaultProps","clipBounds","shaderModuleVs","name","vs","shaderFunction","injectionVs","shaderModuleFs","fs","injectionFs","ClipExtension","_LayerExtension","_super","key","getShaders","clipByInstance","getAttributeManager","attributes","props","state","modules","inject","draw","_ref","uniforms","_this$props$clipBound","clip_bounds","corner0","projectPosition","corner1","Math","min","max","_core","LayerExtension","extensionName"]
}
