{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$mvt$dist$es5$lib$mapbox_vector_tile$vector_tile_feature.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/mvt/dist/es5/lib/mapbox-vector-tile/vector-tile-feature.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$mvt$dist$es5$lib$mapbox_vector_tile$vector_tile_feature\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _pointGeometry = _interopRequireDefault(require(\"@mapbox/point-geometry\"));\n\nvar VectorTileFeature = function () {\n  (0, _createClass2[\"default\"])(VectorTileFeature, null, [{\n    key: \"types\",\n    get: function get() {\n      return ['Unknown', 'Point', 'LineString', 'Polygon'];\n    }\n  }]);\n\n  function VectorTileFeature(pbf, end, extent, keys, values) {\n    (0, _classCallCheck2[\"default\"])(this, VectorTileFeature);\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n    pbf.readFields(readFeature, this, end);\n  }\n\n  (0, _createClass2[\"default\"])(VectorTileFeature, [{\n    key: \"loadGeometry\",\n    value: function loadGeometry() {\n      var pbf = this._pbf;\n      pbf.pos = this._geometry;\n      var end = pbf.readVarint() + pbf.pos;\n      var cmd = 1;\n      var length = 0;\n      var x = 0;\n      var y = 0;\n      var lines = [];\n      var line;\n\n      while (pbf.pos < end) {\n        if (length <= 0) {\n          var cmdLen = pbf.readVarint();\n          cmd = cmdLen & 0x7;\n          length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n          x += pbf.readSVarint();\n          y += pbf.readSVarint();\n\n          if (cmd === 1) {\n            if (line) lines.push(line);\n            line = [];\n          }\n\n          line.push(new _pointGeometry[\"default\"](x, y));\n        } else if (cmd === 7) {\n          if (line) {\n            line.push(line[0].clone());\n          }\n        } else {\n          throw new Error(\"unknown command \".concat(cmd));\n        }\n      }\n\n      if (line) lines.push(line);\n      return lines;\n    }\n  }, {\n    key: \"bbox\",\n    value: function bbox() {\n      var pbf = this._pbf;\n      pbf.pos = this._geometry;\n      var end = pbf.readVarint() + pbf.pos;\n      var cmd = 1;\n      var length = 0;\n      var x = 0;\n      var y = 0;\n      var x1 = Infinity;\n      var x2 = -Infinity;\n      var y1 = Infinity;\n      var y2 = -Infinity;\n\n      while (pbf.pos < end) {\n        if (length <= 0) {\n          var cmdLen = pbf.readVarint();\n          cmd = cmdLen & 0x7;\n          length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n          x += pbf.readSVarint();\n          y += pbf.readSVarint();\n          if (x < x1) x1 = x;\n          if (x > x2) x2 = x;\n          if (y < y1) y1 = y;\n          if (y > y2) y2 = y;\n        } else if (cmd !== 7) {\n          throw new Error(\"unknown command \".concat(cmd));\n        }\n      }\n\n      return [x1, y1, x2, y2];\n    }\n  }, {\n    key: \"toGeoJSON\",\n    value: function toGeoJSON(x, y, z) {\n      var size = this.extent * Math.pow(2, z);\n      var x0 = this.extent * x;\n      var y0 = this.extent * y;\n      var coords = this.loadGeometry();\n      var type = VectorTileFeature.types[this.type];\n      var i;\n      var j;\n\n      function project(line) {\n        for (var _j = 0; _j < line.length; _j++) {\n          var p = line[_j];\n          var y2 = 180 - (p.y + y0) * 360 / size;\n          line[_j] = [(p.x + x0) * 360 / size - 180, 360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90];\n        }\n      }\n\n      switch (this.type) {\n        case 1:\n          var points = [];\n\n          for (i = 0; i < coords.length; i++) {\n            points[i] = coords[i][0];\n          }\n\n          coords = points;\n          project(coords);\n          break;\n\n        case 2:\n          for (i = 0; i < coords.length; i++) {\n            project(coords[i]);\n          }\n\n          break;\n\n        case 3:\n          coords = classifyRings(coords);\n\n          for (i = 0; i < coords.length; i++) {\n            for (j = 0; j < coords[i].length; j++) {\n              project(coords[i][j]);\n            }\n          }\n\n          break;\n      }\n\n      if (coords.length === 1) {\n        coords = coords[0];\n      } else {\n        type = \"Multi\".concat(type);\n      }\n\n      var result = {\n        type: 'Feature',\n        geometry: {\n          type: type,\n          coordinates: coords\n        },\n        properties: this.properties\n      };\n\n      if ('id' in this) {}\n\n      return result;\n    }\n  }]);\n  return VectorTileFeature;\n}();\n\nexports[\"default\"] = VectorTileFeature;\n\nfunction classifyRings(rings) {\n  var len = rings.length;\n  if (len <= 1) return [rings];\n  var polygons = [];\n  var polygon;\n  var ccw;\n\n  for (var i = 0; i < len; i++) {\n    var area = signedArea(rings[i]);\n    if (area === 0) continue;\n    if (ccw === undefined) ccw = area < 0;\n\n    if (ccw === area < 0) {\n      if (polygon) polygons.push(polygon);\n      polygon = [rings[i]];\n    } else {\n      polygon.push(rings[i]);\n    }\n  }\n\n  if (polygon) polygons.push(polygon);\n  return polygons;\n}\n\nfunction signedArea(ring) {\n  var sum = 0;\n\n  for (var i = 0, j = ring.length - 1, p1, p2; i < ring.length; j = i++) {\n    p1 = ring[i];\n    p2 = ring[j];\n    sum += (p2.x - p1.x) * (p1.y + p2.y);\n  }\n\n  return sum;\n}\n\nfunction readFeature(tag, feature, pbf) {\n  if (tag === 1) feature.id = pbf.readVarint();else if (tag === 2) readTag(pbf, feature);else if (tag === 3) feature.type = pbf.readVarint();else if (tag === 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n  var end = pbf.readVarint() + pbf.pos;\n\n  while (pbf.pos < end) {\n    var key = feature._keys[pbf.readVarint()];\n\n    var value = feature._values[pbf.readVarint()];\n\n    feature.properties[key] = value;\n  }\n}\n//# sourceMappingURL=vector-tile-feature.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","classifyRings","rings","len","length","polygons","polygon","ccw","i","p2","sum","j","ring","p1","x","y","area","undefined","push","readFeature","tag","feature","pbf","id","readVarint","end","pos","key","_keys","value","_values","properties","type","_geometry","_interopRequireDefault","Object","defineProperty","_classCallCheck2","_createClass2","_pointGeometry","VectorTileFeature","extent","keys","values","_pbf","readFields","get","loadGeometry","cmd","lines","line","cmdLen","readSVarint","clone","Error","concat","bbox","x1","Infinity","x2","y1","y2","toGeoJSON","z","project","_j","p","x0","size","Math","PI","atan","exp","y0","pow","coords","types","points","result","geometry","coordinates"]
}
