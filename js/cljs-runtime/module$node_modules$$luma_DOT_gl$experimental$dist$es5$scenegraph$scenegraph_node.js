shadow$provide.module$node_modules$$luma_DOT_gl$experimental$dist$es5$scenegraph$scenegraph_node=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_core=require("module$node_modules$$math_DOT_gl$core$dist$es5$index"),
_webgl=require("module$node_modules$$luma_DOT_gl$webgl$dist$es5$index");require=function(){function ScenegraphNode(){var props=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,_classCallCheck2["default"])(this,ScenegraphNode);this.id=props.id||(0,_webgl.uid)(this.constructor.name);this.display=!0;this.position=new _core.Vector3;this.rotation=new _core.Vector3;this.scale=new _core.Vector3(1,1,1);this.matrix=new _core.Matrix4;this.userData={};this.props={};this._setScenegraphNodeProps(props)}
(0,_createClass2["default"])(ScenegraphNode,[{key:"delete",value:function(){}},{key:"setProps",value:function(props){this._setScenegraphNodeProps(props);return this}},{key:"toString",value:function(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}},{key:"setPosition",value:function(position){(0,_webgl.assert)(3===position.length,"setPosition requires vector argument");this.position=position;return this}},{key:"setRotation",value:function(rotation){(0,_webgl.assert)(3===rotation.length,"setRotation requires vector argument");
this.rotation=rotation;return this}},{key:"setScale",value:function(scale){(0,_webgl.assert)(3===scale.length,"setScale requires vector argument");this.scale=scale;return this}},{key:"setMatrix",value:function(matrix){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?this.matrix.copy(matrix):this.matrix=matrix}},{key:"setMatrixComponents",value:function(_ref){var position=_ref.position,rotation=_ref.rotation,scale=_ref.scale;_ref=_ref.update;_ref=void 0===_ref?!0:_ref;position&&this.setPosition(position);
rotation&&this.setRotation(rotation);scale&&this.setScale(scale);_ref&&this.updateMatrix();return this}},{key:"updateMatrix",value:function(){var pos=this.position,rot=this.rotation,scale=this.scale;this.matrix.identity();this.matrix.translate(pos);this.matrix.rotateXYZ(rot);this.matrix.scale(scale);return this}},{key:"update",value:function(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},position=options.position,rotation=options.rotation;options=options.scale;position&&this.setPosition(position);
rotation&&this.setRotation(rotation);options&&this.setScale(options);this.updateMatrix();return this}},{key:"getCoordinateUniforms",value:function(viewMatrix,modelMatrix){(0,_webgl.assert)(viewMatrix);modelMatrix=modelMatrix||this.matrix;var worldMatrix=(new _core.Matrix4(viewMatrix)).multiplyRight(modelMatrix),worldInverse=worldMatrix.invert(),worldInverseTranspose=worldInverse.transpose();return{viewMatrix,modelMatrix,objectMatrix:modelMatrix,worldMatrix,worldInverseMatrix:worldInverse,worldInverseTransposeMatrix:worldInverseTranspose}}},
{key:"_setScenegraphNodeProps",value:function(props){"display"in props&&(this.display=props.display);"position"in props&&this.setPosition(props.position);"rotation"in props&&this.setRotation(props.rotation);"scale"in props&&this.setScale(props.scale);"matrix"in props&&this.setMatrix(props.matrix);Object.assign(this.props,props)}}]);return ScenegraphNode}();exports["default"]=require}
//# sourceMappingURL=module$node_modules$$luma_DOT_gl$experimental$dist$es5$scenegraph$scenegraph_node.js.map
