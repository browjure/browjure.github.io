{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$terrain$dist$es5$lib$parse_quantized_mesh.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/terrain/dist/es5/lib/parse-quantized-mesh.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$terrain$dist$es5$lib$parse_quantized_mesh\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = loadQuantizedMesh;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nvar _decodeQuantizedMesh = _interopRequireWildcard(require(\"./decode-quantized-mesh\"));\n\nfunction getMeshAttributes(vertexData, header, bounds) {\n  var minHeight = header.minHeight,\n      maxHeight = header.maxHeight;\n\n  var _ref = bounds || [0, 0, 1, 1],\n      _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 4),\n      minX = _ref2[0],\n      minY = _ref2[1],\n      maxX = _ref2[2],\n      maxY = _ref2[3];\n\n  var xScale = maxX - minX;\n  var yScale = maxY - minY;\n  var zScale = maxHeight - minHeight;\n  var nCoords = vertexData.length / 3;\n  var positions = new Float32Array(nCoords * 3);\n  var texCoords = new Float32Array(nCoords * 2);\n\n  for (var i = 0; i < nCoords; i++) {\n    var x = vertexData[i] / 32767;\n    var y = vertexData[i + nCoords] / 32767;\n    var z = vertexData[i + nCoords * 2] / 32767;\n    positions[3 * i + 0] = x * xScale + minX;\n    positions[3 * i + 1] = y * yScale + minY;\n    positions[3 * i + 2] = z * zScale + minHeight;\n    texCoords[2 * i + 0] = x;\n    texCoords[2 * i + 1] = y;\n  }\n\n  return {\n    POSITION: {\n      value: positions,\n      size: 3\n    },\n    TEXCOORD_0: {\n      value: texCoords,\n      size: 2\n    }\n  };\n}\n\nfunction getTileMesh(arrayBuffer, options) {\n  if (!arrayBuffer) {\n    return null;\n  }\n\n  var bounds = options.bounds;\n\n  var _decode = (0, _decodeQuantizedMesh[\"default\"])(arrayBuffer, _decodeQuantizedMesh.DECODING_STEPS.triangleIndices),\n      header = _decode.header,\n      vertexData = _decode.vertexData,\n      triangleIndices = _decode.triangleIndices;\n\n  var attributes = getMeshAttributes(vertexData, header, bounds);\n  return {\n    loaderData: {\n      header: {}\n    },\n    header: {\n      vertexCount: triangleIndices.length,\n      boundingBox: (0, _loaderUtils.getMeshBoundingBox)(attributes)\n    },\n    mode: 4,\n    indices: {\n      value: triangleIndices,\n      size: 1\n    },\n    attributes: attributes\n  };\n}\n\nfunction loadQuantizedMesh(arrayBuffer, options) {\n  return getTileMesh(arrayBuffer, options['quantized-mesh']);\n}\n//# sourceMappingURL=parse-quantized-mesh.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","loadQuantizedMesh","arrayBuffer","options","bounds","_decode","_decodeQuantizedMesh","DECODING_STEPS","triangleIndices","vertexData","header","minHeight","maxHeight","_ref","_ref2","_slicedToArray2","minX","minY","xScale","maxX","yScale","maxY","zScale","nCoords","length","positions","Float32Array","texCoords","i","x","y","z","POSITION","size","TEXCOORD_0","loaderData","vertexCount","boundingBox","_loaderUtils","getMeshBoundingBox","attributes","mode","indices"]
}
