{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$resource.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/resource.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$resource\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _init = require(\"../init\");\n\nvar _webglUtils = require(\"../webgl-utils\");\n\nvar _utils = require(\"../utils\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar ERR_RESOURCE_METHOD_UNDEFINED = 'Resource subclass must define virtual methods';\n\nvar Resource = function () {\n  function Resource(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, Resource);\n    (0, _gltools.assertWebGLContext)(gl);\n    var id = opts.id,\n        _opts$userData = opts.userData,\n        userData = _opts$userData === void 0 ? {} : _opts$userData;\n    this.gl = gl;\n    this.gl2 = gl;\n    this.id = id || (0, _utils.uid)(this.constructor.name);\n    this.userData = userData;\n    this._bound = false;\n    this._handle = opts.handle;\n\n    if (this._handle === undefined) {\n      this._handle = this._createHandle();\n    }\n\n    this.byteLength = 0;\n\n    this._addStats();\n  }\n\n  (0, _createClass2[\"default\"])(Resource, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.constructor.name, \"(\").concat(this.id, \")\");\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$deleteChildren = _ref.deleteChildren,\n          deleteChildren = _ref$deleteChildren === void 0 ? false : _ref$deleteChildren;\n\n      var children = this._handle && this._deleteHandle(this._handle);\n\n      if (this._handle) {\n        this._removeStats();\n      }\n\n      this._handle = null;\n\n      if (children && deleteChildren) {\n        children.filter(Boolean).forEach(function (child) {\n          return child[\"delete\"]();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var funcOrHandle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.handle;\n\n      if (typeof funcOrHandle !== 'function') {\n        this._bindHandle(funcOrHandle);\n\n        return this;\n      }\n\n      var value;\n\n      if (!this._bound) {\n        this._bindHandle(this.handle);\n\n        this._bound = true;\n        value = funcOrHandle();\n        this._bound = false;\n\n        this._bindHandle(null);\n      } else {\n        value = funcOrHandle();\n      }\n\n      return value;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      this.bind(null);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      pname = (0, _webglUtils.getKeyValue)(this.gl, pname);\n      (0, _utils.assert)(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = (0, _gltools.isWebGL2)(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          var webgl1Default = parameter.webgl1;\n          var webgl2Default = 'webgl2' in parameter ? parameter.webgl2 : parameter.webgl1;\n          var defaultValue = isWebgl2 ? webgl2Default : webgl1Default;\n          return defaultValue;\n        }\n      }\n\n      return this._getParameter(pname, opts);\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var parameters = options.parameters,\n          keys = options.keys;\n      var PARAMETERS = this.constructor.PARAMETERS || {};\n      var isWebgl2 = (0, _gltools.isWebGL2)(this.gl);\n      var values = {};\n      var parameterKeys = parameters || Object.keys(PARAMETERS);\n\n      var _iterator = _createForOfIteratorHelper(parameterKeys),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var pname = _step.value;\n          var parameter = PARAMETERS[pname];\n          var parameterAvailable = parameter && (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n          if (parameterAvailable) {\n            var key = keys ? (0, _webglUtils.getKey)(this.gl, pname) : pname;\n            values[key] = this.getParameter(pname, options);\n\n            if (keys && parameter.type === 'GLenum') {\n              values[key] = (0, _webglUtils.getKey)(this.gl, values[key]);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return values;\n    }\n  }, {\n    key: \"setParameter\",\n    value: function setParameter(pname, value) {\n      pname = (0, _webglUtils.getKeyValue)(this.gl, pname);\n      (0, _utils.assert)(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = (0, _gltools.isWebGL2)(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          throw new Error('Parameter not available on this platform');\n        }\n\n        if (parameter.type === 'GLenum') {\n          value = (0, _webglUtils.getKeyValue)(value);\n        }\n      }\n\n      this._setParameter(pname, value);\n\n      return this;\n    }\n  }, {\n    key: \"setParameters\",\n    value: function setParameters(parameters) {\n      for (var pname in parameters) {\n        this.setParameter(pname, parameters[pname]);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"stubRemovedMethods\",\n    value: function stubRemovedMethods(className, version, methodNames) {\n      return (0, _utils.stubRemovedMethods)(this, className, version, methodNames);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(opts) {}\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, opts) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, value) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_context\",\n    value: function _context() {\n      this.gl.luma = this.gl.luma || {};\n      return this.gl.luma;\n    }\n  }, {\n    key: \"_addStats\",\n    value: function _addStats() {\n      var name = this.constructor.name;\n\n      var stats = _init.lumaStats.get('Resource Counts');\n\n      stats.get('Resources Created').incrementCount();\n      stats.get(\"\".concat(name, \"s Created\")).incrementCount();\n      stats.get(\"\".concat(name, \"s Active\")).incrementCount();\n    }\n  }, {\n    key: \"_removeStats\",\n    value: function _removeStats() {\n      var name = this.constructor.name;\n\n      var stats = _init.lumaStats.get('Resource Counts');\n\n      stats.get(\"\".concat(name, \"s Active\")).decrementCount();\n    }\n  }, {\n    key: \"_trackAllocatedMemory\",\n    value: function _trackAllocatedMemory(bytes) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.constructor.name;\n\n      var stats = _init.lumaStats.get('Memory Usage');\n\n      stats.get('GPU Memory').addCount(bytes);\n      stats.get(\"\".concat(name, \" Memory\")).addCount(bytes);\n      this.byteLength = bytes;\n    }\n  }, {\n    key: \"_trackDeallocatedMemory\",\n    value: function _trackDeallocatedMemory() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.constructor.name;\n\n      var stats = _init.lumaStats.get('Memory Usage');\n\n      stats.get('GPU Memory').subtractCount(this.byteLength);\n      stats.get(\"\".concat(name, \" Memory\")).subtractCount(this.byteLength);\n      this.byteLength = 0;\n    }\n  }, {\n    key: \"handle\",\n    get: function get() {\n      return this._handle;\n    }\n  }]);\n  return Resource;\n}();\n\nexports[\"default\"] = Resource;\n//# sourceMappingURL=resource.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_interopRequireDefault","defineProperty","_classCallCheck2","_createClass2","_gltools","_init","_webglUtils","_utils","Resource","gl","opts","arguments","undefined","assertWebGLContext","id","_opts$userData","userData","gl2","uid","_bound","_handle","handle","_createHandle","byteLength","_addStats","key","concat","_delete","_ref$deleteChildren","_ref","deleteChildren","children","_deleteHandle","_removeStats","filter","Boolean","forEach","child","bind","funcOrHandle","_bindHandle","unbind","getParameter","pname","getKeyValue","assert","parameter","PARAMETERS","isWebgl2","isWebGL2","getExtension","extension","webgl1Default","defaultValue","webgl1","webgl2Default","webgl2","_getParameter","getParameters","options","parameters","keys","values","parameterKeys","_iterator","_step","parameterAvailable","getKey","type","setParameter","Error","_setParameter","setParameters","stubRemovedMethods","className","version","methodNames","initialize","ERR_RESOURCE_METHOD_UNDEFINED","_getOptsFromHandle","_context","luma","stats","lumaStats","get","incrementCount","decrementCount","_trackAllocatedMemory","bytes","addCount","_trackDeallocatedMemory","subtractCount"]
}
