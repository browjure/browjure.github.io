{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$mesh_layers$dist$es5$scenegraph_layer$scenegraph_layer.js",
"lineCount":19,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/mesh-layers/dist/es5/scenegraph-layer/scenegraph-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$mesh_layers$dist$es5$scenegraph_layer$scenegraph_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _shadertools = require(\"@luma.gl/shadertools\");\n\nvar _experimental = require(\"@luma.gl/experimental\");\n\nvar _gltf = require(\"@loaders.gl/gltf\");\n\nvar _gltfUtils = require(\"./gltf-utils\");\n\nvar _matrix = require(\"../utils/matrix\");\n\nvar _scenegraphLayerVertex = _interopRequireDefault(require(\"./scenegraph-layer-vertex.glsl\"));\n\nvar _scenegraphLayerFragment = _interopRequireDefault(require(\"./scenegraph-layer-fragment.glsl\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar DEFAULT_COLOR = [255, 255, 255, 255];\nvar defaultProps = {\n  scenegraph: {\n    type: 'object',\n    value: null,\n    async: true\n  },\n  getScene: function getScene(gltf) {\n    if (gltf && gltf.scenes) {\n      return (0, _typeof2[\"default\"])(gltf.scene) === 'object' ? gltf.scene : gltf.scenes[gltf.scene || 0];\n    }\n\n    return gltf;\n  },\n  getAnimator: function getAnimator(scenegraph) {\n    return scenegraph && scenegraph.animator;\n  },\n  _animations: null,\n  sizeScale: {\n    type: 'number',\n    value: 1,\n    min: 0\n  },\n  sizeMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  sizeMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  _lighting: 'flat',\n  _imageBasedLightingEnvironment: null,\n  getOrientation: {\n    type: 'accessor',\n    value: [0, 0, 0]\n  },\n  getScale: {\n    type: 'accessor',\n    value: [1, 1, 1]\n  },\n  getTranslation: {\n    type: 'accessor',\n    value: [0, 0, 0]\n  },\n  getTransformMatrix: {\n    type: 'accessor',\n    value: []\n  },\n  loaders: [_gltf.GLTFLoader]\n};\n\nvar ScenegraphLayer = function (_Layer) {\n  (0, _inherits2[\"default\"])(ScenegraphLayer, _Layer);\n\n  var _super = _createSuper(ScenegraphLayer);\n\n  function ScenegraphLayer() {\n    (0, _classCallCheck2[\"default\"])(this, ScenegraphLayer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(ScenegraphLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      var modules = [_core.project32, _core.picking];\n\n      if (this.props._lighting === 'pbr') {\n        modules.push(_shadertools.pbr);\n      }\n\n      return {\n        vs: _scenegraphLayerVertex[\"default\"],\n        fs: _scenegraphLayerFragment[\"default\"],\n        modules: modules\n      };\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        instancePositions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          accessor: 'getPosition',\n          transition: true\n        },\n        instanceColors: {\n          type: 5121,\n          size: this.props.colorFormat.length,\n          accessor: 'getColor',\n          normalized: true,\n          defaultValue: DEFAULT_COLOR,\n          transition: true\n        },\n        instanceModelMatrix: _matrix.MATRIX_ATTRIBUTES\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(params) {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(ScenegraphLayer.prototype), \"updateState\", this).call(this, params);\n      var props = params.props,\n          oldProps = params.oldProps;\n\n      if (props.scenegraph !== oldProps.scenegraph) {\n        this._updateScenegraph(props);\n      } else if (props._animations !== oldProps._animations) {\n        this._applyAnimationsProp(this.state.scenegraph, this.state.animator, props._animations);\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(ScenegraphLayer.prototype), \"finalizeState\", this).call(this);\n\n      this._deleteScenegraph();\n    }\n  }, {\n    key: \"_updateScenegraph\",\n    value: function _updateScenegraph(props) {\n      var _this = this;\n\n      var gl = this.context.gl;\n      var scenegraphData = null;\n\n      if (props.scenegraph instanceof _experimental.ScenegraphNode) {\n        scenegraphData = {\n          scenes: [props.scenegraph]\n        };\n      } else if (props.scenegraph && !props.scenegraph.gltf) {\n        var gltf = props.scenegraph;\n        var gltfObjects = (0, _experimental.createGLTFObjects)(gl, gltf, this._getModelOptions());\n        scenegraphData = Object.assign({\n          gltf: gltf\n        }, gltfObjects);\n        (0, _gltfUtils.waitForGLTFAssets)(gltfObjects).then(function () {\n          return _this.setNeedsRedraw();\n        });\n      } else if (props.scenegraph) {\n        _core.log.deprecated('ScenegraphLayer.props.scenegraph', 'Use GLTFLoader instead of GLTFScenegraphLoader')();\n\n        scenegraphData = props.scenegraph;\n      }\n\n      var options = {\n        layer: this,\n        gl: gl\n      };\n      var scenegraph = props.getScene(scenegraphData, options);\n      var animator = props.getAnimator(scenegraphData, options);\n\n      if (scenegraph instanceof _experimental.ScenegraphNode) {\n        this._deleteScenegraph();\n\n        this._applyAllAttributes(scenegraph);\n\n        this._applyAnimationsProp(scenegraph, animator, props._animations);\n\n        this.setState({\n          scenegraph: scenegraph,\n          animator: animator\n        });\n      } else if (scenegraph !== null) {\n        _core.log.warn('invalid scenegraph:', scenegraph)();\n      }\n    }\n  }, {\n    key: \"_applyAllAttributes\",\n    value: function _applyAllAttributes(scenegraph) {\n      var _this2 = this;\n\n      if (this.state.attributesAvailable) {\n        var allAttributes = this.getAttributeManager().getAttributes();\n        scenegraph.traverse(function (model) {\n          _this2._setModelAttributes(model.model, allAttributes);\n        });\n      }\n    }\n  }, {\n    key: \"_applyAnimationsProp\",\n    value: function _applyAnimationsProp(scenegraph, animator, animationsProp) {\n      if (!scenegraph || !animator || !animationsProp) {\n        return;\n      }\n\n      var animations = animator.getAnimations();\n      Object.keys(animationsProp).sort().forEach(function (key) {\n        var value = animationsProp[key];\n\n        if (key === '*') {\n          animations.forEach(function (animation) {\n            Object.assign(animation, value);\n          });\n        } else if (Number.isFinite(Number(key))) {\n          var number = Number(key);\n\n          if (number >= 0 && number < animations.length) {\n            Object.assign(animations[number], value);\n          } else {\n            _core.log.warn(\"animation \".concat(key, \" not found\"))();\n          }\n        } else {\n          var findResult = animations.find(function (_ref) {\n            var name = _ref.name;\n            return name === key;\n          });\n\n          if (findResult) {\n            Object.assign(findResult, value);\n          } else {\n            _core.log.warn(\"animation \".concat(key, \" not found\"))();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_deleteScenegraph\",\n    value: function _deleteScenegraph() {\n      var scenegraph = this.state.scenegraph;\n\n      if (scenegraph instanceof _experimental.ScenegraphNode) {\n        scenegraph[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"_getModelOptions\",\n    value: function _getModelOptions() {\n      var _imageBasedLightingEnvironment = this.props._imageBasedLightingEnvironment;\n      var env = null;\n\n      if (_imageBasedLightingEnvironment) {\n        if (typeof _imageBasedLightingEnvironment === 'function') {\n          env = _imageBasedLightingEnvironment({\n            gl: this.context.gl,\n            layer: this\n          });\n        } else {\n          env = _imageBasedLightingEnvironment;\n        }\n      }\n\n      return {\n        gl: this.context.gl,\n        waitForFullLoad: true,\n        imageBasedLightingEnvironment: env,\n        modelOptions: _objectSpread({\n          isInstanced: true,\n          transpileToGLSL100: !(0, _core2.isWebGL2)(this.context.gl)\n        }, this.getShaders()),\n        useTangents: false\n      };\n    }\n  }, {\n    key: \"updateAttributes\",\n    value: function updateAttributes(changedAttributes) {\n      var _this3 = this;\n\n      this.setState({\n        attributesAvailable: true\n      });\n      if (!this.state.scenegraph) return;\n      this.state.scenegraph.traverse(function (model) {\n        _this3._setModelAttributes(model.model, changedAttributes);\n      });\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var _ref2$moduleParameter = _ref2.moduleParameters,\n          moduleParameters = _ref2$moduleParameter === void 0 ? null : _ref2$moduleParameter,\n          _ref2$parameters = _ref2.parameters,\n          parameters = _ref2$parameters === void 0 ? {} : _ref2$parameters,\n          context = _ref2.context;\n      if (!this.state.scenegraph) return;\n\n      if (this.props._animations && this.state.animator) {\n        this.state.animator.animate(context.timeline.getTime());\n        this.setNeedsRedraw();\n      }\n\n      var viewport = this.context.viewport;\n      var _this$props = this.props,\n          sizeScale = _this$props.sizeScale,\n          sizeMinPixels = _this$props.sizeMinPixels,\n          sizeMaxPixels = _this$props.sizeMaxPixels,\n          opacity = _this$props.opacity,\n          coordinateSystem = _this$props.coordinateSystem;\n      var numInstances = this.getNumInstances();\n      this.state.scenegraph.traverse(function (model, _ref3) {\n        var worldMatrix = _ref3.worldMatrix;\n        model.model.setInstanceCount(numInstances);\n        model.updateModuleSettings(moduleParameters);\n        model.draw({\n          parameters: parameters,\n          uniforms: {\n            sizeScale: sizeScale,\n            opacity: opacity,\n            sizeMinPixels: sizeMinPixels,\n            sizeMaxPixels: sizeMaxPixels,\n            composeModelMatrix: (0, _matrix.shouldComposeModelMatrix)(viewport, coordinateSystem),\n            sceneModelMatrix: worldMatrix,\n            u_Camera: model.model.getUniforms().project_uCameraPosition\n          }\n        });\n      });\n    }\n  }]);\n  return ScenegraphLayer;\n}(_core.Layer);\n\nexports[\"default\"] = ScenegraphLayer;\nScenegraphLayer.layerName = 'ScenegraphLayer';\nScenegraphLayer.defaultProps = defaultProps;\n//# sourceMappingURL=scenegraph-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","value","_classCallCheck2","_createClass2","_get2","_inherits2","_typeof2","_core","_core2","_shadertools","_experimental","_gltf","_gltfUtils","_matrix","_scenegraphLayerVertex","_scenegraphLayerFragment","DEFAULT_COLOR","defaultProps","scenegraph","type","async","getScene","gltf","scenes","scene","getAnimator","animator","_animations","sizeScale","min","sizeMinPixels","sizeMaxPixels","Number","MAX_SAFE_INTEGER","getPosition","x","position","getColor","_lighting","_imageBasedLightingEnvironment","getOrientation","getScale","getTranslation","getTransformMatrix","loaders","GLTFLoader","ScenegraphLayer","_Layer","_super","getShaders","modules","project32","picking","props","pbr","vs","fs","initializeState","attributeManager","getAttributeManager","addInstanced","instancePositions","size","fp64","use64bitPositions","accessor","transition","instanceColors","colorFormat","normalized","defaultValue","instanceModelMatrix","MATRIX_ATTRIBUTES","updateState","params","oldProps","_updateScenegraph","_applyAnimationsProp","state","finalizeState","_deleteScenegraph","_this","gl","context","scenegraphData","ScenegraphNode","gltfObjects","createGLTFObjects","_getModelOptions","assign","waitForGLTFAssets","then","setNeedsRedraw","log","deprecated","options","layer","_applyAllAttributes","setState","warn","_this2","attributesAvailable","allAttributes","getAttributes","traverse","model","_setModelAttributes","animationsProp","animations","getAnimations","sort","animation","isFinite","number","concat","findResult","find","_ref","name","env","waitForFullLoad","imageBasedLightingEnvironment","modelOptions","isInstanced","transpileToGLSL100","isWebGL2","useTangents","updateAttributes","changedAttributes","_this3","draw","_ref2","_ref2$moduleParameter","moduleParameters","_ref2$parameters","parameters","animate","timeline","getTime","viewport","_this$props","opacity","coordinateSystem","numInstances","getNumInstances","_ref3","worldMatrix","setInstanceCount","updateModuleSettings","uniforms","composeModelMatrix","shouldComposeModelMatrix","sceneModelMatrix","u_Camera","getUniforms","project_uCameraPosition","Layer","layerName"]
}
