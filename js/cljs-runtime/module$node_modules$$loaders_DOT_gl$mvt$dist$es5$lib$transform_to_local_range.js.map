{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$mvt$dist$es5$lib$transform_to_local_range.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/mvt/dist/es5/lib/transform-to-local-range.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$mvt$dist$es5$lib$transform_to_local_range\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformToLocalCoordinates = transformToLocalCoordinates;\nexports.transformCoordinates = transformCoordinates;\nvar geometryTypes = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nfunction transformToLocalCoordinates(line, feature) {\n  for (var i = 0; i < line.length; i++) {\n    var point = line[i];\n    line[i] = [point.x / feature.extent, point.y / feature.extent];\n  }\n}\n\nfunction transformCoordinates(feature) {\n  var transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (coordinates, feature_) {\n    return coordinates;\n  };\n  var type = geometryTypes[feature.type];\n  var coordinates = feature.loadGeometry();\n\n  switch (feature.type) {\n    case 1:\n      var points = [];\n\n      for (var i = 0; i < coordinates.length; i++) {\n        points[i] = coordinates[i][0];\n      }\n\n      coordinates = points;\n      transform(coordinates, feature);\n      break;\n\n    case 2:\n      for (var _i = 0; _i < coordinates.length; _i++) {\n        transform(coordinates[_i], feature);\n      }\n\n      break;\n\n    case 3:\n      coordinates = classifyRings(coordinates);\n\n      for (var _i2 = 0; _i2 < coordinates.length; _i2++) {\n        for (var j = 0; j < coordinates[_i2].length; j++) {\n          transform(coordinates[_i2][j], feature);\n        }\n      }\n\n      break;\n\n    default:\n      break;\n  }\n\n  return generateJSON(type, feature, coordinates);\n}\n\nfunction generateJSON(type, feature, coordinates) {\n  var geometryType = type;\n\n  if (coordinates.length === 1) {\n    coordinates = coordinates[0];\n  } else {\n    geometryType = \"Multi\".concat(type);\n  }\n\n  var jsonResult = {\n    type: 'Feature',\n    geometry: {\n      type: geometryType,\n      coordinates: coordinates\n    },\n    properties: feature.properties || {}\n  };\n\n  if ('id' in feature) {\n    jsonResult.id = feature.id;\n  }\n\n  return jsonResult;\n}\n\nfunction classifyRings(rings) {\n  var len = rings.length;\n  if (len <= 1) return [rings];\n  var polygons = [];\n  var polygon;\n  var ccw;\n\n  for (var i = 0; i < len; i++) {\n    var area = signedArea(rings[i]);\n\n    if (area === 0) {\n      continue;\n    }\n\n    if (ccw === undefined) ccw = area < 0;\n\n    if (ccw === area < 0) {\n      if (polygon) {\n        polygons.push(polygon);\n      }\n\n      polygon = [rings[i]];\n    } else if (polygon) {\n      polygon.push(rings[i]);\n    }\n  }\n\n  if (polygon) polygons.push(polygon);\n  return polygons;\n}\n\nfunction signedArea(ring) {\n  var length = ring.length;\n  var sum = 0;\n  var p1;\n  var p2;\n\n  for (var i = 0, j = length - 1; i < length; j = i++) {\n    p1 = ring[i];\n    p2 = ring[j];\n    sum += (p2.x - p1.x) * (p1.y + p2.y);\n  }\n\n  return sum;\n}\n//# sourceMappingURL=transform-to-local-range.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","generateJSON","type","feature","coordinates","geometryType","length","concat","jsonResult","geometry","properties","id","classifyRings","rings","len","polygons","polygon","ccw","i","p2","ring","sum","j","p1","x","y","area","undefined","push","Object","defineProperty","value","transformToLocalCoordinates","line","point","extent","transformCoordinates","transform","arguments","feature_","geometryTypes","loadGeometry","points","_i","_i2"]
}
