{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$3d_tiles$dist$es5$lib$parsers$helpers$normalize_3d_tile_colors.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAe,kGAAf,CAAuH,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAG/JC,MAAA,CAAOC,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CG,MAAO,CAAA,CADoC,CAA7C,CAGAH,QAAA,CAAQI,6BAAR,CAIAA,QAAsC,CAACC,IAAD,CAAOC,MAAP,CAAeC,UAAf,CAA2B,CAC/D,GAAI,EAACD,MAAD,EAAaD,IAAb,EAAsBA,IAAtB,CAA2BG,QAA3B,EAAwCD,UAAxC,CAAJ,CACE,MAAO,KAFsD,KAK3DC,SAAWH,IAAXG,CAAgBA,QAL2C,CAM3DC,SAAWJ,IAAXI,CAAgBA,QAChBC,KAAAA,CAAaL,IAAbK,CAAkBA,UAEtB,IAAIF,QAAJ,EAAgBD,UAAhB,CAA4B,CACtBI,MAAAA,CAAa,IAAIC,iBAAJ,CAAmC,CAAnC,CAAsBF,IAAtB,CAEjB,KAASG,QAAT,CAAa,CAAb,CAAgBA,QAAhB,CAAoBH,IAApB,CAAgCG,QAAA,EAAhC,CAAqC,CAGnC,IAAIC;AADaP,UAAAQ,CAAWC,WAAXD,CADHP,QAAAS,CAASJ,QAATI,CACGF,CAAgC,YAAhCA,CACL,CAAWG,GAAX,CAAe,QAAS,CAACC,CAAD,CAAI,CACtC,MAAW,IAAX,CAAOA,CAD+B,CAA5B,CAGZR,OAAA,CAAe,CAAf,CAAWE,QAAX,CAAA,CAAoBC,KAAA,CAAM,CAAN,CACpBH,OAAA,CAAe,CAAf,CAAWE,QAAX,CAAmB,CAAnB,CAAA,CAAwBC,KAAA,CAAM,CAAN,CACxBH,OAAA,CAAe,CAAf,CAAWE,QAAX,CAAmB,CAAnB,CAAA,CAAwBC,KAAA,CAAM,CAAN,CARW,CAWrC,MAAO,CACLM,KAAMC,KAAND,CAAYE,EAAZF,CAAeG,aADV,CAELpB,MAAOQ,MAFF,CAGLa,KAAM,CAHD,CAILC,WAAY,CAAA,CAJP,CAdmB,CAsB5B,GAAIhB,QAAJ,CAAc,CACRiB,UAAAA,CAAc,IAAId,iBAAJ,CAAmC,CAAnC,CAAsBF,IAAtB,CAElB,KAASiB,QAAT,CAAc,CAAd,CAAiBA,QAAjB,CAAsBjB,IAAtB,CAAkCiB,QAAA,EAAlC,CACMC,QAIJ,CAJa,CAAC,CAAA,CAAGP,KAAH,CAASQ,YAAV,EAAwBvB,MAAA,CAAOqB,QAAP,CAAxB,CAIb,CAFAD,UAAA,CAAiB,CAAjB,CAAYC,QAAZ,CAEA,CAFsBC,QAAA,CAAO,CAAP,CAEtB,CADAF,UAAA,CAAiB,CAAjB,CAAYC,QAAZ,CAAqB,CAArB,CACA,CAD0BC,QAAA,CAAO,CAAP,CAC1B,CAAAF,UAAA,CAAiB,CAAjB,CAAYC,QAAZ,CAAqB,CAArB,CAAA,CAA0BC,QAAA,CAAO,CAAP,CAG5B,OAAO,CACLR,KAAMC,KAAND,CAAYE,EAAZF,CAAeG,aADV;AAELpB,MAAOuB,UAFF,CAGLF,KAAM,CAHD,CAILC,WAAY,CAAA,CAJP,CAXK,CAmBd,MAAInB,OAAJ,EAAcA,MAAd,CAAqBwB,MAArB,GAA6C,CAA7C,CAAgCpB,IAAhC,CACS,CACLU,KAAMC,KAAND,CAAYE,EAAZF,CAAeG,aADV,CAELpB,MAAOG,MAFF,CAGLkB,KAAM,CAHD,CAILC,WAAY,CAAA,CAJP,CADT,CASO,CACLL,KAAMC,KAAND,CAAYE,EAAZF,CAAeG,aADV,CAELpB,MAAOG,MAFF,CAGLkB,KAAM,CAHD,CAILC,WAAY,CAAA,CAJP,CA3DwD,CAFjE,KAAIJ,MAAQvB,OAAA,CAAQ,yDAAR,CARmJ;",
"sources":["node_modules/@loaders_DOT_gl/3d-tiles/dist/es5/lib/parsers/helpers/normalize-3d-tile-colors.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$3d_tiles$dist$es5$lib$parsers$helpers$normalize_3d_tile_colors\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalize3DTileColorAttribute = normalize3DTileColorAttribute;\n\nvar _math = require(\"@loaders.gl/math\");\n\nfunction normalize3DTileColorAttribute(tile, colors, batchTable) {\n  if (!colors && (!tile || !tile.batchIds || !batchTable)) {\n    return null;\n  }\n\n  var batchIds = tile.batchIds,\n      isRGB565 = tile.isRGB565,\n      pointCount = tile.pointCount;\n\n  if (batchIds && batchTable) {\n    var colorArray = new Uint8ClampedArray(pointCount * 3);\n\n    for (var i = 0; i < pointCount; i++) {\n      var batchId = batchIds[i];\n      var dimensions = batchTable.getProperty(batchId, 'dimensions');\n      var color = dimensions.map(function (d) {\n        return d * 255;\n      });\n      colorArray[i * 3] = color[0];\n      colorArray[i * 3 + 1] = color[1];\n      colorArray[i * 3 + 2] = color[2];\n    }\n\n    return {\n      type: _math.GL.UNSIGNED_BYTE,\n      value: colorArray,\n      size: 3,\n      normalized: true\n    };\n  }\n\n  if (isRGB565) {\n    var _colorArray = new Uint8ClampedArray(pointCount * 3);\n\n    for (var _i = 0; _i < pointCount; _i++) {\n      var _color = (0, _math.decodeRGB565)(colors[_i]);\n\n      _colorArray[_i * 3] = _color[0];\n      _colorArray[_i * 3 + 1] = _color[1];\n      _colorArray[_i * 3 + 2] = _color[2];\n    }\n\n    return {\n      type: _math.GL.UNSIGNED_BYTE,\n      value: _colorArray,\n      size: 3,\n      normalized: true\n    };\n  }\n\n  if (colors && colors.length === pointCount * 3) {\n    return {\n      type: _math.GL.UNSIGNED_BYTE,\n      value: colors,\n      size: 3,\n      normalized: true\n    };\n  }\n\n  return {\n    type: _math.GL.UNSIGNED_BYTE,\n    value: colors,\n    size: 4,\n    normalized: true\n  };\n}\n//# sourceMappingURL=normalize-3d-tile-colors.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","normalize3DTileColorAttribute","tile","colors","batchTable","batchIds","isRGB565","pointCount","colorArray","Uint8ClampedArray","i","color","dimensions","getProperty","batchId","map","d","type","_math","GL","UNSIGNED_BYTE","size","normalized","_colorArray","_i","_color","decodeRGB565","length"]
}
