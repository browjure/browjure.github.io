{
"version":3,
"file":"module$node_modules$react_map_gl$dist$es5$components$source.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/react-map-gl/dist/es5/components/source.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$react_map_gl$dist$es5$components$source\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar PropTypes = _interopRequireWildcard(require(\"prop-types\"));\n\nvar _mapContext = _interopRequireDefault(require(\"./map-context\"));\n\nvar _assert = _interopRequireDefault(require(\"../utils/assert\"));\n\nvar _deepEqual = _interopRequireDefault(require(\"../utils/deep-equal\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string\n};\nvar sourceCounter = 0;\n\nfunction createSource(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread({}, props);\n\n    delete options.id;\n    delete options.children;\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n\n  return null;\n}\n\nfunction updateSource(source, props, prevProps) {\n  (0, _assert[\"default\"])(props.id === prevProps.id, 'source id changed');\n  (0, _assert[\"default\"])(props.type === prevProps.type, 'source type changed');\n  var changedKey = '';\n  var changedKeyCount = 0;\n\n  for (var key in props) {\n    if (key !== 'children' && key !== 'id' && !(0, _deepEqual[\"default\"])(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  var type = props.type;\n\n  if (type === 'geojson') {\n    source.setData(props.data);\n  } else if (type === 'image') {\n    source.updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n    source.setCoordinates(props.coordinates);\n  } else if (type === 'vector' && source.setUrl) {\n    switch (changedKey) {\n      case 'url':\n        source.setUrl(props.url);\n        break;\n\n      case 'tiles':\n        source.setTiles(props.tiles);\n        break;\n\n      default:\n    }\n  } else {\n    console.warn(\"Unable to update <Source> prop: \".concat(changedKey));\n  }\n}\n\nfunction Source(props) {\n  var context = (0, React.useContext)(_mapContext[\"default\"]);\n  var propsRef = (0, React.useRef)({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = (0, React.useState)(0),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = (0, React.useMemo)(function () {\n    return props.id || \"jsx-source-\".concat(sourceCounter++);\n  }, []);\n  var map = context.map;\n  (0, React.useEffect)(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n        requestAnimationFrame(function () {\n          if (map.style && map.style._loaded && map.getSource(id)) {\n            map.removeSource(id);\n          }\n        });\n      };\n    }\n\n    return undefined;\n  }, [map, id]);\n  var source = map && map.style && map.getSource(id);\n\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n\n  propsRef.current = props;\n  return source && React.Children.map(props.children, function (child) {\n    return child && (0, React.cloneElement)(child, {\n      source: id\n    });\n  }) || null;\n}\n\nSource.propTypes = propTypes;\nvar _default = Source;\nexports[\"default\"] = _default;\n//# sourceMappingURL=source.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","createSource","map","id","props","style","_loaded","options","children","addSource","getSource","updateSource","prevProps","_assert","type","changedKey","changedKeyCount","_deepEqual","setData","data","updateImage","url","coordinates","setUrl","setTiles","tiles","console","warn","concat","setCoordinates","Source","context","React","useContext","_mapContext","propsRef","useRef","_useState","useState","setStyleLoaded","_useState2","_slicedToArray2","useMemo","sourceCounter","useEffect","forceUpdate","version","on","off","requestAnimationFrame","removeSource","current","Children","child","cloneElement","_interopRequireWildcard","_interopRequireDefault","value","PropTypes","propTypes","string","isRequired"]
}
