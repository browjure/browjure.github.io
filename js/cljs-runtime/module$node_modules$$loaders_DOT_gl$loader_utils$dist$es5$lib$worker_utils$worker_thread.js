shadow$provide.module$node_modules$$loaders_DOT_gl$loader_utils$dist$es5$lib$worker_utils$worker_thread=function(global,require,module,exports){function defaultOnMessage(_ref){var resolve=_ref.resolve;resolve(_ref.data)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _regenerator=global(require("module$node_modules$$babel$runtime$regenerator$index")),_asyncToGenerator2=global(require("module$node_modules$$babel$runtime$helpers$asyncToGenerator")),
_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_getWorkerUrl=require("module$node_modules$$loaders_DOT_gl$loader_utils$dist$es5$lib$worker_utils$get_worker_url"),_getTransferList=require("module$node_modules$$loaders_DOT_gl$loader_utils$dist$es5$lib$worker_utils$get_transfer_list"),count=0;require=function(){function WorkerThread(_ref2){var source=_ref2.source,_ref2$name=
_ref2.name;_ref2$name=void 0===_ref2$name?"web-worker-".concat(count++):_ref2$name;_ref2=_ref2.onMessage;(0,_classCallCheck2["default"])(this,WorkerThread);source=(0,_getWorkerUrl.getWorkerURL)(source,_ref2$name);this.worker=new Worker(source,{name:_ref2$name});this.name=_ref2$name;this.onMessage=_ref2||defaultOnMessage}(0,_createClass2["default"])(WorkerThread,[{key:"process",value:function(){var _process=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(data){var _this=
this;return _regenerator["default"].wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise(function(resolve,reject){_this.worker.onmessage=function(event){_this.onMessage({worker:_this.worker,data:event.data,resolve,reject})};_this.worker.onerror=function(error){var message="".concat(_this.name,": WorkerThread.process() failed");error.message&&(message+=" ".concat(error.message," ").concat(error.filename,":").concat(error.lineno,":").concat(error.colno));
message=Error(message);console.error(error);reject(message)};var transferList=(0,_getTransferList.getTransferList)(data);_this.worker.postMessage(data,transferList)}));case 1:case "end":return _context.stop()}},_callee)}));return function(_x){return _process.apply(this,arguments)}}()},{key:"destroy",value:function(){this.worker.terminate();this.worker=null}}]);return WorkerThread}();exports["default"]=require}
//# sourceMappingURL=module$node_modules$$loaders_DOT_gl$loader_utils$dist$es5$lib$worker_utils$worker_thread.js.map
