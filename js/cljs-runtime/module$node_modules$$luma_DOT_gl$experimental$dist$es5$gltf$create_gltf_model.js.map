{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$experimental$dist$es5$gltf$create_gltf_model.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,CAAe,6EAAf,CAAkG,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAyB1IC,QAASA,mBAAkB,CAACC,EAAD,CAAKC,MAAL,CAAa,CACtC,MAAI,CAAC,CAAA,CAAGC,QAAH,CAAYC,QAAb,EAAuBH,EAAvB,CAAJ,CACSI,mBAAA,CAAoBA,MAApB,CAA2BH,MAA3B,CADT,CAIOA,MAL+B,CAtBpCI,MAAAA,CAAyBT,OAAA,CAAQ,kEAAR,CAE7BU,OAAA,CAAOC,cAAP,CAAsBT,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CU,MAAO,CAAA,CADoC,CAA7C,CAGAV,QAAA,CAAQ,SAAR,CAAA,CAyBAW,QAAwB,CAACT,EAAD,CAAKU,OAAL,CAAc,CAAA,IAChCC,GAAKD,OAALC,CAAaA,EADmB,CAEhCC,SAAWF,OAAXE,CAAmBA,QAFa,CAGhCC,YAAcH,OAAdG,CAAsBA,WAHU,CAIhCC;AAAaJ,OAAbI,CAAqBA,UAJW,CAKhCC,aAAeL,OAAfK,CAAuBA,YACvBC,QAAAA,CAAiB,IAAIC,mBAAA,CAAoB,SAApB,CAAJ,CAAmCjB,EAAnC,CAAuCU,OAAvC,CAErBQ,OAAA,CAAOC,GAAP,CAAWC,IAAX,CAAgB,CAAhB,CAAmB,2BAAnB,CAAgDJ,OAAhD,CAA+DK,OAA/D,CAAA,EAEA,KAAIC,iBAAmB,EACvBA,iBAAA,CAAiBC,IAAjB,CAAsBC,KAAtB,CAA4BF,gBAA5B,CAA8C,CAAC,CAAA,CAAGG,mBAAA,CAAoB,SAApB,CAAJ,EAAoCT,OAApC,CAAmDU,iBAAnD,CAA9C,CACAJ,iBAAA,CAAiBC,IAAjB,CAAsBC,KAAtB,CAA4BF,gBAA5B,CAA8C,CAAC,CAAA,CAAGG,mBAAA,CAAoB,SAApB,CAAJ,EAAoCnB,MAAA,CAAOqB,MAAP,CAAcb,UAAd,CAAA,CAA0Bc,GAA1B,CAA8B,QAAS,CAACC,SAAD,CAAY,CACnI,MAAOA,UAAP,CAAiBC,MADkH,CAAnD,CAApC,CAA9C,CAGIC,GAAAA,CAAQ,IAAIC,UAAA,CAAW,SAAX,CAAJ,CAA0BhC,EAA1B,CAA8BM,MAAA,CAAO2B,MAAP,CAAc,CAClDtB,EADkD;AAE5CC,QAF4C,CAGzCC,WAHyC,CAItDqB,QAAS,CAACC,YAAD,CAAcC,GAAd,CAJ6C,CAKtDf,QAASL,OAATK,CAAwBA,OAL8B,CAMtDgB,WAAYrB,OAAZqB,CAA2BA,UAN2B,CAOtDC,GAAIvC,kBAAA,CAAmBC,EAAnB,CAAuBsC,EAAvB,CAPkD,CAQtDC,GAAIxC,kBAAA,CAAmBC,EAAnB,CAAuBuC,EAAvB,CARkD,CASpCjB,gBAToC,CAAd,CAUvCP,YAVuC,CAA9B,CAWZgB,GAAA,CAAMS,QAAN,CAAe,CACD1B,UADC,CAAf,CAGAiB,GAAA,CAAMU,WAAN,CAAkBzB,OAAlB,CAAiC0B,QAAjC,CACA,OAAOX,GA9B6B,CAvBtC,KAAIN,oBAAsBpB,MAAA,CAAuBT,OAAA,CAAQ,8DAAR,CAAvB,CAA1B,CAEIM,SAAWN,OAAA,CAAQ,yDAAR,CAFf,CAIIsB,OAAStB,OAAA,CAAQ,uDAAR,CAJb;AAMIuC,aAAevC,OAAA,CAAQ,6DAAR,CANnB,CAQIoC,WAAa3B,MAAA,CAAuBT,OAAA,CAAQ,8EAAR,CAAvB,CARjB,CAUIqB,oBAAsBZ,MAAA,CAAuBT,OAAA,CAAQ,kFAAR,CAAvB,CAV1B,CAYI0C,GAAK,svBAZT;AAaIC,GAAK,8LAvBiI;",
"sources":["node_modules/@luma_DOT_gl/experimental/dist/es5/gltf/create-gltf-model.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$experimental$dist$es5$gltf$create_gltf_model\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createGLTFModel;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _webgl = require(\"@luma.gl/webgl\");\n\nvar _shadertools = require(\"@luma.gl/shadertools\");\n\nvar _modelNode = _interopRequireDefault(require(\"../scenegraph/model-node\"));\n\nvar _gltfMaterialParser = _interopRequireDefault(require(\"./gltf-material-parser\"));\n\nvar vs = \"\\n#if (__VERSION__ < 300)\\n  #define _attr attribute\\n#else\\n  #define _attr in\\n#endif\\n\\n  _attr vec4 POSITION;\\n\\n  #ifdef HAS_NORMALS\\n    _attr vec4 NORMAL;\\n  #endif\\n\\n  #ifdef HAS_TANGENTS\\n    _attr vec4 TANGENT;\\n  #endif\\n\\n  #ifdef HAS_UV\\n    _attr vec2 TEXCOORD_0;\\n  #endif\\n\\n  void main(void) {\\n    vec4 _NORMAL = vec4(0.);\\n    vec4 _TANGENT = vec4(0.);\\n    vec2 _TEXCOORD_0 = vec2(0.);\\n\\n    #ifdef HAS_NORMALS\\n      _NORMAL = NORMAL;\\n    #endif\\n\\n    #ifdef HAS_TANGENTS\\n      _TANGENT = TANGENT;\\n    #endif\\n\\n    #ifdef HAS_UV\\n      _TEXCOORD_0 = TEXCOORD_0;\\n    #endif\\n\\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\\n    gl_Position = u_MVPMatrix * POSITION;\\n  }\\n\";\nvar fs = \"\\n#if (__VERSION__ < 300)\\n  #define fragmentColor gl_FragColor\\n#else\\n  out vec4 fragmentColor;\\n#endif\\n\\n  void main(void) {\\n    fragmentColor = pbr_filterColor(vec4(0));\\n  }\\n\";\n\nfunction addVersionToShader(gl, source) {\n  if ((0, _gltools.isWebGL2)(gl)) {\n    return \"#version 300 es\\n\".concat(source);\n  }\n\n  return source;\n}\n\nfunction createGLTFModel(gl, options) {\n  var id = options.id,\n      drawMode = options.drawMode,\n      vertexCount = options.vertexCount,\n      attributes = options.attributes,\n      modelOptions = options.modelOptions;\n  var materialParser = new _gltfMaterialParser[\"default\"](gl, options);\n\n  _webgl.log.info(4, 'createGLTFModel defines: ', materialParser.defines)();\n\n  var managedResources = [];\n  managedResources.push.apply(managedResources, (0, _toConsumableArray2[\"default\"])(materialParser.generatedTextures));\n  managedResources.push.apply(managedResources, (0, _toConsumableArray2[\"default\"])(Object.values(attributes).map(function (attribute) {\n    return attribute.buffer;\n  })));\n  var model = new _modelNode[\"default\"](gl, Object.assign({\n    id: id,\n    drawMode: drawMode,\n    vertexCount: vertexCount,\n    modules: [_shadertools.pbr],\n    defines: materialParser.defines,\n    parameters: materialParser.parameters,\n    vs: addVersionToShader(gl, vs),\n    fs: addVersionToShader(gl, fs),\n    managedResources: managedResources\n  }, modelOptions));\n  model.setProps({\n    attributes: attributes\n  });\n  model.setUniforms(materialParser.uniforms);\n  return model;\n}\n//# sourceMappingURL=create-gltf-model.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","addVersionToShader","gl","source","_gltools","isWebGL2","concat","_interopRequireDefault","Object","defineProperty","value","createGLTFModel","options","id","drawMode","vertexCount","attributes","modelOptions","materialParser","_gltfMaterialParser","_webgl","log","info","defines","managedResources","push","apply","_toConsumableArray2","generatedTextures","values","map","attribute","buffer","model","_modelNode","assign","modules","_shadertools","pbr","parameters","vs","fs","setProps","setUniforms","uniforms"]
}
