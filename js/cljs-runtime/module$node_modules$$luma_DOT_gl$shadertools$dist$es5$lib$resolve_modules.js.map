{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$shadertools$dist$es5$lib$resolve_modules.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/shadertools/dist/es5/lib/resolve-modules.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$shadertools$dist$es5$lib$resolve_modules\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveModules = resolveModules;\nexports.TEST_EXPORTS = void 0;\n\nvar _shaderModule = _interopRequireDefault(require(\"./shader-module\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction resolveModules(modules) {\n  return getShaderDependencies(instantiateModules(modules));\n}\n\nfunction getShaderDependencies(modules) {\n  var moduleMap = {};\n  var moduleDepth = {};\n  getDependencyGraph({\n    modules: modules,\n    level: 0,\n    moduleMap: moduleMap,\n    moduleDepth: moduleDepth\n  });\n  return Object.keys(moduleDepth).sort(function (a, b) {\n    return moduleDepth[b] - moduleDepth[a];\n  }).map(function (name) {\n    return moduleMap[name];\n  });\n}\n\nfunction getDependencyGraph(_ref) {\n  var modules = _ref.modules,\n      level = _ref.level,\n      moduleMap = _ref.moduleMap,\n      moduleDepth = _ref.moduleDepth;\n\n  if (level >= 5) {\n    throw new Error('Possible loop in shader dependency graph');\n  }\n\n  var _iterator = _createForOfIteratorHelper(modules),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var module = _step.value;\n      moduleMap[module.name] = module;\n\n      if (moduleDepth[module.name] === undefined || moduleDepth[module.name] < level) {\n        moduleDepth[module.name] = level;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(modules),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _module = _step2.value;\n\n      if (_module.dependencies) {\n        getDependencyGraph({\n          modules: _module.dependencies,\n          level: level + 1,\n          moduleMap: moduleMap,\n          moduleDepth: moduleDepth\n        });\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\n\nfunction instantiateModules(modules, seen) {\n  return modules.map(function (module) {\n    if (module instanceof _shaderModule[\"default\"]) {\n      return module;\n    }\n\n    (0, _utils.assert)(typeof module !== 'string', \"Shader module use by name is deprecated. Import shader module '\".concat(module, \"' and use it directly.\"));\n    (0, _utils.assert)(module.name, 'shader module has no name');\n    module = new _shaderModule[\"default\"](module);\n    module.dependencies = instantiateModules(module.dependencies);\n    return module;\n  });\n}\n\nvar TEST_EXPORTS = {\n  getShaderDependencies: getShaderDependencies,\n  getDependencyGraph: getDependencyGraph\n};\nexports.TEST_EXPORTS = TEST_EXPORTS;\n//# sourceMappingURL=resolve-modules.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","getShaderDependencies","modules","moduleMap","moduleDepth","getDependencyGraph","level","keys","sort","a","b","map","_ref","Error","_iterator","_step","undefined","_iterator2","_step2","_module","dependencies","instantiateModules","seen","_shaderModule","_utils","assert","concat","_interopRequireDefault","defineProperty","resolveModules","TEST_EXPORTS"]
}
