{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$program.js",
"lineCount":26,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/program.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$program\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _resource = _interopRequireDefault(require(\"./resource\"));\n\nvar _texture = _interopRequireDefault(require(\"./texture\"));\n\nvar _framebuffer = _interopRequireDefault(require(\"./framebuffer\"));\n\nvar _uniforms = require(\"./uniforms\");\n\nvar _shader = require(\"./shader\");\n\nvar _programConfiguration = _interopRequireDefault(require(\"./program-configuration\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _webglUtils = require(\"../webgl-utils\");\n\nvar _attributeUtils = require(\"../webgl-utils/attribute-utils\");\n\nvar _utils = require(\"../utils\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar LOG_PROGRAM_PERF_PRIORITY = 4;\nvar GL_SEPARATE_ATTRIBS = 0x8c8d;\nvar V6_DEPRECATED_METHODS = ['setVertexArray', 'setAttributes', 'setBuffers', 'unsetBuffers', 'use', 'getUniformCount', 'getUniformInfo', 'getUniformLocation', 'getUniformValue', 'getVarying', 'getFragDataLocation', 'getAttachedShaders', 'getAttributeCount', 'getAttributeLocation', 'getAttributeInfo'];\n\nvar Program = function (_Resource) {\n  (0, _inherits2[\"default\"])(Program, _Resource);\n\n  var _super = _createSuper(Program);\n\n  function Program(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, Program);\n    _this = _super.call(this, gl, props);\n\n    _this.stubRemovedMethods('Program', 'v6.0', V6_DEPRECATED_METHODS);\n\n    _this._isCached = false;\n\n    _this.initialize(props);\n\n    Object.seal((0, _assertThisInitialized2[\"default\"])(_this));\n\n    _this._setId(props.id);\n\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Program, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var hash = props.hash,\n          vs = props.vs,\n          fs = props.fs,\n          varyings = props.varyings,\n          _props$bufferMode = props.bufferMode,\n          bufferMode = _props$bufferMode === void 0 ? GL_SEPARATE_ATTRIBS : _props$bufferMode;\n      this.hash = hash || '';\n      this.vs = typeof vs === 'string' ? new _shader.VertexShader(this.gl, {\n        id: \"\".concat(props.id, \"-vs\"),\n        source: vs\n      }) : vs;\n      this.fs = typeof fs === 'string' ? new _shader.FragmentShader(this.gl, {\n        id: \"\".concat(props.id, \"-fs\"),\n        source: fs\n      }) : fs;\n      (0, _utils.assert)(this.vs instanceof _shader.VertexShader);\n      (0, _utils.assert)(this.fs instanceof _shader.FragmentShader);\n      this.uniforms = {};\n      this._textureUniforms = {};\n\n      if (varyings && varyings.length > 0) {\n        (0, _gltools.assertWebGL2Context)(this.gl);\n        this.varyings = varyings;\n        this.gl2.transformFeedbackVaryings(this.handle, varyings, bufferMode);\n      }\n\n      this._compileAndLink();\n\n      this._readUniformLocationsFromLinkedProgram();\n\n      this.configuration = new _programConfiguration[\"default\"](this);\n      return this.setProps(props);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._isCached) {\n        return this;\n      }\n\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Program.prototype), \"delete\", this).call(this, options);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('uniforms' in props) {\n        this.setUniforms(props.uniforms);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref) {\n      var _this2 = this;\n\n      var logPriority = _ref.logPriority,\n          _ref$drawMode = _ref.drawMode,\n          drawMode = _ref$drawMode === void 0 ? 4 : _ref$drawMode,\n          vertexCount = _ref.vertexCount,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          start = _ref.start,\n          end = _ref.end,\n          _ref$isIndexed = _ref.isIndexed,\n          isIndexed = _ref$isIndexed === void 0 ? false : _ref$isIndexed,\n          _ref$indexType = _ref.indexType,\n          indexType = _ref$indexType === void 0 ? 5123 : _ref$indexType,\n          _ref$instanceCount = _ref.instanceCount,\n          instanceCount = _ref$instanceCount === void 0 ? 0 : _ref$instanceCount,\n          _ref$isInstanced = _ref.isInstanced,\n          isInstanced = _ref$isInstanced === void 0 ? instanceCount > 0 : _ref$isInstanced,\n          _ref$vertexArray = _ref.vertexArray,\n          vertexArray = _ref$vertexArray === void 0 ? null : _ref$vertexArray,\n          transformFeedback = _ref.transformFeedback,\n          framebuffer = _ref.framebuffer,\n          _ref$parameters = _ref.parameters,\n          parameters = _ref$parameters === void 0 ? {} : _ref$parameters,\n          uniforms = _ref.uniforms,\n          samplers = _ref.samplers;\n\n      if (uniforms || samplers) {\n        _gltools.log.deprecated('Program.draw({uniforms})', 'Program.setUniforms(uniforms)')();\n\n        this.setUniforms(uniforms || {});\n      }\n\n      if (_gltools.log.priority >= logPriority) {\n        var fb = framebuffer ? framebuffer.id : 'default';\n        var message = \"mode=\".concat((0, _webglUtils.getKey)(this.gl, drawMode), \" verts=\").concat(vertexCount, \" \") + \"instances=\".concat(instanceCount, \" indexType=\").concat((0, _webglUtils.getKey)(this.gl, indexType), \" \") + \"isInstanced=\".concat(isInstanced, \" isIndexed=\").concat(isIndexed, \" \") + \"Framebuffer=\".concat(fb);\n\n        _gltools.log.log(logPriority, message)();\n      }\n\n      (0, _utils.assert)(vertexArray);\n      this.gl.useProgram(this.handle);\n\n      if (!this._areTexturesRenderable() || vertexCount === 0 || isInstanced && instanceCount === 0) {\n        return false;\n      }\n\n      vertexArray.bindForDraw(vertexCount, instanceCount, function () {\n        if (framebuffer !== undefined) {\n          parameters = Object.assign({}, parameters, {\n            framebuffer: framebuffer\n          });\n        }\n\n        if (transformFeedback) {\n          var primitiveMode = (0, _attributeUtils.getPrimitiveDrawMode)(drawMode);\n          transformFeedback.begin(primitiveMode);\n        }\n\n        _this2._bindTextures();\n\n        (0, _gltools.withParameters)(_this2.gl, parameters, function () {\n          if (isIndexed && isInstanced) {\n            _this2.gl2.drawElementsInstanced(drawMode, vertexCount, indexType, offset, instanceCount);\n          } else if (isIndexed && (0, _gltools.isWebGL2)(_this2.gl) && !isNaN(start) && !isNaN(end)) {\n            _this2.gl2.drawRangeElements(drawMode, start, end, vertexCount, indexType, offset);\n          } else if (isIndexed) {\n            _this2.gl.drawElements(drawMode, vertexCount, indexType, offset);\n          } else if (isInstanced) {\n            _this2.gl2.drawArraysInstanced(drawMode, offset, vertexCount, instanceCount);\n          } else {\n            _this2.gl.drawArrays(drawMode, offset, vertexCount);\n          }\n        });\n\n        if (transformFeedback) {\n          transformFeedback.end();\n        }\n      });\n      return true;\n    }\n  }, {\n    key: \"setUniforms\",\n    value: function setUniforms() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (_gltools.log.priority >= 2) {\n        (0, _uniforms.checkUniformValues)(uniforms, this.id, this._uniformSetters);\n      }\n\n      this.gl.useProgram(this.handle);\n\n      for (var uniformName in uniforms) {\n        var uniform = uniforms[uniformName];\n        var uniformSetter = this._uniformSetters[uniformName];\n\n        if (uniformSetter) {\n          var value = uniform;\n          var textureUpdate = false;\n\n          if (value instanceof _framebuffer[\"default\"]) {\n            value = value.texture;\n          }\n\n          if (value instanceof _texture[\"default\"]) {\n            textureUpdate = this.uniforms[uniformName] !== uniform;\n\n            if (textureUpdate) {\n              if (uniformSetter.textureIndex === undefined) {\n                uniformSetter.textureIndex = this._textureIndexCounter++;\n              }\n\n              var texture = value;\n              var textureIndex = uniformSetter.textureIndex;\n              texture.bind(textureIndex);\n              value = textureIndex;\n              this._textureUniforms[uniformName] = texture;\n            } else {\n              value = uniformSetter.textureIndex;\n            }\n          } else if (this._textureUniforms[uniformName]) {\n            delete this._textureUniforms[uniformName];\n          }\n\n          if (uniformSetter(value) || textureUpdate) {\n            (0, _uniforms.copyUniform)(this.uniforms, uniformName, uniform);\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_areTexturesRenderable\",\n    value: function _areTexturesRenderable() {\n      var texturesRenderable = true;\n\n      for (var uniformName in this._textureUniforms) {\n        var texture = this._textureUniforms[uniformName];\n        texture.update();\n        texturesRenderable = texturesRenderable && texture.loaded;\n      }\n\n      return texturesRenderable;\n    }\n  }, {\n    key: \"_bindTextures\",\n    value: function _bindTextures() {\n      for (var uniformName in this._textureUniforms) {\n        var textureIndex = this._uniformSetters[uniformName].textureIndex;\n\n        this._textureUniforms[uniformName].bind(textureIndex);\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createProgram();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteProgram(this.handle);\n    }\n  }, {\n    key: \"_getOptionsFromHandle\",\n    value: function _getOptionsFromHandle(handle) {\n      var shaderHandles = this.gl.getAttachedShaders(handle);\n      var opts = {};\n\n      var _iterator = _createForOfIteratorHelper(shaderHandles),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var shaderHandle = _step.value;\n          var type = this.gl.getShaderParameter(this.handle, 35663);\n\n          switch (type) {\n            case 35633:\n              opts.vs = new _shader.VertexShader({\n                handle: shaderHandle\n              });\n              break;\n\n            case 35632:\n              opts.fs = new _shader.FragmentShader({\n                handle: shaderHandle\n              });\n              break;\n\n            default:\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return opts;\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      return this.gl.getProgramParameter(this.handle, pname);\n    }\n  }, {\n    key: \"_setId\",\n    value: function _setId(id) {\n      if (!id) {\n        var programName = this._getName();\n\n        this.id = (0, _utils.uid)(programName);\n      }\n    }\n  }, {\n    key: \"_getName\",\n    value: function _getName() {\n      var programName = this.vs.getName() || this.fs.getName();\n      programName = programName.replace(/shader/i, '');\n      programName = programName ? \"\".concat(programName, \"-program\") : 'program';\n      return programName;\n    }\n  }, {\n    key: \"_compileAndLink\",\n    value: function _compileAndLink() {\n      var gl = this.gl;\n      gl.attachShader(this.handle, this.vs.handle);\n      gl.attachShader(this.handle, this.fs.handle);\n\n      _gltools.log.time(LOG_PROGRAM_PERF_PRIORITY, \"linkProgram for \".concat(this._getName()))();\n\n      gl.linkProgram(this.handle);\n\n      _gltools.log.timeEnd(LOG_PROGRAM_PERF_PRIORITY, \"linkProgram for \".concat(this._getName()))();\n\n      if (gl.debug || _gltools.log.level > 0) {\n        var linked = gl.getProgramParameter(this.handle, 35714);\n\n        if (!linked) {\n          throw new Error(\"Error linking: \".concat(gl.getProgramInfoLog(this.handle)));\n        }\n\n        gl.validateProgram(this.handle);\n        var validated = gl.getProgramParameter(this.handle, 35715);\n\n        if (!validated) {\n          throw new Error(\"Error validating: \".concat(gl.getProgramInfoLog(this.handle)));\n        }\n      }\n    }\n  }, {\n    key: \"_readUniformLocationsFromLinkedProgram\",\n    value: function _readUniformLocationsFromLinkedProgram() {\n      var gl = this.gl;\n      this._uniformSetters = {};\n      this._uniformCount = this._getParameter(35718);\n\n      for (var i = 0; i < this._uniformCount; i++) {\n        var info = this.gl.getActiveUniform(this.handle, i);\n\n        var _parseUniformName = (0, _uniforms.parseUniformName)(info.name),\n            name = _parseUniformName.name;\n\n        var location = gl.getUniformLocation(this.handle, name);\n        this._uniformSetters[name] = (0, _uniforms.getUniformSetter)(gl, location, info);\n\n        if (info.size > 1) {\n          for (var l = 0; l < info.size; l++) {\n            location = gl.getUniformLocation(this.handle, \"\".concat(name, \"[\").concat(l, \"]\"));\n            this._uniformSetters[\"\".concat(name, \"[\").concat(l, \"]\")] = (0, _uniforms.getUniformSetter)(gl, location, info);\n          }\n        }\n      }\n\n      this._textureIndexCounter = 0;\n    }\n  }, {\n    key: \"getActiveUniforms\",\n    value: function getActiveUniforms(uniformIndices, pname) {\n      return this.gl2.getActiveUniforms(this.handle, uniformIndices, pname);\n    }\n  }, {\n    key: \"getUniformBlockIndex\",\n    value: function getUniformBlockIndex(blockName) {\n      return this.gl2.getUniformBlockIndex(this.handle, blockName);\n    }\n  }, {\n    key: \"getActiveUniformBlockParameter\",\n    value: function getActiveUniformBlockParameter(blockIndex, pname) {\n      return this.gl2.getActiveUniformBlockParameter(this.handle, blockIndex, pname);\n    }\n  }, {\n    key: \"uniformBlockBinding\",\n    value: function uniformBlockBinding(blockIndex, blockBinding) {\n      this.gl2.uniformBlockBinding(this.handle, blockIndex, blockBinding);\n    }\n  }]);\n  return Program;\n}(_resource[\"default\"]);\n\nexports[\"default\"] = Program;\n//# sourceMappingURL=program.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","_interopRequireDefault","defineProperty","_classCallCheck2","_createClass2","_assertThisInitialized2","_get2","_inherits2","_resource","_texture","_framebuffer","_uniforms","_shader","_programConfiguration","_gltools","_webglUtils","_attributeUtils","_utils","V6_DEPRECATED_METHODS","Program","_Resource","gl","props","undefined","_this","_super","stubRemovedMethods","_isCached","initialize","seal","_setId","id","key","vs","fs","varyings","_props$bufferMode","bufferMode","GL_SEPARATE_ATTRIBS","hash","VertexShader","concat","source","FragmentShader","assert","uniforms","_textureUniforms","assertWebGL2Context","gl2","transformFeedbackVaryings","handle","_compileAndLink","_readUniformLocationsFromLinkedProgram","configuration","setProps","_delete","options","setUniforms","draw","_ref","_this2","logPriority","_ref$drawMode","drawMode","vertexCount","_ref$offset","offset","start","end","_ref$isIndexed","isIndexed","_ref$indexType","indexType","_ref$instanceCount","instanceCount","_ref$isInstanced","isInstanced","_ref$vertexArray","vertexArray","transformFeedback","framebuffer","_ref$parameters","parameters","samplers","log","deprecated","priority","fb","message","getKey","useProgram","_areTexturesRenderable","bindForDraw","assign","primitiveMode","getPrimitiveDrawMode","begin","_bindTextures","withParameters","drawElementsInstanced","isWebGL2","isNaN","drawRangeElements","drawElements","drawArraysInstanced","drawArrays","checkUniformValues","_uniformSetters","uniformName","uniform","uniformSetter","textureUpdate","texture","textureIndex","_textureIndexCounter","bind","copyUniform","texturesRenderable","update","loaded","_createHandle","createProgram","_deleteHandle","deleteProgram","_getOptionsFromHandle","shaderHandles","getAttachedShaders","opts","_iterator","_step","shaderHandle","type","getShaderParameter","_getParameter","pname","getProgramParameter","programName","_getName","uid","getName","replace","attachShader","time","LOG_PROGRAM_PERF_PRIORITY","linkProgram","timeEnd","debug","level","linked","Error","getProgramInfoLog","validateProgram","validated","_uniformCount","info","getActiveUniform","_parseUniformName","parseUniformName","location","getUniformLocation","getUniformSetter","size","l","getActiveUniforms","uniformIndices","getUniformBlockIndex","blockName","getActiveUniformBlockParameter","blockIndex","uniformBlockBinding","blockBinding"]
}
