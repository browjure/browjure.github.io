shadow$provide.module$node_modules$react_map_gl$dist$es5$components$static_map=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function NoTokenWarning(){return React.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",
left:0,top:0}},React.createElement("h3",{key:"header"},"A valid API access token is required to use Mapbox data"),React.createElement("div",{key:"text"},"For information on setting up your basemap, read"),React.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}function getRefHandles(mapboxRef){return{getMap:function(){return mapboxRef.current&&mapboxRef.current.getMap()},queryRenderedFeatures:function(geometry){var options=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},map=mapboxRef.current&&mapboxRef.current.getMap();return map&&map.queryRenderedFeatures(geometry,options)}}}function preventScroll(event){event.target.scrollTo(0,0)}module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");var _interopRequireDefault=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=
_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=module(require("module$node_modules$react$index")),PropTypes=module(require("module$node_modules$prop_types$index")),_viewportMercatorProject=_interopRequireDefault(require("module$node_modules$viewport_mercator_project$index")),_resizeObserverPolyfill=_interopRequireDefault(require("module$node_modules$resize_observer_polyfill$dist$ResizeObserver")),
_mapbox=_interopRequireDefault(require("module$node_modules$react_map_gl$dist$es5$mapbox$mapbox")),_mapboxgl=_interopRequireDefault(require("module$node_modules$react_map_gl$dist$es5$utils$mapboxgl_browser")),_mapConstraints=require("module$node_modules$react_map_gl$dist$es5$utils$map_constraints");global=require("module$node_modules$react_map_gl$dist$es5$utils$map_state");var _mapContext=module(require("module$node_modules$react_map_gl$dist$es5$components$map_context")),_useIsomorphicLayoutEffect=
_interopRequireDefault(require("module$node_modules$react_map_gl$dist$es5$utils$use_isomorphic_layout_effect")),CONTAINER_STYLE={position:"absolute",width:"100%",height:"100%",overflow:"hidden"};require=Object.assign({},_mapbox["default"].propTypes,{width:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),height:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),onResize:PropTypes.func,disableTokenWarning:PropTypes.bool,visible:PropTypes.bool,className:PropTypes.string,style:PropTypes.object,
visibilityConstraints:PropTypes.object});global=Object.assign({},_mapbox["default"].defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:global.MAPBOX_LIMITS});var StaticMap=(0,React.forwardRef)(function(props,ref){var _useState=(0,React.useState)(!0);_useState=(0,_slicedToArray2["default"])(_useState,2);var accessTokenValid=_useState[0],setTokenState=_useState[1];_useState=(0,React.useState)([0,0]);_useState=(0,_slicedToArray2["default"])(_useState,
2);var size=_useState[0],setSize=_useState[1],mapboxRef=(0,React.useRef)(null),mapDivRef=(0,React.useRef)(null),containerRef=(0,React.useRef)(null),context=(0,React.useContext)(_mapContext["default"]);(0,_useIsomorphicLayoutEffect["default"])(function(){if(StaticMap.supported()){var mapbox=new _mapbox["default"](_objectSpread(_objectSpread({},props),{},{mapboxgl:_mapboxgl["default"],width:size[0],height:size[1],container:mapDivRef.current,onError:function(evt){401===(evt.error&&evt.error.status||
evt.status)&&accessTokenValid&&(console.error("A valid API access token is required to use Mapbox data"),setTokenState(!1));props.onError(evt)}}));mapboxRef.current=mapbox;context&&context.setMap&&context.setMap(mapbox.getMap());var resizeObserver=new _resizeObserverPolyfill["default"](function(entries){if(entries[0].contentRect){var _entries$0$contentRec=entries[0].contentRect;entries=_entries$0$contentRec.width;_entries$0$contentRec=_entries$0$contentRec.height;setSize([entries,_entries$0$contentRec]);
props.onResize({width:entries,height:_entries$0$contentRec})}});resizeObserver.observe(containerRef.current);return function(){mapbox.finalize();mapboxRef.current=null;resizeObserver.disconnect()}}},[]);(0,_useIsomorphicLayoutEffect["default"])(function(){mapboxRef.current&&mapboxRef.current.setProps(Object.assign({},props,{width:size[0],height:size[1]}))});_useState=mapboxRef.current&&mapboxRef.current.getMap();(0,React.useImperativeHandle)(ref,function(){return getRefHandles(mapboxRef)},[]);ref=
_useState&&React.createElement(_mapContext.MapContextProvider,{value:_objectSpread(_objectSpread({},context),{},{viewport:context.viewport||new _viewportMercatorProject["default"](_objectSpread(_objectSpread(_objectSpread({},props),props.viewState),{},{width:size[0],height:size[1]})),map:_useState,container:context.container||containerRef.current})},React.createElement("div",{key:"map-overlays",className:"overlays",style:CONTAINER_STYLE,onScroll:preventScroll},props.children));_useState=props.className;
var visibilityConstraints=props.visibilityConstraints,mapContainerStyle=Object.assign({position:"relative"},props.style,{width:props.width,height:props.height});visibilityConstraints=props.visible&&(0,_mapConstraints.checkVisibilityConstraints)(props.viewState||props,visibilityConstraints);visibilityConstraints=Object.assign({},CONTAINER_STYLE,{visibility:visibilityConstraints?"inherit":"hidden"});return React.createElement("div",{key:"map-container",ref:containerRef,style:mapContainerStyle},React.createElement("div",
{key:"map-mapbox",ref:mapDivRef,style:visibilityConstraints,className:_useState}),ref,!accessTokenValid&&!props.disableTokenWarning&&React.createElement(NoTokenWarning,null))});StaticMap.supported=function(){return _mapboxgl["default"]&&_mapboxgl["default"].supported()};StaticMap.propTypes=require;StaticMap.defaultProps=global;exports["default"]=StaticMap}
//# sourceMappingURL=module$node_modules$react_map_gl$dist$es5$components$static_map.js.map
