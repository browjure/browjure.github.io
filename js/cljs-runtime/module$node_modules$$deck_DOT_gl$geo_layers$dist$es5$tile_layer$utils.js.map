{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$utils.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/geo-layers/dist/es5/tile-layer/utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$utils\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getURLFromTemplate = getURLFromTemplate;\nexports.osmTile2lngLat = osmTile2lngLat;\nexports.tileToBoundingBox = tileToBoundingBox;\nexports.getTileIndices = getTileIndices;\nexports.isURLTemplate = isURLTemplate;\nexports.urlType = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _tile2dTraversal = require(\"./tile-2d-traversal\");\n\nvar TILE_SIZE = 512;\nvar DEFAULT_EXTENT = [-Infinity, -Infinity, Infinity, Infinity];\nvar urlType = {\n  type: 'url',\n  value: '',\n  validate: function validate(value) {\n    return typeof value === 'string' || Array.isArray(value) && value.every(function (url) {\n      return typeof url === 'string';\n    });\n  },\n  equals: function equals(value1, value2) {\n    if (value1 === value2) {\n      return true;\n    }\n\n    if (!Array.isArray(value1) || !Array.isArray(value2)) {\n      return false;\n    }\n\n    var len = value1.length;\n\n    if (len !== value2.length) {\n      return false;\n    }\n\n    for (var i = 0; i < len; i++) {\n      if (value1[i] !== value2[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n};\nexports.urlType = urlType;\n\nfunction transformBox(bbox, modelMatrix) {\n  var transformedCoords = [modelMatrix.transformPoint([bbox[0], bbox[1]]), modelMatrix.transformPoint([bbox[2], bbox[1]]), modelMatrix.transformPoint([bbox[0], bbox[3]]), modelMatrix.transformPoint([bbox[2], bbox[3]])];\n  var transformedBox = [Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(transformedCoords.map(function (i) {\n    return i[0];\n  }))), Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(transformedCoords.map(function (i) {\n    return i[1];\n  }))), Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(transformedCoords.map(function (i) {\n    return i[0];\n  }))), Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(transformedCoords.map(function (i) {\n    return i[1];\n  })))];\n  return transformedBox;\n}\n\nfunction getURLFromTemplate(template, properties) {\n  if (!template || !template.length) {\n    return null;\n  }\n\n  if (Array.isArray(template)) {\n    var index = Math.abs(properties.x + properties.y) % template.length;\n    template = template[index];\n  }\n\n  var x = properties.x,\n      y = properties.y,\n      z = properties.z;\n  return template.replace('{x}', x).replace('{y}', y).replace('{z}', z).replace('{-y}', Math.pow(2, z) - y - 1);\n}\n\nfunction getBoundingBox(viewport, zRange, extent) {\n  var bounds;\n\n  if (zRange && zRange.length === 2) {\n    var _zRange = (0, _slicedToArray2[\"default\"])(zRange, 2),\n        minZ = _zRange[0],\n        maxZ = _zRange[1];\n\n    var bounds0 = viewport.getBounds({\n      z: minZ\n    });\n    var bounds1 = viewport.getBounds({\n      z: maxZ\n    });\n    bounds = [Math.min(bounds0[0], bounds1[0]), Math.min(bounds0[1], bounds1[1]), Math.max(bounds0[2], bounds1[2]), Math.max(bounds0[3], bounds1[3])];\n  } else {\n    bounds = viewport.getBounds();\n  }\n\n  if (!viewport.isGeospatial) {\n    return [Math.max(Math.min(bounds[0], extent[2]), extent[0]), Math.max(Math.min(bounds[1], extent[3]), extent[1]), Math.min(Math.max(bounds[2], extent[0]), extent[2]), Math.min(Math.max(bounds[3], extent[1]), extent[3])];\n  }\n\n  return [Math.max(bounds[0], extent[0]), Math.max(bounds[1], extent[1]), Math.min(bounds[2], extent[2]), Math.min(bounds[3], extent[3])];\n}\n\nfunction getIndexingCoords(bbox, scale, modelMatrixInverse) {\n  if (modelMatrixInverse) {\n    var transformedTileIndex = transformBox(bbox, modelMatrixInverse).map(function (i) {\n      return i * scale / TILE_SIZE;\n    });\n    return transformedTileIndex;\n  }\n\n  return bbox.map(function (i) {\n    return i * scale / TILE_SIZE;\n  });\n}\n\nfunction getScale(z) {\n  return Math.pow(2, z);\n}\n\nfunction osmTile2lngLat(x, y, z) {\n  var scale = getScale(z);\n  var lng = x / scale * 360 - 180;\n  var n = Math.PI - 2 * Math.PI * y / scale;\n  var lat = 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n  return [lng, lat];\n}\n\nfunction tile2XY(x, y, z) {\n  var scale = getScale(z);\n  return [x / scale * TILE_SIZE, y / scale * TILE_SIZE];\n}\n\nfunction tileToBoundingBox(viewport, x, y, z) {\n  if (viewport.isGeospatial) {\n    var _osmTile2lngLat = osmTile2lngLat(x, y, z),\n        _osmTile2lngLat2 = (0, _slicedToArray2[\"default\"])(_osmTile2lngLat, 2),\n        west = _osmTile2lngLat2[0],\n        north = _osmTile2lngLat2[1];\n\n    var _osmTile2lngLat3 = osmTile2lngLat(x + 1, y + 1, z),\n        _osmTile2lngLat4 = (0, _slicedToArray2[\"default\"])(_osmTile2lngLat3, 2),\n        east = _osmTile2lngLat4[0],\n        south = _osmTile2lngLat4[1];\n\n    return {\n      west: west,\n      north: north,\n      east: east,\n      south: south\n    };\n  }\n\n  var _tile2XY = tile2XY(x, y, z),\n      _tile2XY2 = (0, _slicedToArray2[\"default\"])(_tile2XY, 2),\n      left = _tile2XY2[0],\n      top = _tile2XY2[1];\n\n  var _tile2XY3 = tile2XY(x + 1, y + 1, z),\n      _tile2XY4 = (0, _slicedToArray2[\"default\"])(_tile2XY3, 2),\n      right = _tile2XY4[0],\n      bottom = _tile2XY4[1];\n\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n}\n\nfunction getIdentityTileIndices(viewport, z, extent, modelMatrixInverse) {\n  var bbox = getBoundingBox(viewport, null, extent);\n  var scale = getScale(z);\n\n  var _getIndexingCoords = getIndexingCoords(bbox, scale, modelMatrixInverse),\n      _getIndexingCoords2 = (0, _slicedToArray2[\"default\"])(_getIndexingCoords, 4),\n      minX = _getIndexingCoords2[0],\n      minY = _getIndexingCoords2[1],\n      maxX = _getIndexingCoords2[2],\n      maxY = _getIndexingCoords2[3];\n\n  var indices = [];\n\n  for (var x = Math.floor(minX); x < maxX; x++) {\n    for (var y = Math.floor(minY); y < maxY; y++) {\n      indices.push({\n        x: x,\n        y: y,\n        z: z\n      });\n    }\n  }\n\n  return indices;\n}\n\nfunction getTileIndices(_ref) {\n  var viewport = _ref.viewport,\n      maxZoom = _ref.maxZoom,\n      minZoom = _ref.minZoom,\n      zRange = _ref.zRange,\n      extent = _ref.extent,\n      _ref$tileSize = _ref.tileSize,\n      tileSize = _ref$tileSize === void 0 ? TILE_SIZE : _ref$tileSize,\n      modelMatrix = _ref.modelMatrix,\n      modelMatrixInverse = _ref.modelMatrixInverse;\n  var z = Math.round(viewport.zoom + Math.log2(TILE_SIZE / tileSize));\n\n  if (Number.isFinite(minZoom) && z < minZoom) {\n    if (!extent) {\n      return [];\n    }\n\n    z = minZoom;\n  }\n\n  if (Number.isFinite(maxZoom) && z > maxZoom) {\n    z = maxZoom;\n  }\n\n  var transformedExtent = extent;\n\n  if (modelMatrix && modelMatrixInverse && extent && !viewport.isGeospatial) {\n    transformedExtent = transformBox(extent, modelMatrix);\n  }\n\n  return viewport.isGeospatial ? (0, _tile2dTraversal.getOSMTileIndices)(viewport, z, zRange, extent || DEFAULT_EXTENT) : getIdentityTileIndices(viewport, z, transformedExtent || DEFAULT_EXTENT, modelMatrixInverse);\n}\n\nfunction isURLTemplate(s) {\n  return /(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(s);\n}\n//# sourceMappingURL=utils.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","transformBox","bbox","modelMatrix","transformedCoords","transformPoint","transformedBox","Math","min","apply","_toConsumableArray2","map","i","max","getIndexingCoords","scale","modelMatrixInverse","transformedTileIndex","TILE_SIZE","osmTile2lngLat","x","y","z","pow","n","PI","atan","exp","tile2XY","_interopRequireDefault","Object","defineProperty","value","getURLFromTemplate","template","properties","length","Array","isArray","abs","replace","tileToBoundingBox","viewport","isGeospatial","_osmTile2lngLat","_osmTile2lngLat2","_slicedToArray2","west","north","_osmTile2lngLat3","_osmTile2lngLat4","east","south","_tile2XY","_tile2XY2","left","top","_tile2XY3","_tile2XY4","right","bottom","getTileIndices","_ref","maxZoom","minZoom","zRange","extent","_ref$tileSize","tileSize","round","zoom","log2","Number","isFinite","transformedExtent","bounds","getBounds","_getIndexingCoords","_getIndexingCoords2","minY","maxX","maxY","indices","floor","minX","push","isURLTemplate","s","test","urlType","_tile2dTraversal","DEFAULT_EXTENT","Infinity","type","validate","every","url","equals","value1","value2","len"]
}
