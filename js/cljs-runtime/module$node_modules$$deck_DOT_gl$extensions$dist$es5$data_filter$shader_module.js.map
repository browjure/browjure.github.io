{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$extensions$dist$es5$data_filter$shader_module.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/extensions/dist/es5/data-filter/shader-module.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$extensions$dist$es5$data_filter$shader_module\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shaderModule64 = exports.shaderModule = void 0;\nvar vs = \"\\nuniform DATAFILTER_TYPE filter_min;\\nuniform DATAFILTER_TYPE filter_softMin;\\nuniform DATAFILTER_TYPE filter_softMax;\\nuniform DATAFILTER_TYPE filter_max;\\nuniform bool filter_useSoftMargin;\\nuniform bool filter_enabled;\\nuniform bool filter_transformSize;\\n\\n#ifdef NON_INSTANCED_MODEL\\n  #define DATAFILTER_ATTRIB filterValues\\n  #define DATAFILTER_ATTRIB_64LOW filterValues64Low\\n#else\\n  #define DATAFILTER_ATTRIB instanceFilterValues\\n  #define DATAFILTER_ATTRIB_64LOW instanceFilterValues64Low\\n#endif\\n\\nattribute DATAFILTER_TYPE DATAFILTER_ATTRIB;\\n#ifdef DATAFILTER_DOUBLE\\n  attribute DATAFILTER_TYPE DATAFILTER_ATTRIB_64LOW;\\n\\n  uniform DATAFILTER_TYPE filter_min64High;\\n  uniform DATAFILTER_TYPE filter_max64High;\\n#endif\\n\\nvarying float dataFilter_value;\\n\\nfloat dataFilter_reduceValue(float value) {\\n  return value;\\n}\\nfloat dataFilter_reduceValue(vec2 value) {\\n  return min(value.x, value.y);\\n}\\nfloat dataFilter_reduceValue(vec3 value) {\\n  return min(min(value.x, value.y), value.z);\\n}\\nfloat dataFilter_reduceValue(vec4 value) {\\n  return min(min(value.x, value.y), min(value.z, value.w));\\n}\\nvoid dataFilter_setValue(DATAFILTER_TYPE valueFromMin, DATAFILTER_TYPE valueFromMax) {\\n  if (filter_enabled) {\\n    if (filter_useSoftMargin) {\\n      dataFilter_value = dataFilter_reduceValue(\\n        smoothstep(filter_min, filter_softMin, valueFromMin) *\\n        (1.0 - smoothstep(filter_softMax, filter_max, valueFromMax))\\n      );\\n    } else {\\n      dataFilter_value = dataFilter_reduceValue(\\n        step(filter_min, valueFromMin) * step(valueFromMax, filter_max)\\n      );\\n    }\\n  } else {\\n    dataFilter_value = 1.0;\\n  }\\n}\\n\";\nvar fs = \"\\nuniform bool filter_transformColor;\\nvarying float dataFilter_value;\\n\";\n\nvar getUniforms = function getUniforms(opts) {\n  if (!opts || !opts.extensions) {\n    return {};\n  }\n\n  var _opts$filterRange = opts.filterRange,\n      filterRange = _opts$filterRange === void 0 ? [-1, 1] : _opts$filterRange,\n      _opts$filterEnabled = opts.filterEnabled,\n      filterEnabled = _opts$filterEnabled === void 0 ? true : _opts$filterEnabled,\n      _opts$filterTransform = opts.filterTransformSize,\n      filterTransformSize = _opts$filterTransform === void 0 ? true : _opts$filterTransform,\n      _opts$filterTransform2 = opts.filterTransformColor,\n      filterTransformColor = _opts$filterTransform2 === void 0 ? true : _opts$filterTransform2;\n  var filterSoftRange = opts.filterSoftRange || filterRange;\n  var uniforms = Number.isFinite(filterRange[0]) ? {\n    filter_min: filterRange[0],\n    filter_softMin: filterSoftRange[0],\n    filter_softMax: filterSoftRange[1],\n    filter_max: filterRange[1]\n  } : {\n    filter_min: filterRange.map(function (r) {\n      return r[0];\n    }),\n    filter_softMin: filterSoftRange.map(function (r) {\n      return r[0];\n    }),\n    filter_softMax: filterSoftRange.map(function (r) {\n      return r[1];\n    }),\n    filter_max: filterRange.map(function (r) {\n      return r[1];\n    })\n  };\n  uniforms.filter_enabled = filterEnabled;\n  uniforms.filter_useSoftMargin = Boolean(opts.filterSoftRange);\n  uniforms.filter_transformSize = filterEnabled && filterTransformSize;\n  uniforms.filter_transformColor = filterEnabled && filterTransformColor;\n  return uniforms;\n};\n\nvar getUniforms64 = function getUniforms64(opts) {\n  if (!opts || !opts.extensions) {\n    return {};\n  }\n\n  var uniforms = getUniforms(opts);\n\n  if (Number.isFinite(uniforms.filter_min)) {\n    var min64High = Math.fround(uniforms.filter_min);\n    uniforms.filter_min -= min64High;\n    uniforms.filter_softMin -= min64High;\n    uniforms.filter_min64High = min64High;\n    var max64High = Math.fround(uniforms.filter_max);\n    uniforms.filter_max -= max64High;\n    uniforms.filter_softMax -= max64High;\n    uniforms.filter_max64High = max64High;\n  } else {\n    var _min64High = uniforms.filter_min.map(Math.fround);\n\n    uniforms.filter_min = uniforms.filter_min.map(function (x, i) {\n      return x - _min64High[i];\n    });\n    uniforms.filter_softMin = uniforms.filter_softMin.map(function (x, i) {\n      return x - _min64High[i];\n    });\n    uniforms.filter_min64High = _min64High;\n\n    var _max64High = uniforms.filter_max.map(Math.fround);\n\n    uniforms.filter_max = uniforms.filter_max.map(function (x, i) {\n      return x - _max64High[i];\n    });\n    uniforms.filter_softMax = uniforms.filter_softMax.map(function (x, i) {\n      return x - _max64High[i];\n    });\n    uniforms.filter_max64High = _max64High;\n  }\n\n  return uniforms;\n};\n\nvar inject = {\n  'vs:#main-start': \"\\n    #ifdef DATAFILTER_DOUBLE\\n      dataFilter_setValue(\\n        DATAFILTER_ATTRIB - filter_min64High + DATAFILTER_ATTRIB_64LOW,\\n        DATAFILTER_ATTRIB - filter_max64High + DATAFILTER_ATTRIB_64LOW\\n      );\\n    #else\\n      dataFilter_setValue(DATAFILTER_ATTRIB, DATAFILTER_ATTRIB);\\n    #endif\\n  \",\n  'vs:DECKGL_FILTER_SIZE': \"\\n    if (filter_transformSize) {\\n      size = size * dataFilter_value;\\n    }\\n  \",\n  'fs:DECKGL_FILTER_COLOR': \"\\n    if (dataFilter_value == 0.0) discard;\\n    if (filter_transformColor) {\\n      color.a *= dataFilter_value;\\n    }\\n  \"\n};\nvar shaderModule = {\n  name: 'data-filter',\n  vs: vs,\n  fs: fs,\n  inject: inject,\n  getUniforms: getUniforms\n};\nexports.shaderModule = shaderModule;\nvar shaderModule64 = {\n  name: 'data-filter-fp64',\n  vs: vs,\n  fs: fs,\n  inject: inject,\n  getUniforms: getUniforms64\n};\nexports.shaderModule64 = shaderModule64;\n//# sourceMappingURL=shader-module.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","shaderModule64","shaderModule","getUniforms","opts","extensions","_opts$filterRange","filterRange","_opts$filterEnabled","filterEnabled","_opts$filterTransform","filterTransformSize","_opts$filterTransform2","filterTransformColor","filterSoftRange","uniforms","Number","isFinite","filter_min","filter_softMin","filter_softMax","filter_max","map","r","filter_enabled","filter_useSoftMargin","filter_transformSize","filter_transformColor","inject","name","vs","fs","getUniforms64","min64High","Math","fround","filter_min64High","max64High","filter_max64High","_min64High","x","i","_max64High"]
}
