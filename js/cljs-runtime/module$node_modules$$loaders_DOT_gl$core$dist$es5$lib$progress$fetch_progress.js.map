{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$progress$fetch_progress.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/core/dist/es5/lib/progress/fetch-progress.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$progress$fetch_progress\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = fetchProgress;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nfunction fetchProgress(_x, _x2) {\n  return _fetchProgress.apply(this, arguments);\n}\n\nfunction _fetchProgress() {\n  _fetchProgress = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(response, onProgress) {\n    var onDone,\n        onError,\n        body,\n        contentLength,\n        totalBytes,\n        progressStream,\n        _args = arguments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            onDone = _args.length > 2 && _args[2] !== undefined ? _args[2] : function () {};\n            onError = _args.length > 3 && _args[3] !== undefined ? _args[3] : function () {};\n            _context.next = 4;\n            return response;\n\n          case 4:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 7:\n            body = response.body;\n\n            if (body) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 10:\n            contentLength = response.headers.get('content-length');\n            totalBytes = contentLength && parseInt(contentLength, 10);\n\n            if (contentLength > 0) {\n              _context.next = 14;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 14:\n            if (!(typeof ReadableStream === 'undefined' || !body.getReader)) {\n              _context.next = 16;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 16:\n            progressStream = new ReadableStream({\n              start: function start(controller) {\n                var reader = body.getReader();\n                read(controller, reader, 0, totalBytes, onProgress, onDone, onError);\n              }\n            });\n            return _context.abrupt(\"return\", new Response(progressStream));\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchProgress.apply(this, arguments);\n}\n\nfunction read(_x3, _x4, _x5, _x6, _x7, _x8, _x9) {\n  return _read.apply(this, arguments);\n}\n\nfunction _read() {\n  _read = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(controller, reader, loadedBytes, totalBytes, onProgress, onDone, onError) {\n    var _yield$reader$read, done, value, percent;\n\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return reader.read();\n\n          case 3:\n            _yield$reader$read = _context2.sent;\n            done = _yield$reader$read.done;\n            value = _yield$reader$read.value;\n\n            if (!done) {\n              _context2.next = 10;\n              break;\n            }\n\n            onDone();\n            controller.close();\n            return _context2.abrupt(\"return\");\n\n          case 10:\n            loadedBytes += value.byteLength;\n            percent = Math.round(loadedBytes / totalBytes * 100);\n            onProgress(percent, {\n              loadedBytes: loadedBytes,\n              totalBytes: totalBytes\n            });\n            controller.enqueue(value);\n            _context2.next = 16;\n            return read(controller, reader, loadedBytes, totalBytes, onProgress, onDone, onError);\n\n          case 16:\n            _context2.next = 22;\n            break;\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t0 = _context2[\"catch\"](0);\n            controller.error(_context2.t0);\n            onError(_context2.t0);\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 18]]);\n  }));\n  return _read.apply(this, arguments);\n}\n//# sourceMappingURL=fetch-progress.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_fetchProgress","_asyncToGenerator2","_regenerator","mark","_callee","response","onProgress","onDone","onError","body","contentLength","totalBytes","progressStream","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","sent","ok","abrupt","headers","get","parseInt","ReadableStream","getReader","start","controller","reader","read","Response","stop","apply","_x3","_x4","_x5","_x6","_x7","_x8","_x9","_read","_callee2","loadedBytes","_yield$reader$read","done","value","percent","_callee2$","_context2","close","byteLength","Math","round","enqueue","t0","error","_interopRequireDefault","Object","defineProperty","fetchProgress","_x","_x2"]
}
