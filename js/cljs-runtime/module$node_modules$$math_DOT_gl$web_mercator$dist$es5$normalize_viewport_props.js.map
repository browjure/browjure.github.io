{
"version":3,
"file":"module$node_modules$$math_DOT_gl$web_mercator$dist$es5$normalize_viewport_props.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/@math_DOT_gl/web-mercator/dist/es5/normalize-viewport-props.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$math_DOT_gl$web_mercator$dist$es5$normalize_viewport_props\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = normalizeViewportProps;\n\nvar _webMercatorViewport = _interopRequireDefault(require(\"./web-mercator-viewport\"));\n\nvar _mathUtils = require(\"./math-utils\");\n\nvar MAX_LATITUDE = 85.05113;\nvar MIN_LATITUDE = -85.05113;\n\nfunction normalizeViewportProps(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      longitude = _ref.longitude,\n      latitude = _ref.latitude,\n      zoom = _ref.zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = (0, _mathUtils.mod)(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = (0, _mathUtils.mod)(bearing + 180, 360) - 180;\n  }\n\n  var flatViewport = new _webMercatorViewport[\"default\"]({\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n  var bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  var shiftY = 0;\n\n  if (bottomY - topY < height) {\n    zoom += Math.log2(height / (bottomY - topY));\n    flatViewport = new _webMercatorViewport[\"default\"]({\n      width: width,\n      height: height,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom\n    });\n    topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n    bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  }\n\n  if (topY > 0) {\n    shiftY = topY;\n  } else if (bottomY < height) {\n    shiftY = bottomY - height;\n  }\n\n  if (shiftY) {\n    latitude = flatViewport.unproject([width / 2, height / 2 + shiftY])[1];\n  }\n\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}\n//# sourceMappingURL=normalize-viewport-props.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","normalizeViewportProps","_ref","width","height","longitude","latitude","zoom","_ref$pitch","pitch","_ref$bearing","bearing","_mathUtils","mod","flatViewport","_webMercatorViewport","topY","project","MAX_LATITUDE","bottomY","MIN_LATITUDE","shiftY","Math","log2","unproject"]
}
