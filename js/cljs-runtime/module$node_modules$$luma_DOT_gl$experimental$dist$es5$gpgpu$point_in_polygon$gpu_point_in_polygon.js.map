{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$experimental$dist$es5$gpgpu$point_in_polygon$gpu_point_in_polygon.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/experimental/dist/es5/gpgpu/point-in-polygon/gpu-point-in-polygon.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$experimental$dist$es5$gpgpu$point_in_polygon$gpu_point_in_polygon\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _webgl = require(\"@luma.gl/webgl\");\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _engine = require(\"@luma.gl/engine\");\n\nvar _textureFilter = _interopRequireDefault(require(\"./texture-filter\"));\n\nvar _shaders = require(\"./shaders\");\n\nvar Polygon = _interopRequireWildcard(require(\"./polygon\"));\n\nvar TEXTURE_SIZE = 512;\n\nvar GPUPointInPolygon = function () {\n  function GPUPointInPolygon(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, GPUPointInPolygon);\n    this.gl = gl;\n    (0, _webgl.assert)((0, _gltools.isWebGL2)(gl));\n    this.textureSize = TEXTURE_SIZE;\n\n    this._setupResources();\n\n    this.update(opts);\n  }\n\n  (0, _createClass2[\"default\"])(GPUPointInPolygon, [{\n    key: \"update\",\n    value: function update() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          polygons = _ref.polygons,\n          textureSize = _ref.textureSize;\n\n      if (textureSize) {\n        this.textureSize = textureSize;\n      }\n\n      if (!polygons || polygons.length === 0) {\n        return;\n      }\n\n      var _triangulatePolygons = triangulatePolygons(polygons),\n          vertices = _triangulatePolygons.vertices,\n          indices = _triangulatePolygons.indices,\n          vertexCount = _triangulatePolygons.vertexCount,\n          ids = _triangulatePolygons.ids;\n\n      this._updateResources(vertices, indices, ids, vertexCount);\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(_ref2) {\n      var positionBuffer = _ref2.positionBuffer,\n          filterValueIndexBuffer = _ref2.filterValueIndexBuffer,\n          count = _ref2.count;\n      this.filterTransform.update({\n        sourceBuffers: {\n          a_position: positionBuffer\n        },\n        feedbackBuffers: {\n          filterValueIndex: filterValueIndexBuffer\n        },\n        elementCount: count\n      });\n      var polygonTexture = this.polygonTexture,\n          boundingBox = this.boundingBox;\n      this.filterTransform.run({\n        moduleSettings: {\n          boundingBox: boundingBox,\n          texture: polygonTexture\n        }\n      });\n    }\n  }, {\n    key: \"_setupResources\",\n    value: function _setupResources() {\n      var _parameters;\n\n      var gl = this.gl;\n      this.polygonTexture = new _webgl.Texture2D(gl, {\n        format: 6407,\n        type: 5121,\n        dataFormat: 6407,\n        border: 0,\n        mipmaps: false,\n        parameters: (_parameters = {}, (0, _defineProperty2[\"default\"])(_parameters, 10240, 9728), (0, _defineProperty2[\"default\"])(_parameters, 10241, 9728), (0, _defineProperty2[\"default\"])(_parameters, 10242, 33071), (0, _defineProperty2[\"default\"])(_parameters, 10243, 33071), _parameters)\n      });\n      this.positionBuffer = new _webgl.Buffer(gl, {\n        accessor: {\n          type: 5126,\n          size: 2\n        }\n      });\n      this.idBuffer = new _webgl.Buffer(gl, {\n        accessor: {\n          type: 5126,\n          size: 1\n        }\n      });\n      this.indexBuffer = new _webgl.Buffer(gl, {\n        target: 34963,\n        accessor: {\n          type: 5123\n        }\n      });\n      this.polyTextureTransform = new _engine.Transform(gl, {\n        id: \"polygon-texture-creation-transform\",\n        elementCount: 0,\n        _targetTexture: this.polygonTexture,\n        _targetTextureVarying: 'v_polygonColor',\n        vs: _shaders.POLY_TEX_VS,\n        drawMode: 4,\n        isIndexed: true,\n        sourceBuffers: {\n          a_position: this.positionBuffer,\n          a_polygonID: this.idBuffer,\n          indices: this.indexBuffer\n        }\n      });\n      this.filterTransform = new _engine.Transform(gl, {\n        id: 'filter transform',\n        vs: _shaders.FILTER_VS,\n        modules: [_textureFilter[\"default\"]],\n        varyings: ['filterValueIndex']\n      });\n    }\n  }, {\n    key: \"_updateResources\",\n    value: function _updateResources(vertices, indices, ids, vertexCount) {\n      var boundingBox = getBoundingBox(vertices, vertexCount);\n\n      var _boundingBox = (0, _slicedToArray2[\"default\"])(boundingBox, 4),\n          xMin = _boundingBox[0],\n          yMin = _boundingBox[1],\n          xMax = _boundingBox[2],\n          yMax = _boundingBox[3];\n\n      var width = xMax - xMin;\n      var height = yMax - yMin;\n      var whRatio = width / height;\n      var textureSize = this.textureSize;\n      var texWidth = textureSize;\n      var texHeight = textureSize;\n\n      if (whRatio > 1) {\n        texHeight = texWidth / whRatio;\n      } else {\n        texWidth = texHeight * whRatio;\n      }\n\n      this.boundingBox = boundingBox;\n      this.polygonTexture.resize({\n        width: texWidth,\n        height: texHeight,\n        mipmaps: false\n      });\n      this.positionBuffer.setData(new Float32Array(vertices));\n      this.idBuffer.setData(new Float32Array(ids));\n      this.indexBuffer.setData(new Uint16Array(indices));\n      this.polyTextureTransform.update({\n        elementCount: indices.length,\n        _targetTexture: this.polygonTexture\n      });\n      this.polyTextureTransform.run({\n        uniforms: {\n          boundingBoxOriginSize: [xMin, yMin, width, height]\n        }\n      });\n    }\n  }]);\n  return GPUPointInPolygon;\n}();\n\nexports[\"default\"] = GPUPointInPolygon;\n\nfunction getBoundingBox(positions, vertexCount) {\n  var yMin = Infinity;\n  var yMax = -Infinity;\n  var xMin = Infinity;\n  var xMax = -Infinity;\n  var y;\n  var x;\n\n  for (var i = 0; i < vertexCount; i++) {\n    x = positions[i * 2];\n    y = positions[i * 2 + 1];\n    yMin = y < yMin ? y : yMin;\n    yMax = y > yMax ? y : yMax;\n    xMin = x < xMin ? x : xMin;\n    xMax = x > xMax ? x : xMax;\n  }\n\n  return [xMin, yMin, xMax, yMax];\n}\n\nfunction triangulatePolygons(polygons) {\n  var SIZE = 2;\n  var vertices = [];\n  var indices = [];\n  var ids = [];\n  var count = 0;\n  var polygonId = 0;\n\n  for (var i = 0; i < polygons.length; i++) {\n    var normalized = Polygon.normalize(polygons[i], SIZE);\n    var curVertices = normalized.positions || normalized;\n    var curCount = curVertices.length / SIZE;\n    var curIds = new Array(curCount).fill(polygonId);\n    vertices.push.apply(vertices, (0, _toConsumableArray2[\"default\"])(curVertices));\n    ids.push.apply(ids, (0, _toConsumableArray2[\"default\"])(curIds));\n    var curIndices = Polygon.getSurfaceIndices(normalized, SIZE);\n    var indexCount = curIndices.length;\n\n    for (var j = 0; j < indexCount; j++) {\n      curIndices[j] += count;\n    }\n\n    count += curCount;\n    indices.push.apply(indices, (0, _toConsumableArray2[\"default\"])(curIndices));\n    polygonId++;\n  }\n\n  (0, _webgl.assert)(count < 65536);\n  var vertexCount = Polygon.getVertexCount(vertices, SIZE);\n  return {\n    vertices: vertices,\n    indices: indices,\n    ids: ids,\n    vertexCount: vertexCount\n  };\n}\n//# sourceMappingURL=gpu-point-in-polygon.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_toConsumableArray2","_slicedToArray2","_defineProperty2","_classCallCheck2","_createClass2","_webgl","_gltools","_engine","_textureFilter","_shaders","Polygon","GPUPointInPolygon","gl","opts","arguments","length","undefined","assert","isWebGL2","textureSize","TEXTURE_SIZE","_setupResources","update","key","_ref","polygons","vertices","indices","ids","count","polygonId","i","normalized","normalize","SIZE","curVertices","positions","curCount","curIds","Array","fill","push","apply","curIndices","getSurfaceIndices","indexCount","j","vertexCount","getVertexCount","_updateResources","filter","_ref2","filterTransform","sourceBuffers","a_position","positionBuffer","feedbackBuffers","filterValueIndex","filterValueIndexBuffer","elementCount","run","moduleSettings","boundingBox","texture","polygonTexture","_parameters","Texture2D","format","type","dataFormat","border","mipmaps","parameters","Buffer","accessor","size","idBuffer","indexBuffer","target","polyTextureTransform","Transform","id","_targetTexture","_targetTextureVarying","vs","POLY_TEX_VS","drawMode","isIndexed","a_polygonID","FILTER_VS","modules","varyings","yMin","Infinity","yMax","xMin","xMax","y","x","_boundingBox","width","height","whRatio","texWidth","texHeight","resize","setData","Float32Array","Uint16Array","uniforms","boundingBoxOriginSize"]
}
