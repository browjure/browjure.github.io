{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lifecycle$props.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lifecycle/props.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lifecycle$props\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateProps = validateProps;\nexports.diffProps = diffProps;\nexports.compareProps = compareProps;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _constants = require(\"./constants\");\n\nvar COMPONENT = _constants.PROP_SYMBOLS.COMPONENT;\n\nfunction validateProps(props) {\n  var propTypes = getPropTypes(props);\n\n  for (var propName in propTypes) {\n    var propType = propTypes[propName];\n    var validate = propType.validate;\n\n    if (validate && !validate(props[propName], propType)) {\n      throw new Error(\"Invalid prop \".concat(propName, \": \").concat(props[propName]));\n    }\n  }\n}\n\nfunction diffProps(props, oldProps) {\n  var propsChangedReason = compareProps({\n    newProps: props,\n    oldProps: oldProps,\n    propTypes: getPropTypes(props),\n    ignoreProps: {\n      data: null,\n      updateTriggers: null,\n      extensions: null,\n      transitions: null\n    }\n  });\n  var dataChangedReason = diffDataProps(props, oldProps);\n  var updateTriggersChangedReason = false;\n\n  if (!dataChangedReason) {\n    updateTriggersChangedReason = diffUpdateTriggers(props, oldProps);\n  }\n\n  return {\n    dataChanged: dataChangedReason,\n    propsChanged: propsChangedReason,\n    updateTriggersChanged: updateTriggersChangedReason,\n    extensionsChanged: diffExtensions(props, oldProps),\n    transitionsChanged: diffTransitions(props, oldProps)\n  };\n}\n\nfunction diffTransitions(props, oldProps) {\n  if (!props.transitions) {\n    return null;\n  }\n\n  var result = {};\n  var propTypes = getPropTypes(props);\n\n  for (var key in props.transitions) {\n    var propType = propTypes[key];\n    var type = propType && propType.type;\n    var isTransitionable = type === 'number' || type === 'color' || type === 'array';\n\n    if (isTransitionable && comparePropValues(props[key], oldProps[key], propType)) {\n      result[key] = true;\n    }\n  }\n\n  return result;\n}\n\nfunction compareProps() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      newProps = _ref.newProps,\n      oldProps = _ref.oldProps,\n      _ref$ignoreProps = _ref.ignoreProps,\n      ignoreProps = _ref$ignoreProps === void 0 ? {} : _ref$ignoreProps,\n      _ref$propTypes = _ref.propTypes,\n      propTypes = _ref$propTypes === void 0 ? {} : _ref$propTypes,\n      _ref$triggerName = _ref.triggerName,\n      triggerName = _ref$triggerName === void 0 ? 'props' : _ref$triggerName;\n\n  if (oldProps === newProps) {\n    return null;\n  }\n\n  if ((0, _typeof2[\"default\"])(newProps) !== 'object' || newProps === null) {\n    return \"\".concat(triggerName, \" changed shallowly\");\n  }\n\n  if ((0, _typeof2[\"default\"])(oldProps) !== 'object' || oldProps === null) {\n    return \"\".concat(triggerName, \" changed shallowly\");\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(newProps); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in ignoreProps)) {\n      if (!(key in oldProps)) {\n        return \"\".concat(triggerName, \".\").concat(key, \" added\");\n      }\n\n      var changed = comparePropValues(newProps[key], oldProps[key], propTypes[key]);\n\n      if (changed) {\n        return \"\".concat(triggerName, \".\").concat(key, \" \").concat(changed);\n      }\n    }\n  }\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(oldProps); _i2 < _Object$keys2.length; _i2++) {\n    var _key = _Object$keys2[_i2];\n\n    if (!(_key in ignoreProps)) {\n      if (!(_key in newProps)) {\n        return \"\".concat(triggerName, \".\").concat(_key, \" dropped\");\n      }\n\n      if (!Object.hasOwnProperty.call(newProps, _key)) {\n        var _changed = comparePropValues(newProps[_key], oldProps[_key], propTypes[_key]);\n\n        if (_changed) {\n          return \"\".concat(triggerName, \".\").concat(_key, \" \").concat(_changed);\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction comparePropValues(newProp, oldProp, propType) {\n  var equal = propType && propType.equal;\n\n  if (equal && !equal(newProp, oldProp, propType)) {\n    return 'changed deeply';\n  }\n\n  if (!equal) {\n    equal = newProp && oldProp && newProp.equals;\n\n    if (equal && !equal.call(newProp, oldProp)) {\n      return 'changed deeply';\n    }\n  }\n\n  if (!equal && oldProp !== newProp) {\n    return 'changed shallowly';\n  }\n\n  return null;\n}\n\nfunction diffDataProps(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  var dataChanged = null;\n  var dataComparator = props.dataComparator,\n      _dataDiff = props._dataDiff;\n\n  if (dataComparator) {\n    if (!dataComparator(props.data, oldProps.data)) {\n      dataChanged = 'Data comparator detected a change';\n    }\n  } else if (props.data !== oldProps.data) {\n    dataChanged = 'A new data container was supplied';\n  }\n\n  if (dataChanged && _dataDiff) {\n    dataChanged = _dataDiff(props.data, oldProps.data) || dataChanged;\n  }\n\n  return dataChanged;\n}\n\nfunction diffUpdateTriggers(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  if ('all' in props.updateTriggers) {\n    var diffReason = diffUpdateTrigger(props, oldProps, 'all');\n\n    if (diffReason) {\n      return {\n        all: true\n      };\n    }\n  }\n\n  var triggerChanged = {};\n  var reason = false;\n\n  for (var triggerName in props.updateTriggers) {\n    if (triggerName !== 'all') {\n      var _diffReason = diffUpdateTrigger(props, oldProps, triggerName);\n\n      if (_diffReason) {\n        triggerChanged[triggerName] = true;\n        reason = triggerChanged;\n      }\n    }\n  }\n\n  return reason;\n}\n\nfunction diffExtensions(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  var oldExtensions = oldProps.extensions;\n  var extensions = props.extensions;\n\n  if (extensions === oldExtensions) {\n    return false;\n  }\n\n  if (extensions.length !== oldExtensions.length) {\n    return true;\n  }\n\n  for (var i = 0; i < extensions.length; i++) {\n    if (!extensions[i].equals(oldExtensions[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction diffUpdateTrigger(props, oldProps, triggerName) {\n  var newTriggers = props.updateTriggers[triggerName];\n  newTriggers = newTriggers === undefined || newTriggers === null ? {} : newTriggers;\n  var oldTriggers = oldProps.updateTriggers[triggerName];\n  oldTriggers = oldTriggers === undefined || oldTriggers === null ? {} : oldTriggers;\n  var diffReason = compareProps({\n    oldProps: oldTriggers,\n    newProps: newTriggers,\n    triggerName: triggerName\n  });\n  return diffReason;\n}\n\nfunction getPropTypes(props) {\n  var layer = props[COMPONENT];\n  var LayerType = layer && layer.constructor;\n  return LayerType ? LayerType._propTypes : {};\n}\n//# sourceMappingURL=props.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","compareProps","_ref","arguments","length","undefined","newProps","oldProps","_ref$ignoreProps","ignoreProps","_ref$propTypes","propTypes","_ref$triggerName","triggerName","_typeof2","concat","_i","_Object$keys","Object","keys","key","changed","comparePropValues","_i2","_Object$keys2","_key","hasOwnProperty","call","_changed","newProp","oldProp","propType","equal","equals","diffExtensions","props","oldExtensions","extensions","i","diffUpdateTrigger","newTriggers","updateTriggers","oldTriggers","diffReason","getPropTypes","LayerType","layer","COMPONENT","constructor","_propTypes","_interopRequireDefault","defineProperty","value","validateProps","propName","validate","Error","diffProps","propsChangedReason","data","transitions","dataChanged","dataComparator","_dataDiff","updateTriggersChangedReason","dataChangedReason","all","triggerChanged","reason","_diffReason","result","type","propsChanged","updateTriggersChanged","extensionsChanged","transitionsChanged","_constants","PROP_SYMBOLS"]
}
