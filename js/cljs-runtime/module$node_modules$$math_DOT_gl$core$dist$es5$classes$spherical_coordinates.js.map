{
"version":3,
"file":"module$node_modules$$math_DOT_gl$core$dist$es5$classes$spherical_coordinates.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/@math_DOT_gl/core/dist/es5/classes/spherical-coordinates.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$math_DOT_gl$core$dist$es5$classes$spherical_coordinates\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _common = require(\"../lib/common\");\n\nvar _vector = _interopRequireDefault(require(\"./vector3\"));\n\nvar vec3 = _interopRequireWildcard(require(\"gl-matrix/vec3\"));\n\nvar EPSILON = 0.000001;\nvar EARTH_RADIUS_METERS = 6.371e6;\n\nvar SphericalCoordinates = function () {\n  function SphericalCoordinates() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$phi = _ref.phi,\n        phi = _ref$phi === void 0 ? 0 : _ref$phi,\n        _ref$theta = _ref.theta,\n        theta = _ref$theta === void 0 ? 0 : _ref$theta,\n        _ref$radius = _ref.radius,\n        radius = _ref$radius === void 0 ? 1 : _ref$radius,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? undefined : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? undefined : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? undefined : _ref$altitude,\n        _ref$radiusScale = _ref.radiusScale,\n        radiusScale = _ref$radiusScale === void 0 ? EARTH_RADIUS_METERS : _ref$radiusScale;\n\n    (0, _classCallCheck2[\"default\"])(this, SphericalCoordinates);\n    this.phi = phi;\n    this.theta = theta;\n    this.radius = radius || altitude || 1;\n    this.radiusScale = radiusScale || 1;\n\n    if (bearing !== undefined) {\n      this.bearing = bearing;\n    }\n\n    if (pitch !== undefined) {\n      this.pitch = pitch;\n    }\n\n    this.check();\n  }\n\n  (0, _createClass2[\"default\"])(SphericalCoordinates, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.formatString(_common.config);\n    }\n  }, {\n    key: \"formatString\",\n    value: function formatString(_ref2) {\n      var _ref2$printTypes = _ref2.printTypes,\n          printTypes = _ref2$printTypes === void 0 ? false : _ref2$printTypes;\n      var f = _common.formatValue;\n      return \"\".concat(printTypes ? 'Spherical' : '', \"[rho:\").concat(f(this.radius), \",theta:\").concat(f(this.theta), \",phi:\").concat(f(this.phi), \"]\");\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(other) {\n      return (0, _common.equals)(this.radius, other.radius) && (0, _common.equals)(this.theta, other.theta) && (0, _common.equals)(this.phi, other.phi);\n    }\n  }, {\n    key: \"exactEquals\",\n    value: function exactEquals(other) {\n      return this.radius === other.radius && this.theta === other.theta && this.phi === other.phi;\n    }\n  }, {\n    key: \"set\",\n    value: function set(radius, phi, theta) {\n      this.radius = radius;\n      this.phi = phi;\n      this.theta = theta;\n      return this.check();\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new SphericalCoordinates().copy(this);\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(other) {\n      this.radius = other.radius;\n      this.phi = other.phi;\n      this.theta = other.theta;\n      return this.check();\n    }\n  }, {\n    key: \"fromLngLatZ\",\n    value: function fromLngLatZ(_ref3) {\n      var _ref4 = (0, _slicedToArray2[\"default\"])(_ref3, 3),\n          lng = _ref4[0],\n          lat = _ref4[1],\n          z = _ref4[2];\n\n      this.radius = 1 + z / this.radiusScale;\n      this.phi = (0, _common.radians)(lat);\n      this.theta = (0, _common.radians)(lng);\n    }\n  }, {\n    key: \"fromVector3\",\n    value: function fromVector3(v) {\n      this.radius = vec3.length(v);\n\n      if (this.radius > 0) {\n        this.theta = Math.atan2(v[0], v[1]);\n        this.phi = Math.acos((0, _common.clamp)(v[2] / this.radius, -1, 1));\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"toVector3\",\n    value: function toVector3() {\n      return new _vector[\"default\"](0, 0, this.radius).rotateX({\n        radians: this.theta\n      }).rotateZ({\n        radians: this.phi\n      });\n    }\n  }, {\n    key: \"makeSafe\",\n    value: function makeSafe() {\n      this.phi = Math.max(EPSILON, Math.min(Math.PI - EPSILON, this.phi));\n      return this;\n    }\n  }, {\n    key: \"check\",\n    value: function check() {\n      if (!Number.isFinite(this.phi) || !Number.isFinite(this.theta) || !(this.radius > 0)) {\n        throw new Error('SphericalCoordinates: some fields set to invalid numbers');\n      }\n\n      return this;\n    }\n  }, {\n    key: \"bearing\",\n    get: function get() {\n      return 180 - (0, _common.degrees)(this.phi);\n    },\n    set: function set(v) {\n      this.phi = Math.PI - (0, _common.radians)(v);\n    }\n  }, {\n    key: \"pitch\",\n    get: function get() {\n      return (0, _common.degrees)(this.theta);\n    },\n    set: function set(v) {\n      this.theta = (0, _common.radians)(v);\n    }\n  }, {\n    key: \"longitude\",\n    get: function get() {\n      return (0, _common.degrees)(this.phi);\n    }\n  }, {\n    key: \"latitude\",\n    get: function get() {\n      return (0, _common.degrees)(this.theta);\n    }\n  }, {\n    key: \"lng\",\n    get: function get() {\n      return (0, _common.degrees)(this.phi);\n    }\n  }, {\n    key: \"lat\",\n    get: function get() {\n      return (0, _common.degrees)(this.theta);\n    }\n  }, {\n    key: \"z\",\n    get: function get() {\n      return (this.radius - 1) * this.radiusScale;\n    }\n  }]);\n  return SphericalCoordinates;\n}();\n\nexports[\"default\"] = SphericalCoordinates;\n//# sourceMappingURL=spherical-coordinates.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_classCallCheck2","_createClass2","_common","_vector","vec3","SphericalCoordinates","_ref","arguments","length","undefined","_ref$phi","phi","_ref$theta","theta","_ref$radius","radius","_ref$bearing","bearing","_ref$pitch","pitch","_ref$altitude","altitude","_ref$radiusScale","radiusScale","EARTH_RADIUS_METERS","check","key","toString","formatString","config","_ref2","_ref2$printTypes","printTypes","f","formatValue","concat","equals","other","exactEquals","set","clone","copy","fromLngLatZ","_ref3","_ref4","lng","lat","z","radians","fromVector3","v","Math","atan2","acos","clamp","toVector3","rotateX","rotateZ","makeSafe","max","EPSILON","min","PI","Number","isFinite","Error","get","degrees"]
}
