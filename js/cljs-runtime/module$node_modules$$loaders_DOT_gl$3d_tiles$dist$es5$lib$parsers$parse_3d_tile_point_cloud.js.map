{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$3d_tiles$dist$es5$lib$parsers$parse_3d_tile_point_cloud.js",
"lineCount":22,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/3d-tiles/dist/es5/lib/parsers/parse-3d-tile-point-cloud.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$3d_tiles$dist$es5$lib$parsers$parse_3d_tile_point_cloud\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parsePointCloud3DTile = parsePointCloud3DTile;\nexports.loadDraco = loadDraco;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _draco = require(\"@loaders.gl/draco\");\n\nvar _math = require(\"@loaders.gl/math\");\n\nvar _core = require(\"@math.gl/core\");\n\nvar _tile3dFeatureTable = _interopRequireDefault(require(\"../classes/tile-3d-feature-table\"));\n\nvar _tile3dBatchTable = _interopRequireDefault(require(\"../classes/tile-3d-batch-table\"));\n\nvar _parse3dTileHeader = require(\"./helpers/parse-3d-tile-header\");\n\nvar _parse3dTileTables = require(\"./helpers/parse-3d-tile-tables\");\n\nvar _normalize3dTileColors = require(\"./helpers/normalize-3d-tile-colors\");\n\nvar _normalize3dTileNormals = require(\"./helpers/normalize-3d-tile-normals\");\n\nvar _normalize3dTilePositions = require(\"./helpers/normalize-3d-tile-positions\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction parsePointCloud3DTile(_x, _x2, _x3, _x4, _x5) {\n  return _parsePointCloud3DTile.apply(this, arguments);\n}\n\nfunction _parsePointCloud3DTile() {\n  _parsePointCloud3DTile = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(tile, arrayBuffer, byteOffset, options, context) {\n    var _parsePointCloudTable, featureTable, batchTable;\n\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            byteOffset = (0, _parse3dTileHeader.parse3DTileHeaderSync)(tile, arrayBuffer, byteOffset);\n            byteOffset = (0, _parse3dTileTables.parse3DTileTablesHeaderSync)(tile, arrayBuffer, byteOffset);\n            byteOffset = (0, _parse3dTileTables.parse3DTileTablesSync)(tile, arrayBuffer, byteOffset, options);\n            initializeTile(tile);\n            _parsePointCloudTable = parsePointCloudTables(tile), featureTable = _parsePointCloudTable.featureTable, batchTable = _parsePointCloudTable.batchTable;\n            _context.next = 7;\n            return parseDraco(tile, featureTable, batchTable, options, context);\n\n          case 7:\n            parsePositions(tile, featureTable, options);\n            parseColors(tile, featureTable, batchTable);\n            parseNormals(tile, featureTable);\n            return _context.abrupt(\"return\", byteOffset);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parsePointCloud3DTile.apply(this, arguments);\n}\n\nfunction initializeTile(tile) {\n  tile.attributes = {\n    positions: null,\n    colors: null,\n    normals: null,\n    batchIds: null\n  };\n  tile.isQuantized = false;\n  tile.isTranslucent = false;\n  tile.isRGB565 = false;\n  tile.isOctEncoded16P = false;\n}\n\nfunction parsePointCloudTables(tile) {\n  var featureTable = new _tile3dFeatureTable[\"default\"](tile.featureTableJson, tile.featureTableBinary);\n  var pointsLength = featureTable.getGlobalProperty('POINTS_LENGTH');\n\n  if (!Number.isFinite(pointsLength)) {\n    throw new Error('POINTS_LENGTH must be defined');\n  }\n\n  featureTable.featuresLength = pointsLength;\n  tile.featuresLength = pointsLength;\n  tile.pointsLength = pointsLength;\n  tile.pointCount = pointsLength;\n  tile.rtcCenter = featureTable.getGlobalProperty('RTC_CENTER', _math.GL.FLOAT, 3);\n  var batchTable = parseBatchIds(tile, featureTable);\n  return {\n    featureTable: featureTable,\n    batchTable: batchTable\n  };\n}\n\nfunction parsePositions(tile, featureTable, options) {\n  if (!tile.attributes.positions) {\n    if (featureTable.hasProperty('POSITION')) {\n      tile.attributes.positions = featureTable.getPropertyArray('POSITION', _math.GL.FLOAT, 3);\n    } else if (featureTable.hasProperty('POSITION_QUANTIZED')) {\n      var positions = featureTable.getPropertyArray('POSITION_QUANTIZED', _math.GL.UNSIGNED_SHORT, 3);\n      tile.isQuantized = true;\n      tile.quantizedRange = (1 << 16) - 1;\n      tile.quantizedVolumeScale = featureTable.getGlobalProperty('QUANTIZED_VOLUME_SCALE', _math.GL.FLOAT, 3);\n\n      if (!tile.quantizedVolumeScale) {\n        throw new Error('QUANTIZED_VOLUME_SCALE must be defined for quantized positions.');\n      }\n\n      tile.quantizedVolumeOffset = featureTable.getGlobalProperty('QUANTIZED_VOLUME_OFFSET', _math.GL.FLOAT, 3);\n\n      if (!tile.quantizedVolumeOffset) {\n        throw new Error('QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.');\n      }\n\n      tile.attributes.positions = (0, _normalize3dTilePositions.normalize3DTilePositionAttribute)(tile, positions, options);\n    }\n  }\n\n  if (!tile.attributes.positions) {\n    throw new Error('Either POSITION or POSITION_QUANTIZED must be defined.');\n  }\n}\n\nfunction parseColors(tile, featureTable, batchTable) {\n  if (!tile.attributes.colors) {\n    var colors = null;\n\n    if (featureTable.hasProperty('RGBA')) {\n      colors = featureTable.getPropertyArray('RGBA', _math.GL.UNSIGNED_BYTE, 4);\n      tile.isTranslucent = true;\n    } else if (featureTable.hasProperty('RGB')) {\n      colors = featureTable.getPropertyArray('RGB', _math.GL.UNSIGNED_BYTE, 3);\n    } else if (featureTable.hasProperty('RGB565')) {\n      colors = featureTable.getPropertyArray('RGB565', _math.GL.UNSIGNED_SHORT, 1);\n      tile.isRGB565 = true;\n    }\n\n    tile.attributes.colors = (0, _normalize3dTileColors.normalize3DTileColorAttribute)(tile, colors, batchTable);\n  }\n\n  if (featureTable.hasProperty('CONSTANT_RGBA')) {\n    tile.constantRGBA = featureTable.getGlobalProperty('CONSTANT_RGBA', _math.GL.UNSIGNED_BYTE, 4);\n  }\n}\n\nfunction parseNormals(tile, featureTable) {\n  if (!tile.attributes.normals) {\n    var normals = null;\n\n    if (featureTable.hasProperty('NORMAL')) {\n      normals = featureTable.getPropertyArray('NORMAL', _math.GL.FLOAT, 3);\n    } else if (featureTable.hasProperty('NORMAL_OCT16P')) {\n      normals = featureTable.getPropertyArray('NORMAL_OCT16P', _math.GL.UNSIGNED_BYTE, 2);\n      tile.isOctEncoded16P = true;\n    }\n\n    tile.attributes.normals = (0, _normalize3dTileNormals.normalize3DTileNormalAttribute)(tile, normals);\n  }\n}\n\nfunction parseBatchIds(tile, featureTable) {\n  var batchTable = null;\n\n  if (!tile.batchIds && featureTable.hasProperty('BATCH_ID')) {\n    tile.batchIds = featureTable.getPropertyArray('BATCH_ID', _math.GL.UNSIGNED_SHORT, 1);\n\n    if (tile.batchIds) {\n      var batchFeatureLength = featureTable.getGlobalProperty('BATCH_LENGTH');\n\n      if (!batchFeatureLength) {\n        throw new Error('Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.');\n      }\n\n      var batchTableJson = tile.batchTableJson,\n          batchTableBinary = tile.batchTableBinary;\n      batchTable = new _tile3dBatchTable[\"default\"](batchTableJson, batchTableBinary, batchFeatureLength);\n    }\n  }\n\n  return batchTable;\n}\n\nfunction parseDraco(_x6, _x7, _x8, _x9, _x10) {\n  return _parseDraco.apply(this, arguments);\n}\n\nfunction _parseDraco() {\n  _parseDraco = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(tile, featureTable, batchTable, options, context) {\n    var dracoBuffer, dracoFeatureTableProperties, dracoBatchTableProperties, batchTableDraco, featureTableDraco, dracoByteOffset, dracoByteLength, dracoData;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            batchTableDraco = tile.batchTableJson && tile.batchTableJson.extensions && tile.batchTableJson.extensions['3DTILES_draco_point_compression'];\n\n            if (batchTableDraco) {\n              dracoBatchTableProperties = batchTableDraco.properties;\n            }\n\n            featureTableDraco = featureTable.getExtension('3DTILES_draco_point_compression');\n\n            if (!featureTableDraco) {\n              _context2.next = 15;\n              break;\n            }\n\n            dracoFeatureTableProperties = featureTableDraco.properties;\n            dracoByteOffset = featureTableDraco.byteOffset;\n            dracoByteLength = featureTableDraco.byteLength;\n\n            if (!(!dracoFeatureTableProperties || !Number.isFinite(dracoByteOffset) || !dracoByteLength)) {\n              _context2.next = 9;\n              break;\n            }\n\n            throw new Error('Draco properties, byteOffset, and byteLength must be defined');\n\n          case 9:\n            dracoBuffer = tile.featureTableBinary.slice(dracoByteOffset, dracoByteOffset + dracoByteLength);\n            tile.hasPositions = Number.isFinite(dracoFeatureTableProperties.POSITION);\n            tile.hasColors = Number.isFinite(dracoFeatureTableProperties.RGB) || Number.isFinite(dracoFeatureTableProperties.RGBA);\n            tile.hasNormals = Number.isFinite(dracoFeatureTableProperties.NORMAL);\n            tile.hasBatchIds = Number.isFinite(dracoFeatureTableProperties.BATCH_ID);\n            tile.isTranslucent = Number.isFinite(dracoFeatureTableProperties.RGBA);\n\n          case 15:\n            if (dracoBuffer) {\n              _context2.next = 17;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", true);\n\n          case 17:\n            dracoData = {\n              buffer: dracoBuffer,\n              properties: _objectSpread(_objectSpread({}, dracoFeatureTableProperties), dracoBatchTableProperties),\n              featureTableProperties: dracoFeatureTableProperties,\n              batchTableProperties: dracoBatchTableProperties,\n              dequantizeInShader: false\n            };\n            _context2.next = 20;\n            return loadDraco(tile, dracoData, options, context);\n\n          case 20:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _parseDraco.apply(this, arguments);\n}\n\nfunction loadDraco(_x11, _x12, _x13, _x14) {\n  return _loadDraco.apply(this, arguments);\n}\n\nfunction _loadDraco() {\n  _loadDraco = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee3(tile, dracoData, options, context) {\n    var parse, data, decodedPositions, decodedColors, decodedNormals, decodedBatchIds, isQuantizedDraco, isOctEncodedDraco, quantization, range, batchTableAttributes, _i, _Object$keys, attributeName;\n\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            parse = context.parse;\n            _context3.next = 3;\n            return parse(dracoData.buffer, _draco.DracoLoader, {\n              draco: {\n                extraAttributes: dracoData.batchTableProperties || {}\n              }\n            });\n\n          case 3:\n            data = _context3.sent;\n            decodedPositions = data.attributes.POSITION && data.attributes.POSITION.value;\n            decodedColors = data.attributes.COLOR_0 && data.attributes.COLOR_0.value;\n            decodedNormals = data.attributes.NORMAL && data.attributes.NORMAL.value;\n            decodedBatchIds = data.attributes.BATCH_ID && data.attributes.BATCH_ID.value;\n            isQuantizedDraco = decodedPositions && data.attributes.POSITION.value.quantization;\n            isOctEncodedDraco = decodedNormals && data.attributes.NORMAL.value.quantization;\n\n            if (isQuantizedDraco) {\n              quantization = data.POSITION.data.quantization;\n              range = quantization.range;\n              tile.quantizedVolumeScale = new _core.Vector3(range, range, range);\n              tile.quantizedVolumeOffset = new _core.Vector3(quantization.minValues);\n              tile.quantizedRange = (1 << quantization.quantizationBits) - 1.0;\n              tile.isQuantizedDraco = true;\n            }\n\n            if (isOctEncodedDraco) {\n              tile.octEncodedRange = (1 << data.NORMAL.data.quantization.quantizationBits) - 1.0;\n              tile.isOctEncodedDraco = true;\n            }\n\n            batchTableAttributes = {};\n\n            if (dracoData.batchTableProperties) {\n              for (_i = 0, _Object$keys = Object.keys(dracoData.batchTableProperties); _i < _Object$keys.length; _i++) {\n                attributeName = _Object$keys[_i];\n\n                if (data.attributes[attributeName] && data.attributes[attributeName].value) {\n                  batchTableAttributes[attributeName.toLowerCase()] = data.attributes[attributeName].value;\n                }\n              }\n            }\n\n            tile.attributes = _objectSpread({\n              positions: decodedPositions,\n              colors: (0, _normalize3dTileColors.normalize3DTileColorAttribute)(tile, decodedColors),\n              normals: decodedNormals,\n              batchIds: decodedBatchIds\n            }, batchTableAttributes);\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _loadDraco.apply(this, arguments);\n}\n//# sourceMappingURL=parse-3d-tile-point-cloud.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_parsePointCloud3DTile","_asyncToGenerator2","_regenerator","mark","_callee","tile","arrayBuffer","byteOffset","options","context","featureTable","batchTable","wrap","_callee$","_context","prev","next","_parse3dTileHeader","parse3DTileHeaderSync","_parse3dTileTables","parse3DTileTablesHeaderSync","parse3DTileTablesSync","attributes","positions","colors","normals","batchIds","isQuantized","isTranslucent","isRGB565","isOctEncoded16P","_tile3dFeatureTable","featureTableJson","featureTableBinary","pointsLength","getGlobalProperty","Number","isFinite","Error","featuresLength","pointCount","rtcCenter","_math","GL","FLOAT","hasProperty","getPropertyArray","UNSIGNED_SHORT","batchFeatureLength","_tile3dBatchTable","batchTableJson","batchTableBinary","parseDraco","quantizedRange","quantizedVolumeScale","quantizedVolumeOffset","_normalize3dTilePositions","normalize3DTilePositionAttribute","UNSIGNED_BYTE","_normalize3dTileColors","normalize3DTileColorAttribute","constantRGBA","_normalize3dTileNormals","normalize3DTileNormalAttribute","abrupt","stop","_x6","_x7","_x8","_x9","_x10","_parseDraco","_callee2","dracoBuffer","dracoFeatureTableProperties","dracoBatchTableProperties","batchTableDraco","featureTableDraco","dracoByteOffset","dracoByteLength","dracoData","_callee2$","_context2","extensions","properties","getExtension","byteLength","slice","hasPositions","POSITION","hasColors","RGB","RGBA","hasNormals","NORMAL","hasBatchIds","BATCH_ID","buffer","featureTableProperties","batchTableProperties","dequantizeInShader","loadDraco","sent","_x11","_x12","_x13","_x14","_loadDraco","_callee3","parse","data","decodedPositions","decodedColors","decodedNormals","decodedBatchIds","isQuantizedDraco","isOctEncodedDraco","quantization","range","batchTableAttributes","_i","_Object$keys","attributeName","_callee3$","_context3","_draco","DracoLoader","draco","extraAttributes","value","COLOR_0","_core","Vector3","minValues","quantizationBits","octEncodedRange","toLowerCase","_interopRequireDefault","parsePointCloud3DTile","_x","_x2","_x3","_x4","_x5"]
}
