{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$bufferTime.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/bufferTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$bufferTime\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferTime = void 0;\nvar Subscription_1 = require(\"../Subscription\");\nvar lift_1 = require(\"../util/lift\");\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\nvar arrRemove_1 = require(\"../util/arrRemove\");\nvar async_1 = require(\"../scheduler/async\");\nvar args_1 = require(\"../util/args\");\nfunction bufferTime(bufferTimeSpan) {\n    var _a, _b;\n    var otherArgs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        otherArgs[_i - 1] = arguments[_i];\n    }\n    var scheduler = (_a = args_1.popScheduler(otherArgs)) !== null && _a !== void 0 ? _a : async_1.asyncScheduler;\n    var bufferCreationInterval = (_b = otherArgs[0]) !== null && _b !== void 0 ? _b : null;\n    var maxBufferSize = otherArgs[1] || Infinity;\n    return lift_1.operate(function (source, subscriber) {\n        var bufferRecords = [];\n        var restartOnEmit = false;\n        var emit = function (record) {\n            var buffer = record.buffer, subs = record.subs;\n            subs.unsubscribe();\n            arrRemove_1.arrRemove(bufferRecords, record);\n            subscriber.next(buffer);\n            restartOnEmit && startBuffer();\n        };\n        var startBuffer = function () {\n            if (bufferRecords) {\n                var subs = new Subscription_1.Subscription();\n                subscriber.add(subs);\n                var buffer = [];\n                var record_1 = {\n                    buffer: buffer,\n                    subs: subs,\n                };\n                bufferRecords.push(record_1);\n                subs.add(scheduler.schedule(function () { return emit(record_1); }, bufferTimeSpan));\n            }\n        };\n        bufferCreationInterval !== null && bufferCreationInterval >= 0\n            ?\n                subscriber.add(scheduler.schedule(function () {\n                    startBuffer();\n                    !this.closed && subscriber.add(this.schedule(null, bufferCreationInterval));\n                }, bufferCreationInterval))\n            : (restartOnEmit = true);\n        startBuffer();\n        var bufferTimeSubscriber = new OperatorSubscriber_1.OperatorSubscriber(subscriber, function (value) {\n            var e_1, _a;\n            var recordsCopy = bufferRecords.slice();\n            try {\n                for (var recordsCopy_1 = __values(recordsCopy), recordsCopy_1_1 = recordsCopy_1.next(); !recordsCopy_1_1.done; recordsCopy_1_1 = recordsCopy_1.next()) {\n                    var record = recordsCopy_1_1.value;\n                    var buffer = record.buffer;\n                    buffer.push(value);\n                    maxBufferSize <= buffer.length && emit(record);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (recordsCopy_1_1 && !recordsCopy_1_1.done && (_a = recordsCopy_1.return)) _a.call(recordsCopy_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }, undefined, function () {\n            while (bufferRecords === null || bufferRecords === void 0 ? void 0 : bufferRecords.length) {\n                subscriber.next(bufferRecords.shift().buffer);\n            }\n            bufferTimeSubscriber === null || bufferTimeSubscriber === void 0 ? void 0 : bufferTimeSubscriber.unsubscribe();\n            subscriber.complete();\n            subscriber.unsubscribe();\n        }, function () { return (bufferRecords = null); });\n        source.subscribe(bufferTimeSubscriber);\n    });\n}\nexports.bufferTime = bufferTime;\n//# sourceMappingURL=bufferTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","Object","defineProperty","bufferTime","Subscription_1","lift_1","OperatorSubscriber_1","arrRemove_1","async_1","args_1","bufferTimeSpan","_a","_b","otherArgs","_i","arguments","scheduler","popScheduler","asyncScheduler","bufferCreationInterval","maxBufferSize","Infinity","operate","source","subscriber","bufferRecords","restartOnEmit","emit","record","buffer","subs","unsubscribe","arrRemove","startBuffer","Subscription","add","record_1","push","schedule","closed","bufferTimeSubscriber","OperatorSubscriber","recordsCopy","slice","recordsCopy_1","recordsCopy_1_1","e_1_1","e_1","error","return","undefined","shift","complete","subscribe"]
}
