{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/windowTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.windowTime = void 0;\nvar Subject_1 = require(\"../Subject\");\nvar async_1 = require(\"../scheduler/async\");\nvar Subscription_1 = require(\"../Subscription\");\nvar lift_1 = require(\"../util/lift\");\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\nvar arrRemove_1 = require(\"../util/arrRemove\");\nvar args_1 = require(\"../util/args\");\nfunction windowTime(windowTimeSpan) {\n    var _a, _b;\n    var otherArgs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        otherArgs[_i - 1] = arguments[_i];\n    }\n    var scheduler = (_a = args_1.popScheduler(otherArgs)) !== null && _a !== void 0 ? _a : async_1.asyncScheduler;\n    var windowCreationInterval = (_b = otherArgs[0]) !== null && _b !== void 0 ? _b : null;\n    var maxWindowSize = otherArgs[1] || Infinity;\n    return lift_1.operate(function (source, subscriber) {\n        var windowRecords = [];\n        var restartOnClose = false;\n        var closeWindow = function (record) {\n            var window = record.window, subs = record.subs;\n            window.complete();\n            subs.unsubscribe();\n            arrRemove_1.arrRemove(windowRecords, record);\n            restartOnClose && startWindow();\n        };\n        var startWindow = function () {\n            if (windowRecords) {\n                var subs = new Subscription_1.Subscription();\n                subscriber.add(subs);\n                var window_1 = new Subject_1.Subject();\n                var record_1 = {\n                    window: window_1,\n                    subs: subs,\n                    seen: 0,\n                };\n                windowRecords.push(record_1);\n                subscriber.next(window_1.asObservable());\n                subs.add(scheduler.schedule(function () { return closeWindow(record_1); }, windowTimeSpan));\n            }\n        };\n        windowCreationInterval !== null && windowCreationInterval >= 0\n            ?\n                subscriber.add(scheduler.schedule(function () {\n                    startWindow();\n                    !this.closed && subscriber.add(this.schedule(null, windowCreationInterval));\n                }, windowCreationInterval))\n            : (restartOnClose = true);\n        startWindow();\n        var loop = function (cb) { return windowRecords.slice().forEach(cb); };\n        var terminate = function (cb) {\n            loop(function (_a) {\n                var window = _a.window;\n                return cb(window);\n            });\n            cb(subscriber);\n            subscriber.unsubscribe();\n        };\n        source.subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber, function (value) {\n            loop(function (record) {\n                record.window.next(value);\n                maxWindowSize <= ++record.seen && closeWindow(record);\n            });\n        }, function (err) { return terminate(function (consumer) { return consumer.error(err); }); }, function () { return terminate(function (consumer) { return consumer.complete(); }); }));\n        return function () {\n            windowRecords = null;\n        };\n    });\n}\nexports.windowTime = windowTime;\n//# sourceMappingURL=windowTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","windowTime","Subject_1","async_1","Subscription_1","lift_1","OperatorSubscriber_1","arrRemove_1","args_1","windowTimeSpan","_a","_b","otherArgs","_i","arguments","length","scheduler","popScheduler","asyncScheduler","windowCreationInterval","maxWindowSize","Infinity","operate","source","subscriber","windowRecords","restartOnClose","closeWindow","record","subs","window","complete","unsubscribe","arrRemove","startWindow","Subscription","add","window_1","Subject","record_1","seen","push","next","asObservable","schedule","closed","terminate","cb","slice","forEach","subscribe","OperatorSubscriber","err","consumer","error"]
}
