{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$engine$dist$es5$lib$model_utils.js",
"lineCount":6,
"mappings":"AAAAA,cAAA,CAAe,gEAAf,CAAqF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAe7HC,QAASA,QAAO,CAACC,MAAD,CAASC,cAAT,CAAyB,CAAE,IAAIC,KAAOC,MAAA,CAAOD,IAAP,CAAYF,MAAZ,CAAqB,IAAIG,MAAJ,CAAWC,qBAAX,CAAkC,CAAE,IAAIC,QAAUF,MAAA,CAAOC,qBAAP,CAA6BJ,MAA7B,CAA0CC,eAAJ,GAAoBI,OAApB,CAA8BA,OAAA,CAAQC,MAAR,CAAe,QAAS,CAACC,GAAD,CAAM,CAAE,MAAOJ,OAAA,CAAOK,wBAAP,CAAgCR,MAAhC,CAAwCO,GAAxC,CAAP,CAAoDE,UAAtD,CAA9B,CAA9B,CAAkIP,KAAA,CAAKQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,CAAsBG,OAAtB,CAAxL,CAA0N,MAAOH,KAArS,CAEzCU,QAASA,cAAa,CAACC,MAAD,CAAS,CAAE,IAAK,IAAIC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBC,SAApB,CAA8BC,MAA9B,CAAsCF,CAAA,EAAtC,CAA2C,CAAE,IAAIG;AAAyB,IAAhB,EAAAF,SAAA,CAAUD,CAAV,CAAA,CAAuBC,SAAA,CAAUD,CAAV,CAAvB,CAAsC,EAAQA,EAAJ,CAAQ,CAAR,CAAaf,OAAA,CAAQI,MAAA,CAAOc,MAAP,CAAR,CAAwB,CAAA,CAAxB,CAAA,CAA8BC,OAA9B,CAAsC,QAAS,CAACC,GAAD,CAAM,CAAE,CAAC,CAAA,CAAGC,gBAAA,CAAiB,SAAjB,CAAJ,EAAiCP,MAAjC,CAAyCM,GAAzC,CAA8CF,MAAA,CAAOE,GAAP,CAA9C,CAAF,CAArD,CAAb,CAA+IhB,MAAJ,CAAWkB,yBAAX,CAAwClB,MAAA,CAAOmB,gBAAP,CAAwBT,MAAxB,CAAgCV,MAAA,CAAOkB,yBAAP,CAAiCJ,MAAjC,CAAhC,CAAxC,CAA4HlB,OAAA,CAAQI,MAAA,CAAOc,MAAP,CAAR,CAAA,CAAwBC,OAAxB,CAAgC,QAAS,CAACC,GAAD,CAAM,CAAEhB,MAAA,CAAOoB,cAAP,CAAsBV,MAAtB,CAA8BM,GAA9B,CAAmChB,MAAA,CAAOK,wBAAP,CAAgCS,MAAhC,CAAwCE,GAAxC,CAAnC,CAAF,CAA/C,CAAhU,CAA2c,MAAON,OAA/f,CA0D/BW,QAASA,uBAAsB,CAACC,aAAD,CAAgBC,SAAhB,CAA2B,CAGxD,OAAQD,aAAR,EACE,KAAK,WAAL,CACA,KAAK,WAAL,CACA,KAAK,WAAL,CACA,KAAK,WAAL,CACE,IAAAE;AAAW,KACX,MAEF,MAAK,UAAL,CACA,KAAK,WAAL,CACA,KAAK,SAAL,CACA,KAAK,eAAL,CACEA,QAAA,CAAW,SAZf,CAkBA,OAAQA,QAAR,EACE,KAAK,SAAL,CACED,SAAA,CAAUE,IAAV,CAAiBF,SAAjB,CAA2BE,IAA3B,EAAmC,CACnC,MAEF,MAAK,KAAL,CACEF,SAAA,CAAUE,IAAV,CAAiBF,SAAjB,CAA2BE,IAA3B,EAAmC,CANvC,CAYA,CAAC,CAAA,CAAGC,MAAH,CAAUC,MAAX,EAAmBC,MAAA,CAAOC,QAAP,CAAgBN,SAAhB,CAA0BE,IAA1B,CAAnB,CAAoDK,YAAA,CAAaA,MAAb,CAAoBR,aAApB,CAAmC,aAAnC,CAApD,CAjCwD,CAxEtDS,MAAAA,CAAyBtC,OAAA,CAAQ,kEAAR,CAE7BO,OAAA,CAAOoB,cAAP,CAAsBzB,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CqC,MAAO,CAAA,CADoC,CAA7C,CAGArC,QAAA,CAAQsC,sBAAR,CAoBAA,QAA+B,CAACC,EAAD,CAAKC,QAAL;AAAeC,OAAf,CAAwB,CACrD,IAAIC,QAAU,EAAd,CACIC,QAAUH,QAAVG,CAAmBA,OADvB,CAGSC,IAAT,KAASA,IAAT,GAAiBJ,SAAjB,CAA0BK,UAA1B,CAAsC,CACpC,IAAIjB,UAAYY,QAAA,CAASK,UAAT,CAAoBD,IAApB,CAoCdE,KAAAA,cAnCwCL,OAmCxCK,EADkB,EAClBA,EAAyBC,YAG7B,aAAA,EAFIA,YAEJ,CAFyC,IAAK,EAA3B,GAAAD,YAAA,CAA+BE,0BAA/B,CAA4DF,YAE/E,GAAuBC,YAAA,CAtCeH,IAsCf,CAAvB,EAtCsCA,IAEpC,IAAa,SAAb,GAAIA,IAAJ,CACED,OAAA,CAAUf,SADZ,KAEO,IAAIA,SAAJ,CAAcqB,QAAd,CACLP,OAAA,CAAQQ,YAAR,CAAA,CAAwBtB,SAAxB,CAAkCS,KAD7B,KAEA,CACL,IAAIc,WAAavB,SAAbuB,CAAuBd,KAEvBe,UAAAA,CAAWtC,aAAA,CAAc,EAAd,CAAkBc,SAAlB,CAEf,QAAOwB,SAAP,CAAgBf,KAChBK,QAAA,CAAQQ,YAAR,CAAA;AAAwB,CAAC,IAAInB,MAAJ,CAAWsB,MAAX,CAAkBd,EAAlB,CAAsBY,UAAtB,CAAD,CAAoCC,SAApC,CACxB1B,uBAAA,CAAuBkB,IAAvB,CAA6BQ,SAA7B,CAPK,CAR6B,CAmBlCT,OAAJ,GACMW,QAMJ,CANWX,OAMX,CANmBN,KAMnB,EAN4BM,OAM5B,CALA,CAAC,CAAA,CAAGZ,MAAH,CAAUC,MAAX,EAAmBsB,QAAnB,WAAmCC,YAAnC,EAAkDD,QAAlD,WAAkEE,YAAlE,CAA+E,uDAA/E,CAKA,CAJIC,OAIJ,CAJgB,CACd3B,KAAM,CADQ,CAEd4B,UAAiCC,IAAAA,EAAtB,GAAAhB,OAAA,CAAQe,SAAR,CAAkC,CAAA,CAAlC,CAAyCf,OAAzC,CAAiDe,SAF9C,CAIhB,CAAAhB,OAAA,CAAQC,OAAR,CAAkB,CAAC,IAAIZ,MAAJ,CAAWsB,MAAX,CAAkBd,EAAlB,CAAsB,CACvCe,KAAMA,QADiC,CAEvCvC,OAAQ,KAF+B,CAAtB,CAAD,CAGd0C,OAHc,CAPpB,CAaA,OAAOf,QApC8C,CAnBvD1C,QAAA,CAAQ0B,sBAAR,CAAiCA,sBAEjC,KAAIJ;AAAmBc,MAAA,CAAuBtC,OAAA,CAAQ,2DAAR,CAAvB,CAAvB,CAEIiC,OAASjC,OAAA,CAAQ,uDAAR,CAFb,CAQIkD,2BAA6B,CAC/BY,SAAU,WADqB,CAE/BC,OAAQ,SAFuB,CAG/BC,QAAS,QAHsB,CAI/BC,WAAY,WAJmB,CAK/BC,WAAY,YALmB,CAM/BC,WAAY,YANmB,CAnB4F;",
"sources":["node_modules/@luma_DOT_gl/engine/dist/es5/lib/model-utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$engine$dist$es5$lib$model_utils\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBuffersFromGeometry = getBuffersFromGeometry;\nexports.inferAttributeAccessor = inferAttributeAccessor;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _webgl = require(\"@luma.gl/webgl\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar GLTF_TO_LUMA_ATTRIBUTE_MAP = {\n  POSITION: 'positions',\n  NORMAL: 'normals',\n  COLOR_0: 'colors',\n  TEXCOORD_0: 'texCoords',\n  TEXCOORD_1: 'texCoords1',\n  TEXCOORD_2: 'texCoords2'\n};\n\nfunction getBuffersFromGeometry(gl, geometry, options) {\n  var buffers = {};\n  var indices = geometry.indices;\n\n  for (var name in geometry.attributes) {\n    var attribute = geometry.attributes[name];\n    var remappedName = mapAttributeName(name, options);\n\n    if (name === 'indices') {\n      indices = attribute;\n    } else if (attribute.constant) {\n      buffers[remappedName] = attribute.value;\n    } else {\n      var typedArray = attribute.value;\n\n      var accessor = _objectSpread({}, attribute);\n\n      delete accessor.value;\n      buffers[remappedName] = [new _webgl.Buffer(gl, typedArray), accessor];\n      inferAttributeAccessor(name, accessor);\n    }\n  }\n\n  if (indices) {\n    var data = indices.value || indices;\n    (0, _webgl.assert)(data instanceof Uint16Array || data instanceof Uint32Array, 'attribute array for \"indices\" must be of integer type');\n    var _accessor = {\n      size: 1,\n      isIndexed: indices.isIndexed === undefined ? true : indices.isIndexed\n    };\n    buffers.indices = [new _webgl.Buffer(gl, {\n      data: data,\n      target: 34963\n    }), _accessor];\n  }\n\n  return buffers;\n}\n\nfunction mapAttributeName(name, options) {\n  var _ref = options || {},\n      _ref$attributeMap = _ref.attributeMap,\n      attributeMap = _ref$attributeMap === void 0 ? GLTF_TO_LUMA_ATTRIBUTE_MAP : _ref$attributeMap;\n\n  return attributeMap && attributeMap[name] || name;\n}\n\nfunction inferAttributeAccessor(attributeName, attribute) {\n  var category;\n\n  switch (attributeName) {\n    case 'texCoords':\n    case 'texCoord1':\n    case 'texCoord2':\n    case 'texCoord3':\n      category = 'uvs';\n      break;\n\n    case 'vertices':\n    case 'positions':\n    case 'normals':\n    case 'pickingColors':\n      category = 'vectors';\n      break;\n\n    default:\n  }\n\n  switch (category) {\n    case 'vectors':\n      attribute.size = attribute.size || 3;\n      break;\n\n    case 'uvs':\n      attribute.size = attribute.size || 2;\n      break;\n\n    default:\n  }\n\n  (0, _webgl.assert)(Number.isFinite(attribute.size), \"attribute \".concat(attributeName, \" needs size\"));\n}\n//# sourceMappingURL=model-utils.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","inferAttributeAccessor","attributeName","attribute","category","size","_webgl","assert","Number","isFinite","concat","_interopRequireDefault","value","getBuffersFromGeometry","gl","geometry","options","buffers","indices","name","attributes","_ref$attributeMap","attributeMap","GLTF_TO_LUMA_ATTRIBUTE_MAP","constant","remappedName","typedArray","accessor","Buffer","data","Uint16Array","Uint32Array","_accessor","isIndexed","undefined","POSITION","NORMAL","COLOR_0","TEXCOORD_0","TEXCOORD_1","TEXCOORD_2"]
}
