{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$passes$pick_layers_pass.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/passes/pick-layers-pass.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$passes$pick_layers_pass\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _layersPass = _interopRequireDefault(require(\"./layers-pass\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar PICKING_PARAMETERS = {\n  blendFunc: [1, 0, 32771, 0],\n  blendEquation: 32774\n};\n\nvar PickLayersPass = function (_LayersPass) {\n  (0, _inherits2[\"default\"])(PickLayersPass, _LayersPass);\n\n  var _super = _createSuper(PickLayersPass);\n\n  function PickLayersPass() {\n    (0, _classCallCheck2[\"default\"])(this, PickLayersPass);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(PickLayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      if (props.pickingFBO) {\n        this.useAlpha = true;\n\n        this._drawPickingBuffer(props);\n      } else {\n        this.useAlpha = false;\n        (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(PickLayersPass.prototype), \"render\", this).call(this, props);\n      }\n    }\n  }, {\n    key: \"_drawPickingBuffer\",\n    value: function _drawPickingBuffer(_ref) {\n      var _this = this;\n\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          views = _ref.views,\n          viewports = _ref.viewports,\n          onViewportActive = _ref.onViewportActive,\n          pickingFBO = _ref.pickingFBO,\n          _ref$deviceRect = _ref.deviceRect,\n          x = _ref$deviceRect.x,\n          y = _ref$deviceRect.y,\n          width = _ref$deviceRect.width,\n          height = _ref$deviceRect.height,\n          _ref$pass = _ref.pass,\n          pass = _ref$pass === void 0 ? 'picking' : _ref$pass,\n          redrawReason = _ref.redrawReason,\n          pickZ = _ref.pickZ;\n      var gl = this.gl;\n      this.pickZ = pickZ;\n      return (0, _core.withParameters)(gl, _objectSpread(_objectSpread({\n        scissorTest: true,\n        scissor: [x, y, width, height],\n        clearColor: [0, 0, 0, 0],\n        depthMask: true,\n        depthTest: true,\n        depthRange: [0, 1],\n        colorMask: [true, true, true, true]\n      }, PICKING_PARAMETERS), {}, {\n        blend: !pickZ\n      }), function () {\n        (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(PickLayersPass.prototype), \"render\", _this).call(_this, {\n          target: pickingFBO,\n          layers: layers,\n          layerFilter: layerFilter,\n          views: views,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          pass: pass,\n          redrawReason: redrawReason\n        });\n      });\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return layer.props.pickable;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {\n      return {\n        pickingActive: 1,\n        pickingAttribute: this.pickZ,\n        lightSources: {}\n      };\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex) {\n      var pickParameters = this.pickZ ? {\n        blend: false\n      } : _objectSpread(_objectSpread({}, PICKING_PARAMETERS), {}, {\n        blend: true,\n        blendColor: [0, 0, 0, this.useAlpha ? (layerIndex + 1) / 255 : 1]\n      });\n      return Object.assign({}, layer.props.parameters, pickParameters);\n    }\n  }]);\n  return PickLayersPass;\n}(_layersPass[\"default\"]);\n\nexports[\"default\"] = PickLayersPass;\n//# sourceMappingURL=pick-layers-pass.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","value","_classCallCheck2","_createClass2","_get2","_inherits2","_layersPass","_core","PICKING_PARAMETERS","blendFunc","blendEquation","PickLayersPass","_LayersPass","_super","render","props","pickingFBO","useAlpha","_drawPickingBuffer","_ref","_this","layers","layerFilter","views","viewports","onViewportActive","_ref$deviceRect","deviceRect","x","y","width","height","_ref$pass","pass","redrawReason","pickZ","gl","withParameters","scissorTest","scissor","clearColor","depthMask","depthTest","depthRange","colorMask","blend","shouldDrawLayer","layer","pickable","getModuleParameters","pickingActive","pickingAttribute","lightSources","getLayerParameters","layerIndex","pickParameters","blendColor","assign","parameters"]
}
