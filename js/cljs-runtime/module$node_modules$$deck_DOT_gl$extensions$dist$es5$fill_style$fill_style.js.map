{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$extensions$dist$es5$fill_style$fill_style.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/extensions/dist/es5/fill-style/fill-style.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$extensions$dist$es5$fill_style$fill_style\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _shaders = require(\"./shaders.glsl\");\n\nvar _DEFAULT_TEXTURE_PARA;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar defaultProps = {\n  fillPatternEnabled: true,\n  fillPatternAtlas: null,\n  fillPatternMapping: null,\n  fillPatternMask: true,\n  getFillPattern: {\n    type: 'accessor',\n    value: function value(d) {\n      return d.pattern;\n    }\n  },\n  getFillPatternScale: {\n    type: 'accessor',\n    value: 1\n  },\n  getFillPatternOffset: {\n    type: 'accessor',\n    value: [0, 0]\n  }\n};\nvar DEFAULT_TEXTURE_PARAMETERS = (_DEFAULT_TEXTURE_PARA = {}, (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10241, 9729), (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10240, 9729), (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10242, 33071), (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10243, 33071), _DEFAULT_TEXTURE_PARA);\n\nvar FillStyleExtension = function (_LayerExtension) {\n  (0, _inherits2[\"default\"])(FillStyleExtension, _LayerExtension);\n\n  var _super = _createSuper(FillStyleExtension);\n\n  function FillStyleExtension() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$pattern = _ref.pattern,\n        pattern = _ref$pattern === void 0 ? false : _ref$pattern;\n\n    (0, _classCallCheck2[\"default\"])(this, FillStyleExtension);\n    return _super.call(this, {\n      pattern: pattern\n    });\n  }\n\n  (0, _createClass2[\"default\"])(FillStyleExtension, [{\n    key: \"isEnabled\",\n    value: function isEnabled(layer) {\n      return layer.getAttributeManager() && !layer.state.pathTesselator;\n    }\n  }, {\n    key: \"getShaders\",\n    value: function getShaders(extension) {\n      if (!extension.isEnabled(this)) {\n        return null;\n      }\n\n      return {\n        modules: [extension.opts.pattern && _shaders.patternShaders].filter(Boolean)\n      };\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState(context, extension) {\n      if (!extension.isEnabled(this)) {\n        return;\n      }\n\n      var attributeManager = this.getAttributeManager();\n\n      if (extension.opts.pattern) {\n        attributeManager.add({\n          fillPatternFrames: {\n            size: 4,\n            accessor: 'getFillPattern',\n            transform: extension.getPatternFrame.bind(this),\n            shaderAttributes: {\n              fillPatternFrames: {\n                divisor: 0\n              },\n              instanceFillPatternFrames: {\n                divisor: 1\n              }\n            }\n          },\n          fillPatternScales: {\n            size: 1,\n            accessor: 'getFillPatternScale',\n            defaultValue: 1,\n            shaderAttributes: {\n              fillPatternScales: {\n                divisor: 0\n              },\n              instanceFillPatternScales: {\n                divisor: 1\n              }\n            }\n          },\n          fillPatternOffsets: {\n            size: 2,\n            accessor: 'getFillPatternOffset',\n            shaderAttributes: {\n              fillPatternOffsets: {\n                divisor: 0\n              },\n              instanceFillPatternOffsets: {\n                divisor: 1\n              }\n            }\n          }\n        });\n      }\n\n      this.setState({\n        emptyTexture: new _core2.Texture2D(this.context.gl, {\n          data: new Uint8Array(4),\n          width: 1,\n          height: 1\n        })\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref2, extension) {\n      var props = _ref2.props,\n          oldProps = _ref2.oldProps;\n\n      if (!extension.isEnabled(this)) {\n        return;\n      }\n\n      if (props.fillPatternAtlas && props.fillPatternAtlas !== oldProps.fillPatternAtlas) {\n        extension.loadPatternAtlas.call(this, props);\n      }\n\n      if (props.fillPatternMapping && props.fillPatternMapping !== oldProps.fillPatternMapping) {\n        extension.loadPatternMapping.call(this, props);\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(params, extension) {\n      if (!extension.isEnabled(this)) {\n        return;\n      }\n\n      var patternTexture = this.state.patternTexture;\n      this.setModuleParameters({\n        fillPatternTexture: patternTexture || this.state.emptyTexture\n      });\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      var _this$state = this.state,\n          patternTexture = _this$state.patternTexture,\n          emptyTexture = _this$state.emptyTexture;\n\n      if (patternTexture) {\n        patternTexture[\"delete\"]();\n      }\n\n      if (emptyTexture) {\n        emptyTexture[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"loadPatternAtlas\",\n    value: function () {\n      var _loadPatternAtlas = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(_ref3) {\n        var fillPatternAtlas, fetch, image, patternTexture;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fillPatternAtlas = _ref3.fillPatternAtlas, fetch = _ref3.fetch;\n\n                if (this.state.patternTexture) {\n                  this.state.patternTexture[\"delete\"]();\n                }\n\n                this.setState({\n                  patternTexture: null\n                });\n                image = fillPatternAtlas;\n\n                if (!(typeof image === 'string')) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 7;\n                return fetch(image, {\n                  propName: 'fillPatternAtlas',\n                  layer: this\n                });\n\n              case 7:\n                image = _context.sent;\n\n              case 8:\n                patternTexture = image instanceof _core2.Texture2D ? image : new _core2.Texture2D(this.context.gl, {\n                  data: image,\n                  parameters: DEFAULT_TEXTURE_PARAMETERS\n                });\n                this.setState({\n                  patternTexture: patternTexture\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadPatternAtlas(_x) {\n        return _loadPatternAtlas.apply(this, arguments);\n      }\n\n      return loadPatternAtlas;\n    }()\n  }, {\n    key: \"loadPatternMapping\",\n    value: function () {\n      var _loadPatternMapping = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(_ref4) {\n        var fillPatternMapping, fetch, patternMapping;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                fillPatternMapping = _ref4.fillPatternMapping, fetch = _ref4.fetch;\n                this.setState({\n                  patternMapping: null\n                });\n                patternMapping = fillPatternMapping;\n\n                if (!(typeof patternMapping === 'string')) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                _context2.next = 6;\n                return fetch(patternMapping, {\n                  propName: 'fillPatternMapping',\n                  layer: this\n                });\n\n              case 6:\n                patternMapping = _context2.sent;\n\n              case 7:\n                this.setState({\n                  patternMapping: patternMapping\n                });\n                this.getAttributeManager().invalidate('getFillPattern');\n                this.setNeedsUpdate();\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadPatternMapping(_x2) {\n        return _loadPatternMapping.apply(this, arguments);\n      }\n\n      return loadPatternMapping;\n    }()\n  }, {\n    key: \"getPatternFrame\",\n    value: function getPatternFrame(name) {\n      var patternMapping = this.state.patternMapping;\n      var def = patternMapping && patternMapping[name];\n      return def ? [def.x, def.y, def.width, def.height] : [0, 0, 0, 0];\n    }\n  }]);\n  return FillStyleExtension;\n}(_core.LayerExtension);\n\nexports[\"default\"] = FillStyleExtension;\nFillStyleExtension.extensionName = 'FillStyleExtension';\nFillStyleExtension.defaultProps = defaultProps;\n//# sourceMappingURL=fill-style.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","Object","defineProperty","value","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_inherits2","_defineProperty2","_core","_core2","_shaders","_DEFAULT_TEXTURE_PARA","DEFAULT_TEXTURE_PARAMETERS","FillStyleExtension","_LayerExtension","_ref$pattern","_ref","length","undefined","pattern","_super","key","isEnabled","layer","getAttributeManager","state","pathTesselator","getShaders","extension","modules","opts","patternShaders","filter","Boolean","initializeState","context","attributeManager","add","fillPatternFrames","size","accessor","transform","getPatternFrame","bind","shaderAttributes","divisor","instanceFillPatternFrames","fillPatternScales","defaultValue","instanceFillPatternScales","fillPatternOffsets","instanceFillPatternOffsets","setState","emptyTexture","Texture2D","gl","data","Uint8Array","width","height","updateState","_ref2","props","oldProps","fillPatternAtlas","loadPatternAtlas","fillPatternMapping","loadPatternMapping","draw","params","setModuleParameters","fillPatternTexture","patternTexture","finalizeState","_this$state","_loadPatternAtlas","mark","_callee","_ref3","fetch","image","wrap","_callee$","_context","prev","next","propName","sent","parameters","stop","_x","_loadPatternMapping","_callee2","_ref4","patternMapping","_callee2$","_context2","invalidate","setNeedsUpdate","_x2","name","def","x","y","LayerExtension","extensionName","defaultProps","fillPatternEnabled","fillPatternMask","getFillPattern","type","d","getFillPatternScale","getFillPatternOffset"]
}
