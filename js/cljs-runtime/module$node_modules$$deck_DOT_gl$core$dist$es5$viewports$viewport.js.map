{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$viewport.js",
"lineCount":21,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/viewports/viewport.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$viewport\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _log = _interopRequireDefault(require(\"../utils/log\"));\n\nvar _mathUtils = require(\"../utils/math-utils\");\n\nvar _math = require(\"math.gl\");\n\nvar mat4 = _interopRequireWildcard(require(\"gl-matrix/mat4\"));\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar _constants = require(\"../lib/constants\");\n\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nvar IDENTITY = (0, _mathUtils.createMat4)();\nvar ZERO_VECTOR = [0, 0, 0];\nvar DEFAULT_ZOOM = 0;\nvar DEFAULT_DISTANCE_SCALES = {\n  unitsPerMeter: [1, 1, 1],\n  metersPerUnit: [1, 1, 1]\n};\n\nvar Viewport = function () {\n  function Viewport() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, Viewport);\n    var _opts$id = opts.id,\n        id = _opts$id === void 0 ? null : _opts$id,\n        _opts$x = opts.x,\n        x = _opts$x === void 0 ? 0 : _opts$x,\n        _opts$y = opts.y,\n        y = _opts$y === void 0 ? 0 : _opts$y,\n        _opts$width = opts.width,\n        width = _opts$width === void 0 ? 1 : _opts$width,\n        _opts$height = opts.height,\n        height = _opts$height === void 0 ? 1 : _opts$height;\n    this.id = id || this.constructor.displayName || 'viewport';\n    this.x = x;\n    this.y = y;\n    this.width = width || 1;\n    this.height = height || 1;\n    this._frustumPlanes = {};\n\n    this._initViewMatrix(opts);\n\n    this._initProjectionMatrix(opts);\n\n    this._initPixelMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  (0, _createClass2[\"default\"])(Viewport, [{\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n\n      if (this === viewport) {\n        return true;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && viewport.scale === this.scale && (0, _math.equals)(viewport.projectionMatrix, this.projectionMatrix) && (0, _math.equals)(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$topLeft = _ref.topLeft,\n          topLeft = _ref$topLeft === void 0 ? true : _ref$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = (0, _webMercator.worldToPixels)(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = (0, _slicedToArray2[\"default\"])(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft,\n          targetZ = _ref2.targetZ;\n\n      var _xyz = (0, _slicedToArray2[\"default\"])(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = (0, _webMercator.pixelsToWorld)([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = (0, _slicedToArray2[\"default\"])(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = (0, _slicedToArray2[\"default\"])(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = (0, _slicedToArray2[\"default\"])(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      if (this.isGeospatial) {\n        return (0, _webMercator.lngLatToWorld)(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      if (this.isGeospatial) {\n        return (0, _webMercator.worldToLngLat)(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var unprojectOption = {\n        targetZ: options.z || 0\n      };\n      var topLeft = this.unproject([0, 0], unprojectOption);\n      var topRight = this.unproject([this.width, 0], unprojectOption);\n      var bottomLeft = this.unproject([0, this.height], unprojectOption);\n      var bottomRight = this.unproject([this.width, this.height], unprojectOption);\n      return [Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]), Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]), Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]), Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1])];\n    }\n  }, {\n    key: \"getDistanceScales\",\n    value: function getDistanceScales() {\n      var coordinateOrigin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (coordinateOrigin) {\n        return (0, _webMercator.getDistanceScales)({\n          longitude: coordinateOrigin[0],\n          latitude: coordinateOrigin[1],\n          highPrecision: true\n        });\n      }\n\n      return this.distanceScales;\n    }\n  }, {\n    key: \"containsPixel\",\n    value: function containsPixel(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height;\n      return x < this.x + this.width && this.x < x + width && y < this.y + this.height && this.y < y + height;\n    }\n  }, {\n    key: \"getFrustumPlanes\",\n    value: function getFrustumPlanes() {\n      if (this._frustumPlanes.near) {\n        return this._frustumPlanes;\n      }\n\n      Object.assign(this._frustumPlanes, (0, _mathUtils.getFrustumPlanes)(this.viewProjectionMatrix));\n      return this._frustumPlanes;\n    }\n  }, {\n    key: \"getCameraPosition\",\n    value: function getCameraPosition() {\n      return this.cameraPosition;\n    }\n  }, {\n    key: \"getCameraDirection\",\n    value: function getCameraDirection() {\n      return this.cameraDirection;\n    }\n  }, {\n    key: \"getCameraUp\",\n    value: function getCameraUp() {\n      return this.cameraUp;\n    }\n  }, {\n    key: \"_createProjectionMatrix\",\n    value: function _createProjectionMatrix(_ref4) {\n      var orthographic = _ref4.orthographic,\n          fovyRadians = _ref4.fovyRadians,\n          aspect = _ref4.aspect,\n          focalDistance = _ref4.focalDistance,\n          near = _ref4.near,\n          far = _ref4.far;\n      return orthographic ? new _math.Matrix4().orthographic({\n        fovy: fovyRadians,\n        aspect: aspect,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      }) : new _math.Matrix4().perspective({\n        fovy: fovyRadians,\n        aspect: aspect,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"_initViewMatrix\",\n    value: function _initViewMatrix(opts) {\n      var _opts$viewMatrix = opts.viewMatrix,\n          viewMatrix = _opts$viewMatrix === void 0 ? IDENTITY : _opts$viewMatrix,\n          _opts$longitude = opts.longitude,\n          longitude = _opts$longitude === void 0 ? null : _opts$longitude,\n          _opts$latitude = opts.latitude,\n          latitude = _opts$latitude === void 0 ? null : _opts$latitude,\n          _opts$zoom = opts.zoom,\n          zoom = _opts$zoom === void 0 ? null : _opts$zoom,\n          _opts$position = opts.position,\n          position = _opts$position === void 0 ? null : _opts$position,\n          _opts$modelMatrix = opts.modelMatrix,\n          modelMatrix = _opts$modelMatrix === void 0 ? null : _opts$modelMatrix,\n          _opts$focalDistance = opts.focalDistance,\n          focalDistance = _opts$focalDistance === void 0 ? 1 : _opts$focalDistance,\n          _opts$distanceScales = opts.distanceScales,\n          distanceScales = _opts$distanceScales === void 0 ? null : _opts$distanceScales;\n      this.isGeospatial = Number.isFinite(latitude) && Number.isFinite(longitude);\n      this.zoom = zoom;\n\n      if (!Number.isFinite(this.zoom)) {\n        this.zoom = this.isGeospatial ? (0, _webMercator.getMeterZoom)({\n          latitude: latitude\n        }) + Math.log2(focalDistance) : DEFAULT_ZOOM;\n      }\n\n      var scale = Math.pow(2, this.zoom);\n      this.scale = scale;\n      this.distanceScales = this.isGeospatial ? (0, _webMercator.getDistanceScales)({\n        latitude: latitude,\n        longitude: longitude\n      }) : distanceScales || DEFAULT_DISTANCE_SCALES;\n      this.focalDistance = focalDistance;\n      this.distanceScales.metersPerUnit = new _math.Vector3(this.distanceScales.metersPerUnit);\n      this.distanceScales.unitsPerMeter = new _math.Vector3(this.distanceScales.unitsPerMeter);\n      this.position = ZERO_VECTOR;\n      this.meterOffset = ZERO_VECTOR;\n\n      if (position) {\n        this.position = position;\n        this.modelMatrix = modelMatrix;\n        this.meterOffset = modelMatrix ? modelMatrix.transformVector(position) : position;\n      }\n\n      if (this.isGeospatial) {\n        this.longitude = longitude;\n        this.latitude = latitude;\n        this.center = this._getCenterInWorld({\n          longitude: longitude,\n          latitude: latitude\n        });\n      } else {\n        this.center = position ? this.projectPosition(position) : [0, 0, 0];\n      }\n\n      this.viewMatrixUncentered = viewMatrix;\n      this.viewMatrix = new _math.Matrix4().multiplyRight(this.viewMatrixUncentered).translate(new _math.Vector3(this.center || ZERO_VECTOR).negate());\n    }\n  }, {\n    key: \"_getCenterInWorld\",\n    value: function _getCenterInWorld(_ref5) {\n      var longitude = _ref5.longitude,\n          latitude = _ref5.latitude;\n      var meterOffset = this.meterOffset,\n          distanceScales = this.distanceScales;\n      var center = new _math.Vector3(this.projectPosition([longitude, latitude, 0]));\n\n      if (meterOffset) {\n        var commonPosition = new _math.Vector3(meterOffset).scale(distanceScales.unitsPerMeter);\n        center.add(commonPosition);\n      }\n\n      return center;\n    }\n  }, {\n    key: \"_initProjectionMatrix\",\n    value: function _initProjectionMatrix(opts) {\n      var _opts$projectionMatri = opts.projectionMatrix,\n          projectionMatrix = _opts$projectionMatri === void 0 ? null : _opts$projectionMatri,\n          _opts$orthographic = opts.orthographic,\n          orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n          fovyRadians = opts.fovyRadians,\n          _opts$fovy = opts.fovy,\n          fovy = _opts$fovy === void 0 ? 75 : _opts$fovy,\n          _opts$near = opts.near,\n          near = _opts$near === void 0 ? 0.1 : _opts$near,\n          _opts$far = opts.far,\n          far = _opts$far === void 0 ? 1000 : _opts$far,\n          _opts$focalDistance2 = opts.focalDistance,\n          focalDistance = _opts$focalDistance2 === void 0 ? 1 : _opts$focalDistance2;\n      this.projectionMatrix = projectionMatrix || this._createProjectionMatrix({\n        orthographic: orthographic,\n        fovyRadians: fovyRadians || fovy * DEGREES_TO_RADIANS,\n        aspect: this.width / this.height,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"_initPixelMatrices\",\n    value: function _initPixelMatrices() {\n      var vpm = (0, _mathUtils.createMat4)();\n      mat4.multiply(vpm, vpm, this.projectionMatrix);\n      mat4.multiply(vpm, vpm, this.viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      this.viewMatrixInverse = mat4.invert([], this.viewMatrix) || this.viewMatrix;\n      this.cameraPosition = (0, _mathUtils.getCameraPosition)(this.viewMatrixInverse);\n      var viewportMatrix = (0, _mathUtils.createMat4)();\n      var pixelProjectionMatrix = (0, _mathUtils.createMat4)();\n      mat4.scale(viewportMatrix, viewportMatrix, [this.width / 2, -this.height / 2, 1]);\n      mat4.translate(viewportMatrix, viewportMatrix, [1, -1, 0]);\n      mat4.multiply(pixelProjectionMatrix, viewportMatrix, this.viewProjectionMatrix);\n      this.pixelProjectionMatrix = pixelProjectionMatrix;\n      this.viewportMatrix = viewportMatrix;\n      this.pixelUnprojectionMatrix = mat4.invert((0, _mathUtils.createMat4)(), this.pixelProjectionMatrix);\n\n      if (!this.pixelUnprojectionMatrix) {\n        _log[\"default\"].warn('Pixel project matrix not invertible')();\n      }\n    }\n  }, {\n    key: \"metersPerPixel\",\n    get: function get() {\n      return this.distanceScales.metersPerUnit[2] / this.scale;\n    }\n  }, {\n    key: \"projectionMode\",\n    get: function get() {\n      if (this.isGeospatial) {\n        return this.zoom < 12 ? _constants.PROJECTION_MODE.WEB_MERCATOR : _constants.PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET;\n      }\n\n      return _constants.PROJECTION_MODE.IDENTITY;\n    }\n  }]);\n  return Viewport;\n}();\n\nexports[\"default\"] = Viewport;\nViewport.displayName = 'Viewport';\n//# sourceMappingURL=viewport.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_classCallCheck2","_createClass2","_log","_mathUtils","_math","mat4","_webMercator","_constants","DEGREES_TO_RADIANS","Math","PI","IDENTITY","createMat4","ZERO_VECTOR","DEFAULT_DISTANCE_SCALES","unitsPerMeter","metersPerUnit","Viewport","opts","arguments","length","undefined","_opts$id","id","_opts$x","x","_opts$y","y","_opts$width","width","_opts$height","height","constructor","displayName","_frustumPlanes","_initViewMatrix","_initProjectionMatrix","_initPixelMatrices","equals","bind","project","unproject","projectPosition","unprojectPosition","projectFlat","unprojectFlat","key","viewport","scale","projectionMatrix","viewMatrix","xyz","_ref$topLeft","_ref","topLeft","worldPosition","coord","worldToPixels","pixelProjectionMatrix","_coord","y2","_ref2","_ref2$topLeft","targetZ","_xyz","z","targetZWorld","distanceScales","pixelsToWorld","pixelUnprojectionMatrix","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","Number","isFinite","_this$projectFlat","_this$projectFlat2","_this$unprojectFlat","_this$unprojectFlat2","isGeospatial","lngLatToWorld","worldToLngLat","getBounds","unprojectOption","options","topRight","bottomLeft","bottomRight","min","max","getDistanceScales","coordinateOrigin","longitude","latitude","highPrecision","containsPixel","_ref3","_ref3$width","_ref3$height","getFrustumPlanes","near","assign","viewProjectionMatrix","getCameraPosition","cameraPosition","getCameraDirection","cameraDirection","getCameraUp","cameraUp","_createProjectionMatrix","_ref4","fovyRadians","aspect","focalDistance","far","orthographic","Matrix4","fovy","perspective","_opts$viewMatrix","_opts$longitude","_opts$latitude","_opts$zoom","zoom","_opts$position","position","_opts$modelMatrix","modelMatrix","_opts$focalDistance","_opts$distanceScales","getMeterZoom","log2","DEFAULT_ZOOM","pow","Vector3","meterOffset","transformVector","center","_getCenterInWorld","viewMatrixUncentered","multiplyRight","translate","negate","_ref5","commonPosition","add","_opts$projectionMatri","_opts$orthographic","_opts$fovy","_opts$near","_opts$far","_opts$focalDistance2","vpm","multiply","viewMatrixInverse","invert","viewportMatrix","warn","get","PROJECTION_MODE","WEB_MERCATOR","WEB_MERCATOR_AUTO_OFFSET"]
}
