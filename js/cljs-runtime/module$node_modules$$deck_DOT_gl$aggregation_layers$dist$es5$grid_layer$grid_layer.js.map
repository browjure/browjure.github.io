{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$grid_layer$grid_layer.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/aggregation-layers/dist/es5/grid-layer/grid-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$grid_layer$grid_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _gpuGridAggregator = _interopRequireDefault(require(\"../utils/gpu-grid-aggregation/gpu-grid-aggregator\"));\n\nvar _gpuGridLayer = _interopRequireDefault(require(\"../gpu-grid-layer/gpu-grid-layer\"));\n\nvar _cpuGridLayer = _interopRequireDefault(require(\"../cpu-grid-layer/cpu-grid-layer\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar defaultProps = Object.assign({}, _gpuGridLayer[\"default\"].defaultProps, _cpuGridLayer[\"default\"].defaultProps, {\n  gpuAggregation: false\n});\n\nvar GridLayer = function (_CompositeLayer) {\n  (0, _inherits2[\"default\"])(GridLayer, _CompositeLayer);\n\n  var _super = _createSuper(GridLayer);\n\n  function GridLayer() {\n    (0, _classCallCheck2[\"default\"])(this, GridLayer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(GridLayer, [{\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.state = {\n        useGPUAggregation: true\n      };\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var oldProps = _ref.oldProps,\n          props = _ref.props,\n          changeFlags = _ref.changeFlags;\n      var newState = {};\n      newState.useGPUAggregation = this.canUseGPUAggregation(props);\n      this.setState(newState);\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          updateTriggers = _this$props.updateTriggers;\n      var id = this.state.useGPUAggregation ? 'GPU' : 'CPU';\n      var LayerType = this.state.useGPUAggregation ? this.getSubLayerClass('GPU', _gpuGridLayer[\"default\"]) : this.getSubLayerClass('CPU', _cpuGridLayer[\"default\"]);\n      return new LayerType(this.props, this.getSubLayerProps({\n        id: id,\n        updateTriggers: updateTriggers\n      }), {\n        data: data\n      });\n    }\n  }, {\n    key: \"canUseGPUAggregation\",\n    value: function canUseGPUAggregation(props) {\n      var gpuAggregation = props.gpuAggregation,\n          lowerPercentile = props.lowerPercentile,\n          upperPercentile = props.upperPercentile,\n          getColorValue = props.getColorValue,\n          getElevationValue = props.getElevationValue,\n          colorScaleType = props.colorScaleType;\n\n      if (!gpuAggregation) {\n        return false;\n      }\n\n      if (!_gpuGridAggregator[\"default\"].isSupported(this.context.gl)) {\n        return false;\n      }\n\n      if (lowerPercentile !== 0 || upperPercentile !== 100) {\n        return false;\n      }\n\n      if (getColorValue !== null || getElevationValue !== null) {\n        return false;\n      }\n\n      if (colorScaleType === 'quantile' || colorScaleType === 'ordinal') {\n        return false;\n      }\n\n      return true;\n    }\n  }]);\n  return GridLayer;\n}(_core.CompositeLayer);\n\nexports[\"default\"] = GridLayer;\nGridLayer.layerName = 'GridLayer';\nGridLayer.defaultProps = defaultProps;\n//# sourceMappingURL=grid-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_inherits2","_core","_gpuGridAggregator","_gpuGridLayer","_cpuGridLayer","defaultProps","assign","gpuAggregation","GridLayer","_CompositeLayer","_super","key","initializeState","state","useGPUAggregation","updateState","_ref","newState","canUseGPUAggregation","props","setState","renderLayers","_this$props","data","updateTriggers","id","LayerType","getSubLayerClass","getSubLayerProps","lowerPercentile","upperPercentile","getColorValue","getElevationValue","colorScaleType","isSupported","context","gl","CompositeLayer","layerName"]
}
