shadow$provide.module$node_modules$probe_DOT_gl$dist$es5$lib$log=function(global,require,module,exports){function noop(){}function getTableHeader(table){for(var key in table)for(var title in table[key])return title||"untitled";return"empty"}function normalizeLogLevel(logLevel){if(!logLevel)return 0;switch((0,_typeof2["default"])(logLevel)){case "number":break;case "object":logLevel=logLevel.logLevel||logLevel.priority||0;break;default:return 0}(0,_assert2["default"])(Number.isFinite(logLevel)&&0<=
logLevel);return logLevel}function normalizeArguments(opts){var logLevel=opts.logLevel,message=opts.message;opts.logLevel=normalizeLogLevel(logLevel);for(var args=opts.args?Array.from(opts.args):[];args.length&&args.shift()!==message;);opts.args=args;switch((0,_typeof2["default"])(logLevel)){case "string":case "function":void 0!==message&&args.unshift(message);opts.message=logLevel;break;case "object":Object.assign(opts,logLevel)}"function"===typeof opts.message&&(opts.message=opts.message());logLevel=
(0,_typeof2["default"])(opts.message);(0,_assert2["default"])("string"===logLevel||"object"===logLevel);return Object.assign(opts,opts.opts)}function logImageInNode(_ref3){var image=_ref3.image;_ref3=_ref3.scale;var scale=void 0===_ref3?1:_ref3,asciify=null;try{asciify=module.require("asciify-image")}catch(error){}return asciify?function(){return asciify(image,{fit:"box",width:"".concat(Math.round(80*scale),"%")}).then(function(data){return console.log(data)})}:noop}function logImageInBrowser(_ref4){var image=
_ref4.image,_ref4$message=_ref4.message,message=void 0===_ref4$message?"":_ref4$message;_ref4=_ref4.scale;var scale=void 0===_ref4?1:_ref4;if("string"===typeof image){var img=new Image;img.onload=function(){var _console,args=(0,_formatters.formatImage)(img,message,scale);(_console=console).log.apply(_console,(0,_toConsumableArray2["default"])(args))};img.src=image;return noop}_ref4=image.nodeName||"";if("img"===_ref4.toLowerCase()){var _console2;(_console2=console).log.apply(_console2,(0,_toConsumableArray2["default"])((0,
_formatters.formatImage)(image,message,scale)));return noop}if("canvas"===_ref4.toLowerCase()){var _img=new Image;_img.onload=function(){var _console3;return(_console3=console).log.apply(_console3,(0,_toConsumableArray2["default"])((0,_formatters.formatImage)(_img,message,scale)))};_img.src=image.toDataURL()}return noop}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.normalizeArguments=normalizeArguments;
exports["default"]=void 0;var _typeof2=global(require("module$node_modules$$babel$runtime$helpers$typeof")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_globals=require("module$node_modules$probe_DOT_gl$dist$es5$utils$globals"),
_localStorage=global(require("module$node_modules$probe_DOT_gl$dist$es5$utils$local_storage")),_formatters=require("module$node_modules$probe_DOT_gl$dist$es5$utils$formatters"),_color=require("module$node_modules$probe_DOT_gl$dist$es5$utils$color"),_autobind=require("module$node_modules$probe_DOT_gl$dist$es5$utils$autobind"),_assert2=global(require("module$node_modules$probe_DOT_gl$dist$es5$utils$assert")),_hiResTimestamp=global(require("module$node_modules$probe_DOT_gl$dist$es5$utils$hi_res_timestamp")),
JSCompiler_object_inline_debug_4404=_globals.isBrowser?console.debug||console.log:console.log,JSCompiler_object_inline_log_4405=console.log,JSCompiler_object_inline_info_4406=console.info,JSCompiler_object_inline_warn_4407=console.warn,JSCompiler_object_inline_error_4408=console.error,DEFAULT_SETTINGS={enabled:!0,level:0},cache={},ONCE={once:!0};require=function(){function Log(){var id=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).id;(0,_classCallCheck2["default"])(this,Log);this.id=
id;this.VERSION=_globals.VERSION;this._startTs=(0,_hiResTimestamp["default"])();this._deltaTs=(0,_hiResTimestamp["default"])();this.LOG_THROTTLE_TIMEOUT=0;this._storage=new _localStorage["default"]("__probe-".concat(this.id,"__"),DEFAULT_SETTINGS);this.userData={};this.timeStamp("".concat(this.id," started"));(0,_autobind.autobind)(this);Object.seal(this)}(0,_createClass2["default"])(Log,[{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},
{key:"getTotal",value:function(){return Number(((0,_hiResTimestamp["default"])()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number(((0,_hiResTimestamp["default"])()-this._deltaTs).toPrecision(10))}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){this._storage.updateConfiguration({enabled:0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0});return this}},{key:"setLevel",value:function(level){this._storage.updateConfiguration({level});
return this}},{key:"assert",value:function(condition,message){(0,_assert2["default"])(condition,message)}},{key:"warn",value:function(message){return this._getLogFunction(0,message,JSCompiler_object_inline_warn_4407,arguments,ONCE)}},{key:"error",value:function(message){return this._getLogFunction(0,message,JSCompiler_object_inline_error_4408,arguments)}},{key:"deprecated",value:function(oldUsage,newUsage){return this.warn("`".concat(oldUsage,"` is deprecated and will be removed in a later version. Use `").concat(newUsage,
"` instead"))}},{key:"removed",value:function(oldUsage,newUsage){return this.error("`".concat(oldUsage,"` has been removed. Use `").concat(newUsage,"` instead"))}},{key:"probe",value:function(logLevel,message){return this._getLogFunction(logLevel,message,JSCompiler_object_inline_log_4405,arguments,{time:!0,once:!0})}},{key:"log",value:function(logLevel,message){return this._getLogFunction(logLevel,message,JSCompiler_object_inline_debug_4404,arguments)}},{key:"info",value:function(logLevel,message){return this._getLogFunction(logLevel,
message,console.info,arguments)}},{key:"once",value:function(logLevel,message){return this._getLogFunction(logLevel,message,JSCompiler_object_inline_debug_4404||JSCompiler_object_inline_info_4406,arguments,ONCE)}},{key:"table",value:function(logLevel,_table,columns){return _table?this._getLogFunction(logLevel,_table,console.table||noop,columns&&[columns],{tag:getTableHeader(_table)}):noop}},{key:"image",value:function(_ref2){var priority=_ref2.priority,_image=_ref2.image,_ref2$message=_ref2.message;
_ref2$message=void 0===_ref2$message?"":_ref2$message;var _ref2$scale=_ref2.scale;_ref2$scale=void 0===_ref2$scale?1:_ref2$scale;return this._shouldLog(_ref2.logLevel||priority)?_globals.isBrowser?logImageInBrowser({image:_image,message:_ref2$message,scale:_ref2$scale}):logImageInNode({image:_image,message:_ref2$message,scale:_ref2$scale}):noop}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"get",value:function(setting){return this._storage.config[setting]}},
{key:"set",value:function(setting,value){this._storage.updateConfiguration((0,_defineProperty2["default"])({},setting,value))}},{key:"time",value:function(logLevel,message){return this._getLogFunction(logLevel,message,console.time?console.time:console.info)}},{key:"timeEnd",value:function(logLevel,message){return this._getLogFunction(logLevel,message,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(logLevel,message){return this._getLogFunction(logLevel,message,console.timeStamp||
noop)}},{key:"group",value:function(logLevel,message){var opts=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};opts=normalizeArguments({logLevel,message,opts});opts.method=(opts.collapsed?console.groupCollapsed:console.group)||console.info;return this._getLogFunction(opts)}},{key:"groupCollapsed",value:function(logLevel,message){return this.group(logLevel,message,Object.assign({},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}},{key:"groupEnd",value:function(logLevel){return this._getLogFunction(logLevel,
"",console.groupEnd||noop)}},{key:"withGroup",value:function(logLevel,message,func){this.group(logLevel,message)();try{func()}finally{this.groupEnd(logLevel)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(logLevel){return this.isEnabled()&&this.getLevel()>=normalizeLogLevel(logLevel)}},{key:"_getLogFunction",value:function(logLevel,message$jscomp$0,method){var args=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],opts=4<arguments.length?
arguments[4]:void 0;if(this._shouldLog(logLevel)){var _method;opts=normalizeArguments({logLevel,message:message$jscomp$0,args,opts});method=method||opts.method;(0,_assert2["default"])(method);opts.total=this.getTotal();opts.delta=this.getDelta();this._deltaTs=(0,_hiResTimestamp["default"])();args=opts.tag||opts.message;if(opts.once){if(cache[args])return noop;cache[args]=(0,_hiResTimestamp["default"])()}args=this.id;var message=opts.message,opts$jscomp$0=opts;if("string"===typeof message){var time=
opts$jscomp$0.time?(0,_formatters.leftPad)((0,_formatters.formatTime)(opts$jscomp$0.total)):"";message=opts$jscomp$0.time?"".concat(args,": ").concat(time,"  ").concat(message):"".concat(args,": ").concat(message);message=(0,_color.addColor)(message,opts$jscomp$0.color,opts$jscomp$0.background)}return(_method=method).bind.apply(_method,[console,message].concat((0,_toConsumableArray2["default"])(opts.args)))}return noop}},{key:"level",set:function(newLevel){this.setLevel(newLevel)},get:function(){return this.getLevel()}},
{key:"priority",set:function(newPriority){this.level=newPriority},get:function(){return this.level}}]);return Log}();exports["default"]=require;require.VERSION=_globals.VERSION}
//# sourceMappingURL=module$node_modules$probe_DOT_gl$dist$es5$lib$log.js.map
