{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$layers$dist$es5$text_layer$multi_icon_layer$multi_icon_layer.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/layers/dist/es5/text-layer/multi-icon-layer/multi-icon-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$layers$dist$es5$text_layer$multi_icon_layer$multi_icon_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _iconLayer = _interopRequireDefault(require(\"../../icon-layer/icon-layer\"));\n\nvar _multiIconLayerFragment = _interopRequireDefault(require(\"./multi-icon-layer-fragment.glsl\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar DEFAULT_GAMMA = 0.2;\nvar DEFAULT_BUFFER = 192.0 / 256;\nvar EMPTY_ARRAY = [];\nvar defaultProps = {\n  backgroundColor: {\n    type: 'color',\n    value: null,\n    optional: true\n  },\n  getIconOffsets: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.offsets;\n    }\n  },\n  alphaCutoff: 0.001\n};\n\nvar MultiIconLayer = function (_IconLayer) {\n  (0, _inherits2[\"default\"])(MultiIconLayer, _IconLayer);\n\n  var _super = _createSuper(MultiIconLayer);\n\n  function MultiIconLayer() {\n    (0, _classCallCheck2[\"default\"])(this, MultiIconLayer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(MultiIconLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return Object.assign({}, (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"getShaders\", this).call(this), {\n        inject: {\n          'vs:#decl': \"\\n  uniform float gamma;\\n  varying float vGamma;\\n\",\n          'vs:#main-end': \"\\n  vGamma = gamma / (sizeScale * iconSize.y);\\n\"\n        },\n        fs: _multiIconLayerFragment[\"default\"]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"initializeState\", this).call(this);\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        instanceOffsets: {\n          size: 2,\n          accessor: 'getIconOffsets'\n        },\n        instancePickingColors: {\n          type: 5121,\n          size: 3,\n          accessor: function accessor(object, _ref) {\n            var index = _ref.index,\n                value = _ref.target;\n            return _this.encodePickingColor(index, value);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(updateParams) {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"updateState\", this).call(this, updateParams);\n      var oldProps = updateParams.oldProps,\n          props = updateParams.props;\n\n      if (props.backgroundColor !== oldProps.backgroundColor) {\n        var backgroundColor = Array.isArray(props.backgroundColor) ? props.backgroundColor.map(function (c) {\n          return c / 255.0;\n        }).slice(0, 3) : null;\n        this.setState({\n          backgroundColor: backgroundColor\n        });\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var sdf = this.props.sdf;\n      var backgroundColor = this.state.backgroundColor;\n      var shouldDrawBackground = Array.isArray(backgroundColor);\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"draw\", this).call(this, {\n        uniforms: Object.assign({}, uniforms, {\n          buffer: DEFAULT_BUFFER,\n          gamma: DEFAULT_GAMMA,\n          sdf: Boolean(sdf),\n          backgroundColor: backgroundColor || [0, 0, 0],\n          shouldDrawBackground: shouldDrawBackground\n        })\n      });\n    }\n  }, {\n    key: \"getInstanceOffset\",\n    value: function getInstanceOffset(icons) {\n      var _this2 = this;\n\n      return icons ? Array.from(icons).map(function (icon) {\n        return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"getInstanceOffset\", _this2).call(_this2, icon);\n      }) : EMPTY_ARRAY;\n    }\n  }, {\n    key: \"getInstanceColorMode\",\n    value: function getInstanceColorMode(icons) {\n      return 1;\n    }\n  }, {\n    key: \"getInstanceIconFrame\",\n    value: function getInstanceIconFrame(icons) {\n      var _this3 = this;\n\n      return icons ? Array.from(icons).map(function (icon) {\n        return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"getInstanceIconFrame\", _this3).call(_this3, icon);\n      }) : EMPTY_ARRAY;\n    }\n  }]);\n  return MultiIconLayer;\n}(_iconLayer[\"default\"]);\n\nexports[\"default\"] = MultiIconLayer;\nMultiIconLayer.layerName = 'MultiIconLayer';\nMultiIconLayer.defaultProps = defaultProps;\n//# sourceMappingURL=multi-icon-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_get2","_inherits2","_iconLayer","_multiIconLayerFragment","EMPTY_ARRAY","MultiIconLayer","_IconLayer","_super","key","getShaders","assign","inject","fs","initializeState","_this","attributeManager","getAttributeManager","addInstanced","instanceOffsets","size","accessor","instancePickingColors","type","object","_ref","encodePickingColor","index","target","updateState","updateParams","props","backgroundColor","oldProps","Array","isArray","map","c","slice","setState","draw","_ref2","uniforms","sdf","state","shouldDrawBackground","buffer","DEFAULT_BUFFER","gamma","DEFAULT_GAMMA","getInstanceOffset","icons","_this2","from","icon","getInstanceColorMode","getInstanceIconFrame","_this3","layerName","defaultProps","optional","getIconOffsets","x","offsets","alphaCutoff"]
}
