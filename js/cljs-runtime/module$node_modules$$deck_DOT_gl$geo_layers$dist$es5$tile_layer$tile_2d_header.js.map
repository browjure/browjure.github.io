{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$tile_2d_header.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/geo-layers/dist/es5/tile-layer/tile-2d-header.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$tile_2d_header\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar Tile2DHeader = function () {\n  function Tile2DHeader(_ref) {\n    var x = _ref.x,\n        y = _ref.y,\n        z = _ref.z,\n        onTileLoad = _ref.onTileLoad,\n        onTileError = _ref.onTileError;\n    (0, _classCallCheck2[\"default\"])(this, Tile2DHeader);\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.isVisible = false;\n    this.isSelected = false;\n    this.parent = null;\n    this.children = [];\n    this.content = null;\n    this._isLoaded = false;\n    this._isCancelled = false;\n    this.onTileLoad = onTileLoad;\n    this.onTileError = onTileError;\n  }\n\n  (0, _createClass2[\"default\"])(Tile2DHeader, [{\n    key: \"_loadData\",\n    value: function () {\n      var _loadData2 = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(getTileData, requestScheduler) {\n        var x, y, z, bbox, signal, requestToken, tileData, error;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                x = this.x, y = this.y, z = this.z, bbox = this.bbox;\n                this._abortController = new AbortController();\n                signal = this._abortController.signal;\n                _context.next = 5;\n                return requestScheduler.scheduleRequest(this, function (tile) {\n                  return tile.isSelected ? 1 : -1;\n                });\n\n              case 5:\n                requestToken = _context.sent;\n\n                if (requestToken) {\n                  _context.next = 9;\n                  break;\n                }\n\n                this._isCancelled = true;\n                return _context.abrupt(\"return\");\n\n              case 9:\n                if (!this._isCancelled) {\n                  _context.next = 12;\n                  break;\n                }\n\n                requestToken.done();\n                return _context.abrupt(\"return\");\n\n              case 12:\n                _context.prev = 12;\n                _context.next = 15;\n                return getTileData({\n                  x: x,\n                  y: y,\n                  z: z,\n                  bbox: bbox,\n                  signal: signal\n                });\n\n              case 15:\n                tileData = _context.sent;\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](12);\n                error = _context.t0 || true;\n\n              case 21:\n                _context.prev = 21;\n                requestToken.done();\n\n                if (this._isCancelled && !tileData) {\n                  this._isLoaded = false;\n                } else {\n                  this._isLoaded = true;\n                  this._isCancelled = false;\n                }\n\n                return _context.finish(21);\n\n              case 25:\n                if (this._isLoaded) {\n                  _context.next = 27;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 27:\n                if (error) {\n                  this.onTileError(error, this);\n                } else {\n                  this.content = tileData;\n                  this.onTileLoad(this);\n                }\n\n              case 28:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 18, 21, 25]]);\n      }));\n\n      function _loadData(_x, _x2) {\n        return _loadData2.apply(this, arguments);\n      }\n\n      return _loadData;\n    }()\n  }, {\n    key: \"loadData\",\n    value: function loadData(getTileData, requestScheduler) {\n      var _this = this;\n\n      if (!getTileData) {\n        return;\n      }\n\n      this._isCancelled = false;\n      this._loader = this._loadData(getTileData, requestScheduler);\n\n      this._loader[\"finally\"](function () {\n        _this._loader = undefined;\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (this.isLoaded) {\n        return;\n      }\n\n      this._isCancelled = true;\n\n      this._abortController.abort();\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._isLoaded ? this.content : this._loader;\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return this._isLoaded;\n    }\n  }, {\n    key: \"isLoading\",\n    get: function get() {\n      return Boolean(this._loader);\n    }\n  }, {\n    key: \"isCancelled\",\n    get: function get() {\n      return this._isCancelled;\n    }\n  }, {\n    key: \"byteLength\",\n    get: function get() {\n      var result = this.content ? this.content.byteLength : 0;\n\n      if (!Number.isFinite(result)) {\n        _core.log.error('byteLength not defined in tile data')();\n      }\n\n      return result;\n    }\n  }]);\n  return Tile2DHeader;\n}();\n\nexports[\"default\"] = Tile2DHeader;\n//# sourceMappingURL=tile-2d-header.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_core","Tile2DHeader","_ref","x","y","z","onTileLoad","onTileError","isSelected","isVisible","parent","children","content","_isCancelled","_isLoaded","key","_loadData2","mark","_callee","getTileData","requestScheduler","bbox","signal","requestToken","tileData","error","wrap","_callee$","_context","prev","next","_abortController","AbortController","scheduleRequest","tile","sent","abrupt","done","t0","finish","stop","_loadData","_x","_x2","apply","arguments","loadData","_this","_loader","undefined","abort","isLoaded","get","result","byteLength","Number","isFinite","log"]
}
