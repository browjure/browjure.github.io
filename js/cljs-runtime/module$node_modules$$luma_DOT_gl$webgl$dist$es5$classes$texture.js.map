{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$texture.js",
"lineCount":36,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/texture.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$texture\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _env = require(\"probe.gl/env\");\n\nvar _resource = _interopRequireDefault(require(\"./resource\"));\n\nvar _buffer = _interopRequireDefault(require(\"./buffer\"));\n\nvar _textureFormats = require(\"./texture-formats\");\n\nvar _utils = require(\"../utils\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar NPOT_MIN_FILTERS = [9729, 9728];\n\nvar WebGLBuffer = _env.global.WebGLBuffer || function WebGLBuffer() {};\n\nvar Texture = function (_Resource) {\n  (0, _inherits2[\"default\"])(Texture, _Resource);\n\n  var _super = _createSuper(Texture);\n\n  (0, _createClass2[\"default\"])(Texture, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var format = opts.format,\n          linearFiltering = opts.linearFiltering;\n      var supported = true;\n\n      if (format) {\n        supported = supported && (0, _textureFormats.isFormatSupported)(gl, format);\n        supported = supported && (!linearFiltering || (0, _textureFormats.isLinearFilteringSupported)(gl, format));\n      }\n\n      return supported;\n    }\n  }]);\n\n  function Texture(gl, props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Texture);\n    var _props$id = props.id,\n        id = _props$id === void 0 ? (0, _utils.uid)('texture') : _props$id,\n        handle = props.handle,\n        target = props.target;\n    _this = _super.call(this, gl, {\n      id: id,\n      handle: handle\n    });\n    _this.target = target;\n    _this.textureUnit = undefined;\n    _this.loaded = false;\n    _this.width = undefined;\n    _this.height = undefined;\n    _this.depth = undefined;\n    _this.format = undefined;\n    _this.type = undefined;\n    _this.dataFormat = undefined;\n    _this.border = undefined;\n    _this.textureUnit = undefined;\n    _this.mipmaps = undefined;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Texture, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"Texture(\".concat(this.id, \",\").concat(this.width, \"x\").concat(this.height, \")\");\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var data = props.data;\n\n      if (data instanceof Promise) {\n        data.then(function (resolvedImageData) {\n          return _this2.initialize(Object.assign({}, props, {\n            pixels: resolvedImageData,\n            data: resolvedImageData\n          }));\n        });\n        return this;\n      }\n\n      var isVideo = typeof HTMLVideoElement !== 'undefined' && data instanceof HTMLVideoElement;\n\n      if (isVideo && data.readyState < HTMLVideoElement.HAVE_METADATA) {\n        this._video = null;\n        data.addEventListener('loadeddata', function () {\n          return _this2.initialize(props);\n        });\n        return this;\n      }\n\n      var _props$pixels = props.pixels,\n          pixels = _props$pixels === void 0 ? null : _props$pixels,\n          _props$format = props.format,\n          format = _props$format === void 0 ? 6408 : _props$format,\n          _props$border = props.border,\n          border = _props$border === void 0 ? 0 : _props$border,\n          _props$recreate = props.recreate,\n          recreate = _props$recreate === void 0 ? false : _props$recreate,\n          _props$parameters = props.parameters,\n          parameters = _props$parameters === void 0 ? {} : _props$parameters,\n          _props$pixelStore = props.pixelStore,\n          pixelStore = _props$pixelStore === void 0 ? {} : _props$pixelStore,\n          _props$textureUnit = props.textureUnit,\n          textureUnit = _props$textureUnit === void 0 ? undefined : _props$textureUnit;\n\n      if (!data) {\n        data = pixels;\n      }\n\n      var width = props.width,\n          height = props.height,\n          dataFormat = props.dataFormat,\n          type = props.type,\n          _props$compressed = props.compressed,\n          compressed = _props$compressed === void 0 ? false : _props$compressed,\n          _props$mipmaps = props.mipmaps,\n          mipmaps = _props$mipmaps === void 0 ? true : _props$mipmaps;\n      var _props$depth = props.depth,\n          depth = _props$depth === void 0 ? 0 : _props$depth;\n\n      var _this$_deduceParamete = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      width = _this$_deduceParamete.width;\n      height = _this$_deduceParamete.height;\n      compressed = _this$_deduceParamete.compressed;\n      dataFormat = _this$_deduceParamete.dataFormat;\n      type = _this$_deduceParamete.type;\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n      this.format = format;\n      this.type = type;\n      this.dataFormat = dataFormat;\n      this.border = border;\n      this.textureUnit = textureUnit;\n\n      if (Number.isFinite(this.textureUnit)) {\n        this.gl.activeTexture(33984 + this.textureUnit);\n        this.gl.bindTexture(this.target, this.handle);\n      }\n\n      if (mipmaps && this._isNPOT()) {\n        _gltools.log.warn(\"texture: \".concat(this, \" is Non-Power-Of-Two, disabling mipmaping\"))();\n\n        mipmaps = false;\n\n        this._updateForNPOT(parameters);\n      }\n\n      this.mipmaps = mipmaps;\n      this.setImageData({\n        data: data,\n        width: width,\n        height: height,\n        depth: depth,\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        border: border,\n        mipmaps: mipmaps,\n        parameters: pixelStore,\n        compressed: compressed\n      });\n\n      if (mipmaps) {\n        this.generateMipmap();\n      }\n\n      this.setParameters(parameters);\n\n      if (recreate) {\n        this.data = data;\n      }\n\n      if (isVideo) {\n        this._video = {\n          video: data,\n          parameters: parameters,\n          lastTime: data.readyState >= HTMLVideoElement.HAVE_CURRENT_DATA ? data.currentTime : -1\n        };\n      }\n\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this._video) {\n        var _this$_video = this._video,\n            video = _this$_video.video,\n            parameters = _this$_video.parameters,\n            lastTime = _this$_video.lastTime;\n\n        if (lastTime === video.currentTime || video.readyState < HTMLVideoElement.HAVE_CURRENT_DATA) {\n          return;\n        }\n\n        this.setSubImageData({\n          data: video,\n          parameters: parameters\n        });\n\n        if (this.mipmaps) {\n          this.generateMipmap();\n        }\n\n        this._video.lastTime = video.currentTime;\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref) {\n      var height = _ref.height,\n          width = _ref.width,\n          _ref$mipmaps = _ref.mipmaps,\n          mipmaps = _ref$mipmaps === void 0 ? false : _ref$mipmaps;\n\n      if (width !== this.width || height !== this.height) {\n        return this.initialize({\n          width: width,\n          height: height,\n          format: this.format,\n          type: this.type,\n          dataFormat: this.dataFormat,\n          border: this.border,\n          mipmaps: mipmaps\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"generateMipmap\",\n    value: function generateMipmap() {\n      var _this3 = this;\n\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._isNPOT()) {\n        _gltools.log.warn(\"texture: \".concat(this, \" is Non-Power-Of-Two, disabling mipmaping\"))();\n\n        return this;\n      }\n\n      this.mipmaps = true;\n      this.gl.bindTexture(this.target, this.handle);\n      (0, _gltools.withParameters)(this.gl, params, function () {\n        _this3.gl.generateMipmap(_this3.target);\n      });\n      this.gl.bindTexture(this.target, null);\n      return this;\n    }\n  }, {\n    key: \"setImageData\",\n    value: function setImageData(options) {\n      this._trackDeallocatedMemory('Texture');\n\n      var _options$target = options.target,\n          target = _options$target === void 0 ? this.target : _options$target,\n          _options$pixels = options.pixels,\n          pixels = _options$pixels === void 0 ? null : _options$pixels,\n          _options$level = options.level,\n          level = _options$level === void 0 ? 0 : _options$level,\n          _options$format = options.format,\n          format = _options$format === void 0 ? this.format : _options$format,\n          _options$border = options.border,\n          border = _options$border === void 0 ? this.border : _options$border,\n          _options$offset = options.offset,\n          offset = _options$offset === void 0 ? 0 : _options$offset,\n          _options$parameters = options.parameters,\n          parameters = _options$parameters === void 0 ? {} : _options$parameters;\n      var _options$data = options.data,\n          data = _options$data === void 0 ? null : _options$data,\n          _options$type = options.type,\n          type = _options$type === void 0 ? this.type : _options$type,\n          _options$width = options.width,\n          width = _options$width === void 0 ? this.width : _options$width,\n          _options$height = options.height,\n          height = _options$height === void 0 ? this.height : _options$height,\n          _options$dataFormat = options.dataFormat,\n          dataFormat = _options$dataFormat === void 0 ? this.dataFormat : _options$dataFormat,\n          _options$compressed = options.compressed,\n          compressed = _options$compressed === void 0 ? false : _options$compressed;\n\n      if (!data) {\n        data = pixels;\n      }\n\n      var _this$_deduceParamete2 = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      type = _this$_deduceParamete2.type;\n      dataFormat = _this$_deduceParamete2.dataFormat;\n      compressed = _this$_deduceParamete2.compressed;\n      width = _this$_deduceParamete2.width;\n      height = _this$_deduceParamete2.height;\n      var gl = this.gl;\n      gl.bindTexture(this.target, this.handle);\n      var dataType = null;\n\n      var _this$_getDataType = this._getDataType({\n        data: data,\n        compressed: compressed\n      });\n\n      data = _this$_getDataType.data;\n      dataType = _this$_getDataType.dataType;\n      var gl2;\n      (0, _gltools.withParameters)(this.gl, parameters, function () {\n        switch (dataType) {\n          case 'null':\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data);\n            break;\n\n          case 'typed-array':\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data, offset);\n            break;\n\n          case 'buffer':\n            gl2 = (0, _gltools.assertWebGL2Context)(gl);\n            gl2.bindBuffer(35052, data.handle || data);\n            gl2.texImage2D(target, level, format, width, height, border, dataFormat, type, offset);\n            gl2.bindBuffer(35052, null);\n            break;\n\n          case 'browser-object':\n            if ((0, _gltools.isWebGL2)(gl)) {\n              gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data);\n            } else {\n              gl.texImage2D(target, level, format, dataFormat, type, data);\n            }\n\n            break;\n\n          case 'compressed':\n            var _iterator = _createForOfIteratorHelper(data.entries()),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var _step$value = (0, _slicedToArray2[\"default\"])(_step.value, 2),\n                    levelIndex = _step$value[0],\n                    levelData = _step$value[1];\n\n                gl.compressedTexImage2D(target, levelIndex, levelData.format, levelData.width, levelData.height, border, levelData.data);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n            break;\n\n          default:\n            (0, _utils.assert)(false, 'Unknown image data type');\n        }\n      });\n\n      if (data && data.byteLength) {\n        this._trackAllocatedMemory(data.byteLength, 'Texture');\n      } else {\n        var channels = _textureFormats.DATA_FORMAT_CHANNELS[this.dataFormat] || 4;\n        var channelSize = _textureFormats.TYPE_SIZES[this.type] || 1;\n\n        this._trackAllocatedMemory(this.width * this.height * channels * channelSize, 'Texture');\n      }\n\n      this.loaded = true;\n      return this;\n    }\n  }, {\n    key: \"setSubImageData\",\n    value: function setSubImageData(_ref2) {\n      var _this4 = this;\n\n      var _ref2$target = _ref2.target,\n          target = _ref2$target === void 0 ? this.target : _ref2$target,\n          _ref2$pixels = _ref2.pixels,\n          pixels = _ref2$pixels === void 0 ? null : _ref2$pixels,\n          _ref2$data = _ref2.data,\n          data = _ref2$data === void 0 ? null : _ref2$data,\n          _ref2$x = _ref2.x,\n          x = _ref2$x === void 0 ? 0 : _ref2$x,\n          _ref2$y = _ref2.y,\n          y = _ref2$y === void 0 ? 0 : _ref2$y,\n          _ref2$width = _ref2.width,\n          width = _ref2$width === void 0 ? this.width : _ref2$width,\n          _ref2$height = _ref2.height,\n          height = _ref2$height === void 0 ? this.height : _ref2$height,\n          _ref2$level = _ref2.level,\n          level = _ref2$level === void 0 ? 0 : _ref2$level,\n          _ref2$format = _ref2.format,\n          format = _ref2$format === void 0 ? this.format : _ref2$format,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === void 0 ? this.type : _ref2$type,\n          _ref2$dataFormat = _ref2.dataFormat,\n          dataFormat = _ref2$dataFormat === void 0 ? this.dataFormat : _ref2$dataFormat,\n          _ref2$compressed = _ref2.compressed,\n          compressed = _ref2$compressed === void 0 ? false : _ref2$compressed,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? 0 : _ref2$offset,\n          _ref2$border = _ref2.border,\n          border = _ref2$border === void 0 ? this.border : _ref2$border,\n          _ref2$parameters = _ref2.parameters,\n          parameters = _ref2$parameters === void 0 ? {} : _ref2$parameters;\n\n      var _this$_deduceParamete3 = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      type = _this$_deduceParamete3.type;\n      dataFormat = _this$_deduceParamete3.dataFormat;\n      compressed = _this$_deduceParamete3.compressed;\n      width = _this$_deduceParamete3.width;\n      height = _this$_deduceParamete3.height;\n      (0, _utils.assert)(this.depth === 0, 'texSubImage not supported for 3D textures');\n\n      if (!data) {\n        data = pixels;\n      }\n\n      if (data && data.data) {\n        var ndarray = data;\n        data = ndarray.data;\n        width = ndarray.shape[0];\n        height = ndarray.shape[1];\n      }\n\n      if (data instanceof _buffer[\"default\"]) {\n        data = data.handle;\n      }\n\n      this.gl.bindTexture(this.target, this.handle);\n      (0, _gltools.withParameters)(this.gl, parameters, function () {\n        if (compressed) {\n          _this4.gl.compressedTexSubImage2D(target, level, x, y, width, height, format, data);\n        } else if (data === null) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, null);\n        } else if (ArrayBuffer.isView(data)) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, data, offset);\n        } else if (data instanceof WebGLBuffer) {\n          var gl2 = (0, _gltools.assertWebGL2Context)(_this4.gl);\n          gl2.bindBuffer(35052, data);\n          gl2.texSubImage2D(target, level, x, y, width, height, dataFormat, type, offset);\n          gl2.bindBuffer(35052, null);\n        } else if ((0, _gltools.isWebGL2)(_this4.gl)) {\n          var _gl = (0, _gltools.assertWebGL2Context)(_this4.gl);\n\n          _gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, data);\n        } else {\n          _this4.gl.texSubImage2D(target, level, x, y, dataFormat, type, data);\n        }\n      });\n      this.gl.bindTexture(this.target, null);\n    }\n  }, {\n    key: \"copyFramebuffer\",\n    value: function copyFramebuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gltools.log.error('Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})')();\n\n      return null;\n    }\n  }, {\n    key: \"getActiveUnit\",\n    value: function getActiveUnit() {\n      return this.gl.getParameter(34016) - 33984;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var textureUnit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.textureUnit;\n      var gl = this.gl;\n\n      if (textureUnit !== undefined) {\n        this.textureUnit = textureUnit;\n        gl.activeTexture(33984 + textureUnit);\n      }\n\n      gl.bindTexture(this.target, this.handle);\n      return textureUnit;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var textureUnit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.textureUnit;\n      var gl = this.gl;\n\n      if (textureUnit !== undefined) {\n        this.textureUnit = textureUnit;\n        gl.activeTexture(33984 + textureUnit);\n      }\n\n      gl.bindTexture(this.target, null);\n      return textureUnit;\n    }\n  }, {\n    key: \"_getDataType\",\n    value: function _getDataType(_ref3) {\n      var data = _ref3.data,\n          _ref3$compressed = _ref3.compressed,\n          compressed = _ref3$compressed === void 0 ? false : _ref3$compressed;\n\n      if (compressed) {\n        return {\n          data: data,\n          dataType: 'compressed'\n        };\n      }\n\n      if (data === null) {\n        return {\n          data: data,\n          dataType: 'null'\n        };\n      }\n\n      if (ArrayBuffer.isView(data)) {\n        return {\n          data: data,\n          dataType: 'typed-array'\n        };\n      }\n\n      if (data instanceof _buffer[\"default\"]) {\n        return {\n          data: data.handle,\n          dataType: 'buffer'\n        };\n      }\n\n      if (data instanceof WebGLBuffer) {\n        return {\n          data: data,\n          dataType: 'buffer'\n        };\n      }\n\n      return {\n        data: data,\n        dataType: 'browser-object'\n      };\n    }\n  }, {\n    key: \"_deduceParameters\",\n    value: function _deduceParameters(opts) {\n      var format = opts.format,\n          data = opts.data;\n      var width = opts.width,\n          height = opts.height,\n          dataFormat = opts.dataFormat,\n          type = opts.type,\n          compressed = opts.compressed;\n      var textureFormat = _textureFormats.TEXTURE_FORMATS[format];\n      dataFormat = dataFormat || textureFormat && textureFormat.dataFormat;\n      type = type || textureFormat && textureFormat.types[0];\n      compressed = compressed || textureFormat && textureFormat.compressed;\n\n      var _this$_deduceImageSiz = this._deduceImageSize(data, width, height);\n\n      width = _this$_deduceImageSiz.width;\n      height = _this$_deduceImageSiz.height;\n      return {\n        dataFormat: dataFormat,\n        type: type,\n        compressed: compressed,\n        width: width,\n        height: height,\n        format: format,\n        data: data\n      };\n    }\n  }, {\n    key: \"_deduceImageSize\",\n    value: function _deduceImageSize(data, width, height) {\n      var size;\n\n      if (typeof ImageData !== 'undefined' && data instanceof ImageData) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof HTMLImageElement !== 'undefined' && data instanceof HTMLImageElement) {\n        size = {\n          width: data.naturalWidth,\n          height: data.naturalHeight\n        };\n      } else if (typeof HTMLCanvasElement !== 'undefined' && data instanceof HTMLCanvasElement) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof ImageBitmap !== 'undefined' && data instanceof ImageBitmap) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof HTMLVideoElement !== 'undefined' && data instanceof HTMLVideoElement) {\n        size = {\n          width: data.videoWidth,\n          height: data.videoHeight\n        };\n      } else if (!data) {\n        size = {\n          width: width >= 0 ? width : 1,\n          height: height >= 0 ? height : 1\n        };\n      } else {\n        size = {\n          width: width,\n          height: height\n        };\n      }\n\n      (0, _utils.assert)(size, 'Could not deduced texture size');\n      (0, _utils.assert)(width === undefined || size.width === width, 'Deduced texture width does not match supplied width');\n      (0, _utils.assert)(height === undefined || size.height === height, 'Deduced texture height does not match supplied height');\n      return size;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createTexture();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteTexture(this.handle);\n\n      this._trackDeallocatedMemory('Texture');\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      switch (pname) {\n        case 4096:\n          return this.width;\n\n        case 4097:\n          return this.height;\n\n        default:\n          this.gl.bindTexture(this.target, this.handle);\n          var value = this.gl.getTexParameter(this.target, pname);\n          this.gl.bindTexture(this.target, null);\n          return value;\n      }\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, param) {\n      this.gl.bindTexture(this.target, this.handle);\n      param = this._getNPOTParam(pname, param);\n\n      switch (pname) {\n        case 33082:\n        case 33083:\n          this.gl.texParameterf(this.handle, pname, param);\n          break;\n\n        case 4096:\n        case 4097:\n          (0, _utils.assert)(false);\n          break;\n\n        default:\n          this.gl.texParameteri(this.target, pname, param);\n          break;\n      }\n\n      this.gl.bindTexture(this.target, null);\n      return this;\n    }\n  }, {\n    key: \"_isNPOT\",\n    value: function _isNPOT() {\n      if ((0, _gltools.isWebGL2)(this.gl)) {\n        return false;\n      }\n\n      if (!this.width || !this.height) {\n        return false;\n      }\n\n      return !(0, _utils.isPowerOfTwo)(this.width) || !(0, _utils.isPowerOfTwo)(this.height);\n    }\n  }, {\n    key: \"_updateForNPOT\",\n    value: function _updateForNPOT(parameters) {\n      if (parameters[this.gl.TEXTURE_MIN_FILTER] === undefined) {\n        parameters[this.gl.TEXTURE_MIN_FILTER] = this.gl.LINEAR;\n      }\n\n      if (parameters[this.gl.TEXTURE_WRAP_S] === undefined) {\n        parameters[this.gl.TEXTURE_WRAP_S] = this.gl.CLAMP_TO_EDGE;\n      }\n\n      if (parameters[this.gl.TEXTURE_WRAP_T] === undefined) {\n        parameters[this.gl.TEXTURE_WRAP_T] = this.gl.CLAMP_TO_EDGE;\n      }\n    }\n  }, {\n    key: \"_getNPOTParam\",\n    value: function _getNPOTParam(pname, param) {\n      if (this._isNPOT()) {\n        switch (pname) {\n          case 10241:\n            if (NPOT_MIN_FILTERS.indexOf(param) === -1) {\n              param = 9729;\n            }\n\n            break;\n\n          case 10242:\n          case 10243:\n            if (param !== 33071) {\n              param = 33071;\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      return param;\n    }\n  }]);\n  return Texture;\n}(_resource[\"default\"]);\n\nexports[\"default\"] = Texture;\n//# sourceMappingURL=texture.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","_interopRequireDefault","defineProperty","_slicedToArray2","_classCallCheck2","_createClass2","_inherits2","_gltools","_env","_resource","_buffer","_textureFormats","_utils","NPOT_MIN_FILTERS","WebGLBuffer","Texture","_Resource","gl","props","_props$id","id","uid","target","_this","_super","handle","textureUnit","undefined","loaded","width","height","depth","format","type","dataFormat","border","mipmaps","key","isSupported","opts","linearFiltering","supported","isFormatSupported","isLinearFilteringSupported","concat","initialize","_this2","data","Promise","then","resolvedImageData","assign","pixels","isVideo","HTMLVideoElement","readyState","HAVE_METADATA","_video","addEventListener","_props$pixels","_props$format","_props$border","_props$recreate","recreate","_props$parameters","parameters","_props$pixelStore","pixelStore","_props$textureUnit","_props$compressed","compressed","_props$mipmaps","_props$depth","_this$_deduceParamete","_deduceParameters","Number","isFinite","activeTexture","bindTexture","_isNPOT","log","warn","_updateForNPOT","setImageData","generateMipmap","setParameters","video","lastTime","HAVE_CURRENT_DATA","currentTime","update","_this$_video","setSubImageData","resize","_ref","_ref$mipmaps","_this3","params","withParameters","options","_trackDeallocatedMemory","_options$target","_options$pixels","_options$level","level","_options$format","_options$border","_options$offset","offset","_options$parameters","_options$data","_options$type","_options$width","_options$height","_options$dataFormat","_options$compressed","_this$_deduceParamete2","dataType","_this$_getDataType","_getDataType","gl2","texImage2D","assertWebGL2Context","bindBuffer","isWebGL2","_iterator","entries","_step","_step$value","levelData","compressedTexImage2D","levelIndex","assert","byteLength","_trackAllocatedMemory","DATA_FORMAT_CHANNELS","TYPE_SIZES","_ref2","_this4","_ref2$target","_ref2$pixels","_ref2$data","_ref2$x","x","_ref2$y","y","_ref2$width","_ref2$height","_ref2$level","_ref2$format","_ref2$type","_ref2$dataFormat","_ref2$compressed","_ref2$offset","_ref2$parameters","_this$_deduceParamete3","ndarray","shape","compressedTexSubImage2D","texSubImage2D","ArrayBuffer","isView","_gl","copyFramebuffer","error","getActiveUnit","getParameter","bind","unbind","_ref3","_ref3$compressed","textureFormat","TEXTURE_FORMATS","types","_this$_deduceImageSiz","_deduceImageSize","size","ImageData","HTMLImageElement","naturalWidth","naturalHeight","HTMLCanvasElement","ImageBitmap","videoWidth","videoHeight","_createHandle","createTexture","_deleteHandle","deleteTexture","_getParameter","pname","getTexParameter","_setParameter","param","_getNPOTParam","texParameterf","texParameteri","isPowerOfTwo","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","indexOf"]
}
