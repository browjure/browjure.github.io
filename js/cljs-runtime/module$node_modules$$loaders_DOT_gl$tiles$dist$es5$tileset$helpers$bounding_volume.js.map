{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$tiles$dist$es5$tileset$helpers$bounding_volume.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/tiles/dist/es5/tileset/helpers/bounding-volume.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$tiles$dist$es5$tileset$helpers$bounding_volume\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createBoundingVolume = createBoundingVolume;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _core = require(\"@math.gl/core\");\n\nvar _culling = require(\"@math.gl/culling\");\n\nvar _geospatial = require(\"@math.gl/geospatial\");\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nfunction defined(x) {\n  return x !== undefined && x !== null;\n}\n\nvar scratchScale = new _core.Vector3();\nvar scratchNorthWest = new _core.Vector3();\nvar scratchSouthEast = new _core.Vector3();\nvar scratchTransform = new _core.Matrix4();\n\nfunction createBoundingVolume(boundingVolumeHeader, transform, result) {\n  (0, _loaderUtils.assert)(boundingVolumeHeader, '3D Tile: boundingVolume must be defined');\n\n  if (boundingVolumeHeader.box) {\n    return createBox(boundingVolumeHeader.box, transform, result);\n  }\n\n  if (boundingVolumeHeader.region) {\n    var _boundingVolumeHeader = (0, _slicedToArray2[\"default\"])(boundingVolumeHeader.region, 6),\n        west = _boundingVolumeHeader[0],\n        south = _boundingVolumeHeader[1],\n        east = _boundingVolumeHeader[2],\n        north = _boundingVolumeHeader[3],\n        minHeight = _boundingVolumeHeader[4],\n        maxHeight = _boundingVolumeHeader[5];\n\n    var northWest = _geospatial.Ellipsoid.WGS84.cartographicToCartesian([(0, _core.degrees)(west), (0, _core.degrees)(north), minHeight], scratchNorthWest);\n\n    var southEast = _geospatial.Ellipsoid.WGS84.cartographicToCartesian([(0, _core.degrees)(east), (0, _core.degrees)(south), maxHeight], scratchSouthEast);\n\n    var centerInCartesian = new _core.Vector3().addVectors(northWest, southEast).multiplyScalar(0.5);\n    var radius = new _core.Vector3().subVectors(northWest, southEast).len() / 2.0;\n    return createSphere([centerInCartesian[0], centerInCartesian[1], centerInCartesian[2], radius], new _core.Matrix4());\n  }\n\n  if (boundingVolumeHeader.sphere) {\n    return createSphere(boundingVolumeHeader.sphere, transform, result);\n  }\n\n  throw new Error('3D Tile: boundingVolume must contain a sphere, region, or box');\n}\n\nfunction createBox(box, transform, result) {\n  var center = new _core.Vector3(box[0], box[1], box[2]);\n  transform.transform(center, center);\n  var xAxis = transform.transformAsVector(box.slice(3, 6));\n  var yAxis = transform.transformAsVector(box.slice(6, 9));\n  var zAxis = transform.transformAsVector(box.slice(9, 12));\n  var halfAxes = new _core.Matrix3([xAxis[0], xAxis[1], xAxis[2], yAxis[0], yAxis[1], yAxis[2], zAxis[0], zAxis[1], zAxis[2]]);\n\n  if (defined(result)) {\n    result.center = center;\n    result.halfAxes = halfAxes;\n    return result;\n  }\n\n  return new _culling.OrientedBoundingBox(center, halfAxes);\n}\n\nfunction createSphere(sphere, transform, result) {\n  var center = new _core.Vector3(sphere[0], sphere[1], sphere[2]);\n  transform.transform(center, center);\n  var scale = transform.getScale(scratchScale);\n  var uniformScale = Math.max(Math.max(scale[0], scale[1]), scale[2]);\n  var radius = sphere[3] * uniformScale;\n\n  if (defined(result)) {\n    result.center = center;\n    result.radius = radius;\n    return result;\n  }\n\n  return new _culling.BoundingSphere(center, radius);\n}\n//# sourceMappingURL=bounding-volume.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","createSphere","sphere","transform","result","center","_core","Vector3","scale","getScale","scratchScale","radius","Math","uniformScale","max","undefined","_culling","BoundingSphere","_interopRequireDefault","Object","defineProperty","value","createBoundingVolume","boundingVolumeHeader","_loaderUtils","assert","box","xAxis","transformAsVector","slice","yAxis","zAxis","halfAxes","Matrix3","OrientedBoundingBox","region","_boundingVolumeHeader","_slicedToArray2","west","south","east","north","minHeight","maxHeight","northWest","_geospatial","Ellipsoid","WGS84","cartographicToCartesian","degrees","scratchNorthWest","southEast","scratchSouthEast","centerInCartesian","addVectors","multiplyScalar","subVectors","len","Matrix4","Error"]
}
