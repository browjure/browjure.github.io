{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$program_configuration.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/program-configuration.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$program_configuration\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _accessor = _interopRequireDefault(require(\"./accessor\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _attributeUtils = require(\"../webgl-utils/attribute-utils\");\n\nvar ProgramConfiguration = function () {\n  function ProgramConfiguration(program) {\n    (0, _classCallCheck2[\"default\"])(this, ProgramConfiguration);\n    this.id = program.id;\n    this.attributeInfos = [];\n    this.attributeInfosByName = {};\n    this.attributeInfosByLocation = [];\n    this.varyingInfos = [];\n    this.varyingInfosByName = {};\n    Object.seal(this);\n\n    this._readAttributesFromProgram(program);\n\n    this._readVaryingsFromProgram(program);\n  }\n\n  (0, _createClass2[\"default\"])(ProgramConfiguration, [{\n    key: \"getAttributeInfo\",\n    value: function getAttributeInfo(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return this.attributeInfosByLocation[location];\n      }\n\n      return this.attributeInfosByName[locationOrName] || null;\n    }\n  }, {\n    key: \"getAttributeLocation\",\n    value: function getAttributeLocation(locationOrName) {\n      var attributeInfo = this.getAttributeInfo(locationOrName);\n      return attributeInfo ? attributeInfo.location : -1;\n    }\n  }, {\n    key: \"getAttributeAccessor\",\n    value: function getAttributeAccessor(locationOrName) {\n      var attributeInfo = this.getAttributeInfo(locationOrName);\n      return attributeInfo ? attributeInfo.accessor : null;\n    }\n  }, {\n    key: \"getVaryingInfo\",\n    value: function getVaryingInfo(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return this.varyingInfos[location];\n      }\n\n      return this.varyingInfosByName[locationOrName] || null;\n    }\n  }, {\n    key: \"getVaryingIndex\",\n    value: function getVaryingIndex(locationOrName) {\n      var varying = this.getVaryingInfo();\n      return varying ? varying.location : -1;\n    }\n  }, {\n    key: \"getVaryingAccessor\",\n    value: function getVaryingAccessor(locationOrName) {\n      var varying = this.getVaryingInfo();\n      return varying ? varying.accessor : null;\n    }\n  }, {\n    key: \"_readAttributesFromProgram\",\n    value: function _readAttributesFromProgram(program) {\n      var gl = program.gl;\n      var count = gl.getProgramParameter(program.handle, 35721);\n\n      for (var index = 0; index < count; index++) {\n        var _gl$getActiveAttrib = gl.getActiveAttrib(program.handle, index),\n            name = _gl$getActiveAttrib.name,\n            type = _gl$getActiveAttrib.type,\n            size = _gl$getActiveAttrib.size;\n\n        var location = gl.getAttribLocation(program.handle, name);\n\n        if (location >= 0) {\n          this._addAttribute(location, name, type, size);\n        }\n      }\n\n      this.attributeInfos.sort(function (a, b) {\n        return a.location - b.location;\n      });\n    }\n  }, {\n    key: \"_readVaryingsFromProgram\",\n    value: function _readVaryingsFromProgram(program) {\n      var gl = program.gl;\n\n      if (!(0, _gltools.isWebGL2)(gl)) {\n        return;\n      }\n\n      var count = gl.getProgramParameter(program.handle, 35971);\n\n      for (var location = 0; location < count; location++) {\n        var _gl$getTransformFeedb = gl.getTransformFeedbackVarying(program.handle, location),\n            name = _gl$getTransformFeedb.name,\n            type = _gl$getTransformFeedb.type,\n            size = _gl$getTransformFeedb.size;\n\n        this._addVarying(location, name, type, size);\n      }\n\n      this.varyingInfos.sort(function (a, b) {\n        return a.location - b.location;\n      });\n    }\n  }, {\n    key: \"_addAttribute\",\n    value: function _addAttribute(location, name, compositeType, size) {\n      var _decomposeCompositeGL = (0, _attributeUtils.decomposeCompositeGLType)(compositeType),\n          type = _decomposeCompositeGL.type,\n          components = _decomposeCompositeGL.components;\n\n      var accessor = {\n        type: type,\n        size: size * components\n      };\n\n      this._inferProperties(location, name, accessor);\n\n      var attributeInfo = {\n        location: location,\n        name: name,\n        accessor: new _accessor[\"default\"](accessor)\n      };\n      this.attributeInfos.push(attributeInfo);\n      this.attributeInfosByLocation[location] = attributeInfo;\n      this.attributeInfosByName[attributeInfo.name] = attributeInfo;\n    }\n  }, {\n    key: \"_inferProperties\",\n    value: function _inferProperties(location, name, accessor) {\n      if (/instance/i.test(name)) {\n        accessor.divisor = 1;\n      }\n    }\n  }, {\n    key: \"_addVarying\",\n    value: function _addVarying(location, name, compositeType, size) {\n      var _decomposeCompositeGL2 = (0, _attributeUtils.decomposeCompositeGLType)(compositeType),\n          type = _decomposeCompositeGL2.type,\n          components = _decomposeCompositeGL2.components;\n\n      var accessor = new _accessor[\"default\"]({\n        type: type,\n        size: size * components\n      });\n      var varying = {\n        location: location,\n        name: name,\n        accessor: accessor\n      };\n      this.varyingInfos.push(varying);\n      this.varyingInfosByName[varying.name] = varying;\n    }\n  }]);\n  return ProgramConfiguration;\n}();\n\nexports[\"default\"] = ProgramConfiguration;\n//# sourceMappingURL=program-configuration.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_accessor","_gltools","_attributeUtils","ProgramConfiguration","program","id","attributeInfos","attributeInfosByName","attributeInfosByLocation","varyingInfos","varyingInfosByName","seal","_readAttributesFromProgram","_readVaryingsFromProgram","key","getAttributeInfo","locationOrName","location","Number","isFinite","getAttributeLocation","attributeInfo","getAttributeAccessor","accessor","getVaryingInfo","getVaryingIndex","varying","getVaryingAccessor","gl","count","getProgramParameter","handle","index","_gl$getActiveAttrib","getActiveAttrib","name","type","size","getAttribLocation","_addAttribute","sort","a","b","isWebGL2","_gl$getTransformFeedb","getTransformFeedbackVarying","_addVarying","compositeType","_decomposeCompositeGL","decomposeCompositeGLType","components","_inferProperties","push","test","divisor","_decomposeCompositeGL2"]
}
