shadow$provide.module$node_modules$$loaders_DOT_gl$tiles$dist$es5$tileset$helpers$frame_state=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.getFrameState=function(viewport,frameNumber){var cameraDirection=viewport.cameraDirection,cameraUp=viewport.cameraUp,height=viewport.height,metersPerUnit=viewport.distanceScales.metersPerUnit,viewportCenterCartesian=_geospatial.Ellipsoid.WGS84.cartographicToCartesian([viewport.longitude,viewport.latitude,
0],new _core.Vector3),enuToFixedTransform=_geospatial.Ellipsoid.WGS84.eastNorthUpToFixedFrame(viewportCenterCartesian),cameraPositionCartographic=viewport.unprojectPosition(viewport.cameraPosition);cameraPositionCartographic=_geospatial.Ellipsoid.WGS84.cartographicToCartesian(cameraPositionCartographic,new _core.Vector3);cameraDirection=(new _core.Vector3(enuToFixedTransform.transformAsVector((new _core.Vector3(cameraDirection)).scale(metersPerUnit)))).normalize();cameraUp=(new _core.Vector3(enuToFixedTransform.transformAsVector((new _core.Vector3(cameraUp)).scale(metersPerUnit)))).normalize();
metersPerUnit=viewport.getFrustumPlanes();enuToFixedTransform=0;for(var dir in metersPerUnit){var plane=metersPerUnit[dir],distanceToCenter=plane.normal.dot(viewport.center);scratchPosition.copy(plane.normal).scale(plane.distance-distanceToCenter).add(viewport.center);plane=viewport.unprojectPosition(scratchPosition);plane=_geospatial.Ellipsoid.WGS84.cartographicToCartesian(plane,new _core.Vector3);cullingVolume.planes[enuToFixedTransform++].fromPointNormal(plane,scratchVector.copy(viewportCenterCartesian).subtract(plane))}return{camera:{position:cameraPositionCartographic,
direction:cameraDirection,up:cameraUp},viewport,height,cullingVolume,frameNumber,sseDenominator:1.15}};var _core=require("module$node_modules$$math_DOT_gl$core$dist$es5$index");global=require("module$node_modules$$math_DOT_gl$culling$dist$es5$index");var _geospatial=require("module$node_modules$$math_DOT_gl$geospatial$dist$es5$index"),scratchVector=new _core.Vector3,scratchPosition=new _core.Vector3,cullingVolume=new global.CullingVolume([new global.Plane,new global.Plane,new global.Plane,new global.Plane,
new global.Plane,new global.Plane])}
//# sourceMappingURL=module$node_modules$$loaders_DOT_gl$tiles$dist$es5$tileset$helpers$frame_state.js.map
