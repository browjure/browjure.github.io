{
"version":3,
"file":"module$node_modules$react_map_gl$dist$es5$utils$transition_manager.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/react-map-gl/dist/es5/utils/transition-manager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$react_map_gl$dist$es5$utils$transition_manager\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cropEasingFunction = cropEasingFunction;\nexports[\"default\"] = exports.TRANSITION_EVENTS = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _assert = _interopRequireDefault(require(\"./assert\"));\n\nvar _transition = require(\"./transition\");\n\nvar _mapState = _interopRequireDefault(require(\"./map-state\"));\n\nvar noop = function noop() {};\n\nfunction cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\n\nvar TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nexports.TRANSITION_EVENTS = TRANSITION_EVENTS;\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new _transition.LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop,\n  onViewportChange: noop,\n  onStateChange: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, TransitionManager);\n    (0, _defineProperty2[\"default\"])(this, \"_animationFrame\", null);\n    (0, _defineProperty2[\"default\"])(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  (0, _createClass2[\"default\"])(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      (0, _assert[\"default\"])(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n\n      this._onTransitionFrame();\n\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new _mapState[\"default\"](Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n  return TransitionManager;\n}();\n\nexports[\"default\"] = TransitionManager;\n(0, _defineProperty2[\"default\"])(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n//# sourceMappingURL=transition-manager.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","cropEasingFunction","easing","x0","y0","t","_interopRequireDefault","Object","defineProperty","value","TRANSITION_EVENTS","_classCallCheck2","_createClass2","_defineProperty2","_assert","_transition","_mapState","noop","BREAK","SNAP_TO_END","IGNORE","UPDATE","DEFAULT_PROPS","transitionDuration","transitionEasing","transitionInterpolator","LinearInterpolator","transitionInterruption","onTransitionStart","onTransitionInterrupt","onTransitionEnd","onViewportChange","onStateChange","TransitionManager","_this","opts","arguments","length","undefined","_animationFrame","requestAnimationFrame","_onTransitionFrame","_updateViewport","props","time","getTime","Date","now","key","getViewportInTransition","state","propsInTransition","processViewportChange","nextProps","currentProps","_shouldIgnoreViewportChange","_isTransitionEnabled","startProps","assign","endProps","_isTransitionInProgress","interruption","currentTime","startTime","duration","_triggerTransition","_endTransition","_isUpdateDueToCurrentTransition","interpolator","arePropsEqual","cancelAnimationFrame","getDuration","initialProps","initializeProps","interactionState","inTransition","isZooming","zoom","isPanning","longitude","latitude","isRotating","bearing","pitch","start","end","animation","_this$state","shouldEnd","viewport","interpolateProps","mapState","getViewportProps"]
}
