{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$layers$dist$es5$icon_layer$icon_layer.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/layers/dist/es5/icon-layer/icon-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$layers$dist$es5$icon_layer$icon_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _iconLayerVertex = _interopRequireDefault(require(\"./icon-layer-vertex.glsl\"));\n\nvar _iconLayerFragment = _interopRequireDefault(require(\"./icon-layer-fragment.glsl\"));\n\nvar _iconManager = _interopRequireDefault(require(\"./icon-manager\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar defaultProps = {\n  iconAtlas: {\n    type: 'image',\n    value: null,\n    async: true\n  },\n  iconMapping: {\n    type: 'object',\n    value: {},\n    async: true\n  },\n  sizeScale: {\n    type: 'number',\n    value: 1,\n    min: 0\n  },\n  billboard: true,\n  sizeUnits: 'pixels',\n  sizeMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  sizeMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  alphaCutoff: {\n    type: 'number',\n    value: 0.05,\n    min: 0,\n    max: 1\n  },\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getIcon: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.icon;\n    }\n  },\n  getColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getSize: {\n    type: 'accessor',\n    value: 1\n  },\n  getAngle: {\n    type: 'accessor',\n    value: 0\n  },\n  getPixelOffset: {\n    type: 'accessor',\n    value: [0, 0]\n  },\n  onIconError: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  }\n};\n\nvar IconLayer = function (_Layer) {\n  (0, _inherits2[\"default\"])(IconLayer, _Layer);\n\n  var _super = _createSuper(IconLayer);\n\n  function IconLayer() {\n    (0, _classCallCheck2[\"default\"])(this, IconLayer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(IconLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(IconLayer.prototype), \"getShaders\", this).call(this, {\n        vs: _iconLayerVertex[\"default\"],\n        fs: _iconLayerFragment[\"default\"],\n        modules: [_core.project32, _core.picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.state = {\n        iconManager: new _iconManager[\"default\"](this.context.gl, {\n          onUpdate: this._onUpdate.bind(this),\n          onError: this._onError.bind(this)\n        })\n      };\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        instancePositions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: true,\n          accessor: 'getPosition'\n        },\n        instanceSizes: {\n          size: 1,\n          transition: true,\n          accessor: 'getSize',\n          defaultValue: 1\n        },\n        instanceOffsets: {\n          size: 2,\n          accessor: 'getIcon',\n          transform: this.getInstanceOffset\n        },\n        instanceIconFrames: {\n          size: 4,\n          accessor: 'getIcon',\n          transform: this.getInstanceIconFrame\n        },\n        instanceColorModes: {\n          size: 1,\n          type: 5121,\n          accessor: 'getIcon',\n          transform: this.getInstanceColorMode\n        },\n        instanceColors: {\n          size: this.props.colorFormat.length,\n          type: 5121,\n          normalized: true,\n          transition: true,\n          accessor: 'getColor',\n          defaultValue: DEFAULT_COLOR\n        },\n        instanceAngles: {\n          size: 1,\n          transition: true,\n          accessor: 'getAngle'\n        },\n        instancePixelOffset: {\n          size: 2,\n          transition: true,\n          accessor: 'getPixelOffset'\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var oldProps = _ref.oldProps,\n          props = _ref.props,\n          changeFlags = _ref.changeFlags;\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(IconLayer.prototype), \"updateState\", this).call(this, {\n        props: props,\n        oldProps: oldProps,\n        changeFlags: changeFlags\n      });\n      var attributeManager = this.getAttributeManager();\n      var iconAtlas = props.iconAtlas,\n          iconMapping = props.iconMapping,\n          data = props.data,\n          getIcon = props.getIcon;\n      var iconManager = this.state.iconManager;\n      iconManager.setProps({\n        loadOptions: props.loadOptions\n      });\n      var iconMappingChanged = false;\n      var prePacked = iconAtlas || this.internalState.isAsyncPropLoading('iconAtlas');\n\n      if (prePacked) {\n        if (oldProps.iconAtlas !== props.iconAtlas) {\n          iconManager.setProps({\n            iconAtlas: iconAtlas,\n            autoPacking: false\n          });\n        }\n\n        if (oldProps.iconMapping !== props.iconMapping) {\n          iconManager.setProps({\n            iconMapping: iconMapping\n          });\n          iconMappingChanged = true;\n        }\n      } else {\n        iconManager.setProps({\n          autoPacking: true\n        });\n      }\n\n      if (changeFlags.dataChanged || changeFlags.updateTriggersChanged && (changeFlags.updateTriggersChanged.all || changeFlags.updateTriggersChanged.getIcon)) {\n        iconManager.setProps({\n          data: data,\n          getIcon: getIcon\n        });\n      }\n\n      if (iconMappingChanged) {\n        attributeManager.invalidate('instanceOffsets');\n        attributeManager.invalidate('instanceIconFrames');\n        attributeManager.invalidate('instanceColorModes');\n      }\n\n      if (changeFlags.extensionsChanged) {\n        var gl = this.context.gl;\n\n        if (this.state.model) {\n          this.state.model[\"delete\"]();\n        }\n\n        this.setState({\n          model: this._getModel(gl)\n        });\n        attributeManager.invalidateAll();\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(IconLayer.prototype), \"finalizeState\", this).call(this);\n      this.state.iconManager.finalize();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var _this$props = this.props,\n          sizeScale = _this$props.sizeScale,\n          sizeMinPixels = _this$props.sizeMinPixels,\n          sizeMaxPixels = _this$props.sizeMaxPixels,\n          sizeUnits = _this$props.sizeUnits,\n          billboard = _this$props.billboard,\n          alphaCutoff = _this$props.alphaCutoff;\n      var iconManager = this.state.iconManager;\n      var viewport = this.context.viewport;\n      var iconsTexture = iconManager.getTexture();\n\n      if (iconsTexture) {\n        this.state.model.setUniforms(Object.assign({}, uniforms, {\n          iconsTexture: iconsTexture,\n          iconsTextureDim: [iconsTexture.width, iconsTexture.height],\n          sizeScale: sizeScale * (sizeUnits === 'pixels' ? viewport.metersPerPixel : 1),\n          sizeMinPixels: sizeMinPixels,\n          sizeMaxPixels: sizeMaxPixels,\n          billboard: billboard,\n          alphaCutoff: alphaCutoff\n        })).draw();\n      }\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      var positions = [-1, -1, -1, 1, 1, 1, 1, -1];\n      return new _core2.Model(gl, Object.assign({}, this.getShaders(), {\n        id: this.props.id,\n        geometry: new _core2.Geometry({\n          drawMode: 6,\n          attributes: {\n            positions: {\n              size: 2,\n              value: new Float32Array(positions)\n            }\n          }\n        }),\n        isInstanced: true\n      }));\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      this.setNeedsRedraw();\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(evt) {\n      var onIconError = this.getCurrentLayer().props.onIconError;\n\n      if (onIconError) {\n        onIconError(evt);\n      } else {\n        _core.log.error(evt.error)();\n      }\n    }\n  }, {\n    key: \"getInstanceOffset\",\n    value: function getInstanceOffset(icon) {\n      var rect = this.state.iconManager.getIconMapping(icon);\n      return [rect.width / 2 - rect.anchorX || 0, rect.height / 2 - rect.anchorY || 0];\n    }\n  }, {\n    key: \"getInstanceColorMode\",\n    value: function getInstanceColorMode(icon) {\n      var mapping = this.state.iconManager.getIconMapping(icon);\n      return mapping.mask ? 1 : 0;\n    }\n  }, {\n    key: \"getInstanceIconFrame\",\n    value: function getInstanceIconFrame(icon) {\n      var rect = this.state.iconManager.getIconMapping(icon);\n      return [rect.x || 0, rect.y || 0, rect.width || 0, rect.height || 0];\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(IconLayer.prototype), \"isLoaded\", this) && this.state.iconManager.isLoaded;\n    }\n  }]);\n  return IconLayer;\n}(_core.Layer);\n\nexports[\"default\"] = IconLayer;\nIconLayer.layerName = 'IconLayer';\nIconLayer.defaultProps = defaultProps;\n//# sourceMappingURL=icon-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_get2","_inherits2","_core","_core2","_iconLayerVertex","_iconLayerFragment","_iconManager","DEFAULT_COLOR","defaultProps","iconAtlas","type","async","iconMapping","sizeScale","min","billboard","sizeUnits","sizeMinPixels","sizeMaxPixels","Number","MAX_SAFE_INTEGER","alphaCutoff","max","getPosition","x","position","getIcon","icon","getColor","getSize","getAngle","getPixelOffset","onIconError","compare","optional","IconLayer","_Layer","_super","key","getShaders","vs","fs","modules","project32","picking","initializeState","state","iconManager","context","gl","onUpdate","_onUpdate","bind","onError","_onError","attributeManager","getAttributeManager","addInstanced","instancePositions","size","fp64","use64bitPositions","transition","accessor","instanceSizes","defaultValue","instanceOffsets","transform","getInstanceOffset","instanceIconFrames","getInstanceIconFrame","instanceColorModes","getInstanceColorMode","instanceColors","props","colorFormat","length","normalized","instanceAngles","instancePixelOffset","updateState","_ref","oldProps","changeFlags","data","setProps","loadOptions","iconMappingChanged","internalState","isAsyncPropLoading","autoPacking","dataChanged","updateTriggersChanged","all","invalidate","extensionsChanged","model","setState","_getModel","invalidateAll","finalizeState","finalize","draw","_ref2","uniforms","_this$props","viewport","iconsTexture","getTexture","setUniforms","assign","iconsTextureDim","width","height","metersPerPixel","Model","id","geometry","Geometry","drawMode","attributes","positions","Float32Array","isInstanced","setNeedsRedraw","evt","getCurrentLayer","log","error","rect","getIconMapping","anchorX","anchorY","mapping","mask","y","get","isLoaded","Layer","layerName"]
}
