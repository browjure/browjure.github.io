shadow$provide.module$node_modules$$loaders_DOT_gl$terrain$dist$es5$lib$decode_quantized_mesh=function(global,require,module,exports){function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;
},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,
minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function decodeZigZag(value){return value>>
1^-(value&1)}function decodeIndex(buffer,position,indicesCount,bytesPerIndex){var encoded=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!0;var indices=2===bytesPerIndex?new Uint16Array(buffer,position,indicesCount):new Uint32Array(buffer,position,indicesCount);if(!encoded)return indices;for(var i=encoded=0;i<indices.length;++i){var code=indices[i];indices[i]=encoded-code;0===code&&++encoded}return indices}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");
Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=function(data,userOptions){var options=Object.assign({},DEFAULT_OPTIONS,userOptions);data=new DataView(data);var position=0;userOptions={};var _iterator=_createForOfIteratorHelper(QUANTIZED_MESH_HEADER),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=(0,_slicedToArray2["default"])(_step.value,2),bytesCount=_step$value[1];userOptions[_step$value[0]]=(8===bytesCount?data.getFloat64:data.getFloat32).call(data,
position,!0);position+=bytesCount}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(options.maxDecodingStep<DECODING_STEPS.vertices)return{header:userOptions};_step$value=position;bytesCount=data.getUint32(_step$value,!0);_step=new Uint16Array(3*bytesCount);_step$value+=Uint32Array.BYTES_PER_ELEMENT;position=Uint16Array.BYTES_PER_ELEMENT;_iterator=bytesCount*position;var uArrayStartPosition=_step$value;var JSCompiler_object_inline_edgeIndicesEndPosition_4515=uArrayStartPosition+_iterator;for(var heightArrayStartPosition=
JSCompiler_object_inline_edgeIndicesEndPosition_4515+_iterator,u=0,v=0,height=0,i=0;i<bytesCount;i++)u+=decodeZigZag(data.getUint16(uArrayStartPosition+position*i,!0)),v+=decodeZigZag(data.getUint16(JSCompiler_object_inline_edgeIndicesEndPosition_4515+position*i,!0)),height+=decodeZigZag(data.getUint16(heightArrayStartPosition+position*i,!0)),_step[i]=u,_step[i+bytesCount]=v,_step[i+2*bytesCount]=height;if(options.maxDecodingStep<DECODING_STEPS.triangleIndices)return{header:userOptions,vertexData:_step};
bytesCount=_step$value+3*_iterator;position=65536<_step.length/3?Uint32Array.BYTES_PER_ELEMENT:Uint16Array.BYTES_PER_ELEMENT;0!==bytesCount%position&&(bytesCount+=position-bytesCount%position);_step$value=data.getUint32(bytesCount,!0);bytesCount+=Uint32Array.BYTES_PER_ELEMENT;_iterator=3*_step$value;_step$value=decodeIndex(data.buffer,bytesCount,_iterator,position);if(options.maxDecodingStep<DECODING_STEPS.edgeIndices)return{header:userOptions,vertexData:_step,triangleIndices:_step$value};JSCompiler_object_inline_edgeIndicesEndPosition_4515=
bytesCount+_iterator*position;heightArrayStartPosition=65536<_step.length/3?Uint32Array.BYTES_PER_ELEMENT:Uint16Array.BYTES_PER_ELEMENT;position=data.getUint32(JSCompiler_object_inline_edgeIndicesEndPosition_4515,!0);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=Uint32Array.BYTES_PER_ELEMENT;bytesCount=decodeIndex(data.buffer,JSCompiler_object_inline_edgeIndicesEndPosition_4515,position,heightArrayStartPosition,!1);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=position*heightArrayStartPosition;
_iterator=data.getUint32(JSCompiler_object_inline_edgeIndicesEndPosition_4515,!0);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=Uint32Array.BYTES_PER_ELEMENT;position=decodeIndex(data.buffer,JSCompiler_object_inline_edgeIndicesEndPosition_4515,_iterator,heightArrayStartPosition,!1);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=_iterator*heightArrayStartPosition;uArrayStartPosition=data.getUint32(JSCompiler_object_inline_edgeIndicesEndPosition_4515,!0);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=
Uint32Array.BYTES_PER_ELEMENT;_iterator=decodeIndex(data.buffer,JSCompiler_object_inline_edgeIndicesEndPosition_4515,uArrayStartPosition,heightArrayStartPosition,!1);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=uArrayStartPosition*heightArrayStartPosition;u=data.getUint32(JSCompiler_object_inline_edgeIndicesEndPosition_4515,!0);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=Uint32Array.BYTES_PER_ELEMENT;uArrayStartPosition=decodeIndex(data.buffer,JSCompiler_object_inline_edgeIndicesEndPosition_4515,
u,heightArrayStartPosition,!1);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=u*heightArrayStartPosition;if(options.maxDecodingStep<DECODING_STEPS.extensions)return{header:userOptions,vertexData:_step,triangleIndices:_step$value,westIndices:bytesCount,northIndices:uArrayStartPosition,eastIndices:_iterator,southIndices:position};options={};if(!(data.byteLength<=JSCompiler_object_inline_edgeIndicesEndPosition_4515))for(;JSCompiler_object_inline_edgeIndicesEndPosition_4515<data.byteLength;){heightArrayStartPosition=
data.getUint8(JSCompiler_object_inline_edgeIndicesEndPosition_4515,!0);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=Uint8Array.BYTES_PER_ELEMENT;u=data.getUint32(JSCompiler_object_inline_edgeIndicesEndPosition_4515,!0);JSCompiler_object_inline_edgeIndicesEndPosition_4515+=Uint32Array.BYTES_PER_ELEMENT;v=new DataView(data.buffer,JSCompiler_object_inline_edgeIndicesEndPosition_4515,u);switch(heightArrayStartPosition){case 1:options.vertexNormals=new Uint8Array(v.buffer,v.byteOffset,v.byteLength);
break;case 2:options.waterMask=v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength)}JSCompiler_object_inline_edgeIndicesEndPosition_4515+=u}return{header:userOptions,vertexData:_step,triangleIndices:_step$value,westIndices:bytesCount,northIndices:uArrayStartPosition,eastIndices:_iterator,southIndices:position,extensions:options}};exports.DECODING_STEPS=void 0;var _slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),QUANTIZED_MESH_HEADER=new Map([["centerX",
Float64Array.BYTES_PER_ELEMENT],["centerY",Float64Array.BYTES_PER_ELEMENT],["centerZ",Float64Array.BYTES_PER_ELEMENT],["minHeight",Float32Array.BYTES_PER_ELEMENT],["maxHeight",Float32Array.BYTES_PER_ELEMENT],["boundingSphereCenterX",Float64Array.BYTES_PER_ELEMENT],["boundingSphereCenterY",Float64Array.BYTES_PER_ELEMENT],["boundingSphereCenterZ",Float64Array.BYTES_PER_ELEMENT],["boundingSphereRadius",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointX",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointY",
Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointZ",Float64Array.BYTES_PER_ELEMENT]]),DECODING_STEPS={header:0,vertices:1,triangleIndices:2,edgeIndices:3,extensions:4};exports.DECODING_STEPS=DECODING_STEPS;var DEFAULT_OPTIONS={maxDecodingStep:DECODING_STEPS.extensions}}
//# sourceMappingURL=module$node_modules$$loaders_DOT_gl$terrain$dist$es5$lib$decode_quantized_mesh.js.map
