{
"version":3,
"file":"module$node_modules$$math_DOT_gl$geospatial$dist$es5$ellipsoid$helpers$ellipsoid_transform.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@math_DOT_gl/geospatial/dist/es5/ellipsoid/helpers/ellipsoid-transform.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$math_DOT_gl$geospatial$dist$es5$ellipsoid$helpers$ellipsoid_transform\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = localFrameToFixedFrame;\n\nvar _core = require(\"@math.gl/core\");\n\nvar EPSILON14 = 1e-14;\nvar scratchOrigin = new _core.Vector3();\nvar VECTOR_PRODUCT_LOCAL_FRAME = {\n  up: {\n    south: 'east',\n    north: 'west',\n    west: 'south',\n    east: 'north'\n  },\n  down: {\n    south: 'west',\n    north: 'east',\n    west: 'north',\n    east: 'south'\n  },\n  south: {\n    up: 'west',\n    down: 'east',\n    west: 'down',\n    east: 'up'\n  },\n  north: {\n    up: 'east',\n    down: 'west',\n    west: 'up',\n    east: 'down'\n  },\n  west: {\n    up: 'north',\n    down: 'south',\n    north: 'down',\n    south: 'up'\n  },\n  east: {\n    up: 'south',\n    down: 'north',\n    north: 'up',\n    south: 'down'\n  }\n};\nvar degeneratePositionLocalFrame = {\n  north: [-1, 0, 0],\n  east: [0, 1, 0],\n  up: [0, 0, 1],\n  south: [1, 0, 0],\n  west: [0, -1, 0],\n  down: [0, 0, -1]\n};\nvar scratchAxisVectors = {\n  east: new _core.Vector3(),\n  north: new _core.Vector3(),\n  up: new _core.Vector3(),\n  west: new _core.Vector3(),\n  south: new _core.Vector3(),\n  down: new _core.Vector3()\n};\nvar scratchVector1 = new _core.Vector3();\nvar scratchVector2 = new _core.Vector3();\nvar scratchVector3 = new _core.Vector3();\n\nfunction localFrameToFixedFrame(ellipsoid, firstAxis, secondAxis, thirdAxis, cartesianOrigin, result) {\n  var thirdAxisInferred = VECTOR_PRODUCT_LOCAL_FRAME[firstAxis] && VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis];\n  (0, _core.assert)(thirdAxisInferred && (!thirdAxis || thirdAxis === thirdAxisInferred));\n  var firstAxisVector;\n  var secondAxisVector;\n  var thirdAxisVector;\n  var origin = scratchOrigin.copy(cartesianOrigin);\n  var atPole = (0, _core.equals)(origin.x, 0.0, EPSILON14) && (0, _core.equals)(origin.y, 0.0, EPSILON14);\n\n  if (atPole) {\n    var sign = Math.sign(origin.z);\n    firstAxisVector = scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]);\n\n    if (firstAxis !== 'east' && firstAxis !== 'west') {\n      firstAxisVector.scale(sign);\n    }\n\n    secondAxisVector = scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]);\n\n    if (secondAxis !== 'east' && secondAxis !== 'west') {\n      secondAxisVector.scale(sign);\n    }\n\n    thirdAxisVector = scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]);\n\n    if (thirdAxis !== 'east' && thirdAxis !== 'west') {\n      thirdAxisVector.scale(sign);\n    }\n  } else {\n    var up = scratchAxisVectors.up,\n        east = scratchAxisVectors.east,\n        north = scratchAxisVectors.north;\n    east.set(-origin.y, origin.x, 0.0).normalize();\n    ellipsoid.geodeticSurfaceNormal(origin, up);\n    north.copy(up).cross(east);\n    var down = scratchAxisVectors.down,\n        west = scratchAxisVectors.west,\n        south = scratchAxisVectors.south;\n    down.copy(up).scale(-1);\n    west.copy(east).scale(-1);\n    south.copy(north).scale(-1);\n    firstAxisVector = scratchAxisVectors[firstAxis];\n    secondAxisVector = scratchAxisVectors[secondAxis];\n    thirdAxisVector = scratchAxisVectors[thirdAxis];\n  }\n\n  result[0] = firstAxisVector.x;\n  result[1] = firstAxisVector.y;\n  result[2] = firstAxisVector.z;\n  result[3] = 0.0;\n  result[4] = secondAxisVector.x;\n  result[5] = secondAxisVector.y;\n  result[6] = secondAxisVector.z;\n  result[7] = 0.0;\n  result[8] = thirdAxisVector.x;\n  result[9] = thirdAxisVector.y;\n  result[10] = thirdAxisVector.z;\n  result[11] = 0.0;\n  result[12] = origin.x;\n  result[13] = origin.y;\n  result[14] = origin.z;\n  result[15] = 1.0;\n  return result;\n}\n//# sourceMappingURL=ellipsoid-transform.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","localFrameToFixedFrame","ellipsoid","firstAxis","secondAxis","thirdAxis","cartesianOrigin","result","thirdAxisInferred","VECTOR_PRODUCT_LOCAL_FRAME","_core","assert","origin","scratchOrigin","copy","equals","x","EPSILON14","y","sign","Math","z","firstAxisVector","scratchVector1","fromArray","degeneratePositionLocalFrame","scale","secondAxisVector","scratchVector2","thirdAxisVector","scratchVector3","up","scratchAxisVectors","east","north","set","normalize","geodeticSurfaceNormal","cross","west","south","down","Vector3"]
}
