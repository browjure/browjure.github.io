shadow$provide.module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$uniform_buffer_layout=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=
global(require("module$node_modules$$babel$runtime$helpers$createClass")),_attributeUtils=require("module$node_modules$$luma_DOT_gl$webgl$dist$es5$webgl_utils$attribute_utils"),_utils=require("module$node_modules$$luma_DOT_gl$webgl$dist$es5$utils$index");require=function(){function UniformBufferLayout(layout){var _this$typedArray;(0,_classCallCheck2["default"])(this,UniformBufferLayout);this.layout={};this.size=0;for(var key in layout)this._addUniform(key,layout[key]);this.size+=(4-this.size%4)%4;
layout=new Float32Array(this.size);this.typedArray=(_this$typedArray={},(0,_defineProperty2["default"])(_this$typedArray,5126,layout),(0,_defineProperty2["default"])(_this$typedArray,5124,new Int32Array(layout.buffer)),(0,_defineProperty2["default"])(_this$typedArray,5125,new Uint32Array(layout.buffer)),_this$typedArray)}(0,_createClass2["default"])(UniformBufferLayout,[{key:"getBytes",value:function(){return 4*this.size}},{key:"getData",value:function(){return this.typedArray[5126]}},{key:"getSubData",
value:function(index){if(void 0===index){index=this.data;var offset=0}else offset=this.offsets[index],index=this.data.subarray(offset,offset+this.sizes[index]),offset*=4;return{data:index,offset}}},{key:"setUniforms",value:function(values){for(var key in values)this._setValue(key,values[key]);return this}},{key:"_setValue",value:function(key,value){key=this.layout[key];(0,_utils.assert)(key,"UniformLayoutStd140 illegal argument");var typedArray=this.typedArray[key.type];1===key.size?typedArray[key.offset]=
value:typedArray.set(value,key.offset)}},{key:"_addUniform",value:function(key,uniformType){var typeAndComponents=(0,_attributeUtils.decomposeCompositeGLType)(uniformType);(0,_utils.assert)(typeAndComponents,"UniformBufferLayout illegal argument");uniformType=typeAndComponents.type;typeAndComponents=typeAndComponents.components;var offset=this.size=this._alignTo(this.size,typeAndComponents);this.size+=typeAndComponents;this.layout[key]={type:uniformType,size:typeAndComponents,offset}}},{key:"_alignTo",
value:function(size,count){switch(count){case 1:return size;case 2:return size+size%2;default:return size+(4-size%4)%4}}}]);return UniformBufferLayout}();exports["default"]=require}
//# sourceMappingURL=module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$uniform_buffer_layout.js.map
