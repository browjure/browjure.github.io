{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$s2_layer$s2_geometry.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,CAAe,yEAAf,CAA8F,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CA6BtIC,QAASA,aAAY,CAACC,EAAD,CAAK,CACxB,MAAU,EAAV,EAAIA,EAAJ,CACS,CADT,CACa,CADb,EACoB,CADpB,CACwBA,EADxB,CAC6BA,EAD7B,CACkC,CADlC,EAIO,CAJP,CAIW,CAJX,EAIkB,CAJlB,CAIsB,CAJtB,EAI2B,CAJ3B,CAI+BA,EAJ/B,GAIsC,CAJtC,CAI0CA,EAJ1C,EADwB,CA1BtBC,MAAAA,CAAyBL,OAAA,CAAQ,kEAAR,CAE7BM,OAAA,CAAOC,cAAP,CAAsBL,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CM,MAAO,CAAA,CADoC,CAA7C,CAGAN,QAAA,CAAQO,MAAR,CAgBAA,QAAe,CAACC,EAAD,CAAKC,KAAL,CAAYC,OAAZ,CAAqB,CAC9BC,KAAAA,CAAU,CAAVA,EAAeF,KACnB,OAAO,EAAED,EAAA,CAAG,CAAH,CAAF,CAAUE,OAAA,CAAQ,CAAR,CAAV,EAAwBC,KAAxB,EAAkCH,EAAA,CAAG,CAAH,CAAlC,CAA0CE,OAAA,CAAQ,CAAR,CAA1C,EAAwDC,KAAxD,CAF2B,CAfpCX,QAAA,CAAQY,MAAR,CA4BAA,QAAe,CAACV,EAAD,CAAK,CAClB,MAAO,CAACD,YAAA,CAAaC,EAAA,CAAG,CAAH,CAAb,CAAD;AAAsBD,YAAA,CAAaC,EAAA,CAAG,CAAH,CAAb,CAAtB,CADW,CA3BpBF,QAAA,CAAQa,WAAR,CA+BAA,QAAoB,CAACC,IAAD,CAAOC,IAAP,CAAa,CAAA,IAC3BC,MAAQ,CAAC,CAAA,CAAGC,eAAA,CAAgB,SAAhB,CAAJ,EAAgCF,IAAhC,CAAsC,CAAtC,CACRG,KAAAA,CAAIF,KAAA,CAAM,CAAN,CACJG,MAAAA,CAAIH,KAAA,CAAM,CAAN,CAER,QAAQF,IAAR,EACE,KAAK,CAAL,CACE,MAAO,CAAC,CAAD,CAAII,IAAJ,CAAOC,KAAP,CAET,MAAK,CAAL,CACE,MAAO,CAAC,CAACD,IAAF,CAAK,CAAL,CAAQC,KAAR,CAET,MAAK,CAAL,CACE,MAAO,CAAC,CAACD,IAAF,CAAK,CAACC,KAAN,CAAS,CAAT,CAET,MAAK,CAAL,CACE,MAAO,CAAC,EAAD,CAAK,CAACA,KAAN,CAAS,CAACD,IAAV,CAET,MAAK,CAAL,CACE,MAAO,CAACC,KAAD,CAAI,EAAJ,CAAQ,CAACD,IAAT,CAET,MAAK,CAAL,CACE,MAAO,CAACC,KAAD,CAAID,IAAJ,CAAO,EAAP,CAET,SACE,KAAUE,MAAJ,CAAU,cAAV,CAAN,CApBJ,CAL+B,CA9BjCpB,QAAA,CAAQqB,WAAR,CA2DAA,QAAoB,CAACC,KAAD,CAAQ,CACtBC,KAAAA,CAAQ,CAAC,CAAA,CAAGN,eAAA,CAAgB,SAAhB,CAAJ,EAAgCK,KAAhC,CAAuC,CAAvC,CADc,KAEtBE,EAAID,KAAA,CAAM,CAAN,CAFkB,CAGtBE,EAAIF,KAAA,CAAM,CAAN,CAKR,OAAO,CADGG,IAAAC,CAAKC,KAALD,CAAWF,CAAXE,CAAcH,CAAdG,CACH,CAAOE,gBAAP;AAFGH,IAAAI,CAAKF,KAALE,CAFFP,KAAAQ,CAAM,CAANA,CAEED,CAAcJ,IAAA,CAAKM,IAAL,CAAUR,CAAV,CAAcA,CAAd,CAAkBC,CAAlB,CAAsBA,CAAtB,CAAdK,CAEH,CAA+BD,gBAA/B,CARmB,CA1D5B7B,QAAA,CAAQiC,gBAAR,CAqEAA,QAAyB,CAACC,GAAD,CAAM,CAG7B,IAFA,IAAIC,IAAMC,KAAA,CAAM,SAAN,CAAA,CAAiBC,UAAjB,CAA4BH,GAA5B,CAAiC,CAAA,CAAjC,CAAuC,EAAvC,CAAA,CAA2CI,QAA3C,CAAoD,CAApD,CAEV,CAAOH,GAAP,CAAWI,MAAX,CAAoBC,SAApB,CAAgCC,QAAhC,CAAA,CACEN,GAAA,CAAM,GAAN,CAAYA,GAGd,KAAIO,SAAWP,GAAA,CAAIQ,WAAJ,CAAgB,GAAhB,CACXC,IAAAA,CAAQT,GAAA,CAAIU,SAAJ,CAAc,CAAd,CAAiB,CAAjB,CACRC,SAAAA,CAAOX,GAAA,CAAIU,SAAJ,CAAc,CAAd,CAAiBH,QAAjB,CACPK,IAAAA,CAASD,QAATC,CAAcR,MAAdQ,CAAuB,CAEvBC,IAAAA,CAAQZ,KAAA,CAAM,SAAN,CAAA,CAAiBC,UAAjB,CAA4BO,GAA5B,CAAmC,CAAA,CAAnC,CAAyC,CAAzC,CAAA,CAA4CN,QAA5C,CAAqD,EAArD,CAIZ,KAFIW,QAEJ,CAFWb,KAAA,CAAM,SAAN,CAAA,CAAiBC,UAAjB,CAA4BS,QAA5B,CAAkC,CAAA,CAAlC,CAAwC,CAAxC,CAAA,CAA2CR,QAA3C,CAAoD,CAApD,CAEX,CAAOW,QAAP,CAAYV,MAAZ,CAAqBQ,GAArB,CAAA,CACEE,QAAA,CAAO,GAAP,CAAaA,QAGf,OAAOC,EAAA,CAAGA,MAAH,CAAUF,GAAV;AAAiB,GAAjB,CAAA,CAAsBE,MAAtB,CAA6BD,QAA7B,CApBsB,CApE/BjD,QAAA,CAAQmD,kBAAR,CAwGAA,QAA2B,CAACC,cAAD,CAAiB,CAC1C,IAAIC,MAAQD,cAAA,CAAeE,KAAf,CAAqB,GAArB,CACRxC,eAAAA,CAAOyC,QAAA,CAASF,KAAA,CAAM,CAAN,CAAT,CAAmB,EAAnB,CACX,KAAIG,SAAWH,KAAA,CAAM,CAAN,CAAf,CACII,SAAWD,QAAXC,CAAoBlB,MACpBmB,MAAAA,CAAQ,CAAC,CAAD,CAAI,CAAJ,CAGZ,KAFA,IAAIC,KAAJ,CAESC,EAAIH,QAAJG,CAAe,CAAxB,CAAgC,CAAhC,EAA2BA,CAA3B,CAAmCA,CAAA,EAAnC,CAAwC,CACtCD,KAAA,CAAQF,QAAR,CAAmBG,CACnB,KAAIC,IAAML,QAAA,CAASI,CAAT,CAAV,CACIE,GAAK,CADT,CAEIC,GAAK,CAEG,IAAZ,GAAIF,GAAJ,CACEE,EADF,CACO,CADP,CAEmB,GAAZ,GAAIF,GAAJ,CAELE,EAFK,CACLD,EADK,CACA,CADA,CAGY,GAHZ,GAGID,GAHJ,GAILC,EAJK,CAIA,CAJA,CAQeE,KAAAA,EADlBA,GACkBA,CADZtC,IAAA,CAAKuC,GAAL,CAAS,CAAT,CAAYN,KAAZ,CAAoB,CAApB,CACYK,CAAKN,MAAAA,KApClB,EAAX,GAoCwCK,EApCxC,GACa,CAOX,GA4BkCD,EA5BlC,GANEJ,KAAA,CAAM,CAAN,CACA,CADWQ,CACX,CADe,CACf,CADmBR,KAAA,CAAM,CAAN,CACnB,CAAAA,KAAA,CAAM,CAAN,CAAA,CAAWQ,CAAX,CAAe,CAAf,CAAmBR,KAAA,CAAM,CAAN,CAKrB,EAFIlC,CAEJ,CAFQkC,KAAA,CAAM,CAAN,CAER,CADAA,KAAA,CAAM,CAAN,CACA,CADWA,KAAA,CAAM,CAAN,CACX,CAAAA,KAAA,CAAM,CAAN,CAAA,CAAWlC,CARb,CAqCEkC,MAAA,CAAM,CAAN,CAAA,EAAYM,GAAZ;AAAkBF,EAClBJ,MAAA,CAAM,CAAN,CAAA,EAAYM,GAAZ,CAAkBD,EAlBoB,CAqBvB,CAAjB,GAAIjD,cAAJ,CAAW,CAAX,GACMqD,QAEJ,CAFQT,KAAA,CAAM,CAAN,CAER,CADAA,KAAA,CAAM,CAAN,CACA,CADWA,KAAA,CAAM,CAAN,CACX,CAAAA,KAAA,CAAM,CAAN,CAAA,CAAWS,QAHb,CAMA,OAAO,CACLrD,KAAMA,cADD,CAELN,GAAIkD,KAFC,CAGEC,KAHF,CAnCmC,CAtG5C,KAAI1C,gBAAkBd,MAAA,CAAuBL,OAAA,CAAQ,0DAAR,CAAvB,CAAtB,CAEIsC,MAAQjC,MAAA,CAAuBL,OAAA,CAAQ,oCAAR,CAAvB,CAFZ,CAII0C,UAAY,CAJhB,CAMIC,SAAW,EANf,CAOIZ,iBAAmB,GAAnBA,CAAyBH,IAAzBG,CAA8BuC,EAtBoG;",
"sources":["node_modules/@deck_DOT_gl/geo-layers/dist/es5/s2-layer/s2-geometry.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$s2_layer$s2_geometry\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IJToST = IJToST;\nexports.STToUV = STToUV;\nexports.FaceUVToXYZ = FaceUVToXYZ;\nexports.XYZToLngLat = XYZToLngLat;\nexports.toHilbertQuadkey = toHilbertQuadkey;\nexports.FromHilbertQuadKey = FromHilbertQuadKey;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _long = _interopRequireDefault(require(\"long\"));\n\nvar FACE_BITS = 3;\nvar MAX_LEVEL = 30;\nvar POS_BITS = 2 * MAX_LEVEL + 1;\nvar RADIAN_TO_DEGREE = 180 / Math.PI;\n\nfunction IJToST(ij, order, offsets) {\n  var maxSize = 1 << order;\n  return [(ij[0] + offsets[0]) / maxSize, (ij[1] + offsets[1]) / maxSize];\n}\n\nfunction singleSTtoUV(st) {\n  if (st >= 0.5) {\n    return 1 / 3.0 * (4 * st * st - 1);\n  }\n\n  return 1 / 3.0 * (1 - 4 * (1 - st) * (1 - st));\n}\n\nfunction STToUV(st) {\n  return [singleSTtoUV(st[0]), singleSTtoUV(st[1])];\n}\n\nfunction FaceUVToXYZ(face, _ref) {\n  var _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 2),\n      u = _ref2[0],\n      v = _ref2[1];\n\n  switch (face) {\n    case 0:\n      return [1, u, v];\n\n    case 1:\n      return [-u, 1, v];\n\n    case 2:\n      return [-u, -v, 1];\n\n    case 3:\n      return [-1, -v, -u];\n\n    case 4:\n      return [v, -1, -u];\n\n    case 5:\n      return [v, u, -1];\n\n    default:\n      throw new Error('Invalid face');\n  }\n}\n\nfunction XYZToLngLat(_ref3) {\n  var _ref4 = (0, _slicedToArray2[\"default\"])(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  var lat = Math.atan2(z, Math.sqrt(x * x + y * y));\n  var lng = Math.atan2(y, x);\n  return [lng * RADIAN_TO_DEGREE, lat * RADIAN_TO_DEGREE];\n}\n\nfunction toHilbertQuadkey(idS) {\n  var bin = _long[\"default\"].fromString(idS, true, 10).toString(2);\n\n  while (bin.length < FACE_BITS + POS_BITS) {\n    bin = '0' + bin;\n  }\n\n  var lsbIndex = bin.lastIndexOf('1');\n  var faceB = bin.substring(0, 3);\n  var posB = bin.substring(3, lsbIndex);\n  var levelN = posB.length / 2;\n\n  var faceS = _long[\"default\"].fromString(faceB, true, 2).toString(10);\n\n  var posS = _long[\"default\"].fromString(posB, true, 2).toString(4);\n\n  while (posS.length < levelN) {\n    posS = '0' + posS;\n  }\n\n  return \"\".concat(faceS, \"/\").concat(posS);\n}\n\nfunction rotateAndFlipQuadrant(n, point, rx, ry) {\n  if (ry === 0) {\n    if (rx === 1) {\n      point[0] = n - 1 - point[0];\n      point[1] = n - 1 - point[1];\n    }\n\n    var x = point[0];\n    point[0] = point[1];\n    point[1] = x;\n  }\n}\n\nfunction FromHilbertQuadKey(hilbertQuadkey) {\n  var parts = hilbertQuadkey.split('/');\n  var face = parseInt(parts[0], 10);\n  var position = parts[1];\n  var maxLevel = position.length;\n  var point = [0, 0];\n  var level;\n\n  for (var i = maxLevel - 1; i >= 0; i--) {\n    level = maxLevel - i;\n    var bit = position[i];\n    var rx = 0;\n    var ry = 0;\n\n    if (bit === '1') {\n      ry = 1;\n    } else if (bit === '2') {\n      rx = 1;\n      ry = 1;\n    } else if (bit === '3') {\n      rx = 1;\n    }\n\n    var val = Math.pow(2, level - 1);\n    rotateAndFlipQuadrant(val, point, rx, ry);\n    point[0] += val * rx;\n    point[1] += val * ry;\n  }\n\n  if (face % 2 === 1) {\n    var t = point[0];\n    point[0] = point[1];\n    point[1] = t;\n  }\n\n  return {\n    face: face,\n    ij: point,\n    level: level\n  };\n}\n//# sourceMappingURL=s2-geometry.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","singleSTtoUV","st","_interopRequireDefault","Object","defineProperty","value","IJToST","ij","order","offsets","maxSize","STToUV","FaceUVToXYZ","face","_ref","_ref2","_slicedToArray2","u","v","Error","XYZToLngLat","_ref3","_ref4","x","y","Math","lng","atan2","RADIAN_TO_DEGREE","lat","z","sqrt","toHilbertQuadkey","idS","bin","_long","fromString","toString","length","FACE_BITS","POS_BITS","lsbIndex","lastIndexOf","faceB","substring","posB","levelN","faceS","posS","concat","FromHilbertQuadKey","hilbertQuadkey","parts","split","parseInt","position","maxLevel","point","level","i","bit","rx","ry","val","pow","n","t","PI"]
}
