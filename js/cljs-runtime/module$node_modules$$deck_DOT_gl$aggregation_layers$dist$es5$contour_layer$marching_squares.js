shadow$provide.module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$contour_layer$marching_squares=function(global,require,module,exports){function getVertexCode(weight,threshold){return Array.isArray(threshold)?weight<threshold[0]?0:weight<threshold[1]?1:2:weight>=threshold?1:0}Object.defineProperty(exports,"__esModule",{value:!0});exports.getCode=function(opts){var cellWeights=opts.cellWeights,x=opts.x,y=opts.y,width=opts.width,height=opts.height,threshold=opts.threshold;opts.thresholdValue&&
(_core.log.deprecated("thresholdValue","threshold")(),threshold=opts.thresholdValue);opts=0>x;var isRightBoundary=x>=width-1,isBottomBoundary=0>y,isTopBoundary=y>=height-1;height=opts||isRightBoundary||isBottomBoundary||isTopBoundary;if(opts||isTopBoundary)var JSCompiler_object_inline_top_4480=0;else{var JSCompiler_object_inline_top_4476=cellWeights[(y+1)*width+x];JSCompiler_object_inline_top_4480=getVertexCode(JSCompiler_object_inline_top_4476,threshold)}if(isRightBoundary||isTopBoundary)isTopBoundary=
0;else{var JSCompiler_object_inline_topRight_4477=cellWeights[(y+1)*width+x+1];isTopBoundary=getVertexCode(JSCompiler_object_inline_topRight_4477,threshold)}if(isRightBoundary||isBottomBoundary)isRightBoundary=0;else{var JSCompiler_object_inline_right_4478=cellWeights[y*width+x+1];isRightBoundary=getVertexCode(JSCompiler_object_inline_right_4478,threshold)}if(opts||isBottomBoundary)x=0;else{var JSCompiler_object_inline_current_4479=cellWeights[y*width+x];x=getVertexCode(JSCompiler_object_inline_current_4479,
threshold)}cellWeights=JSCompiler_object_inline_top_4480;y=isTopBoundary;width=isRightBoundary;opts=x;x=-1;Number.isFinite(threshold)&&(x=cellWeights<<3|y<<2|width<<1|opts);Array.isArray(threshold)&&(x=cellWeights<<6|y<<4|width<<2|opts);cellWeights=0;height||(cellWeights=getVertexCode((JSCompiler_object_inline_top_4476+JSCompiler_object_inline_topRight_4477+JSCompiler_object_inline_right_4478+JSCompiler_object_inline_current_4479)/4,threshold));return{code:x,meanCode:cellWeights}};exports.getVertices=
function(opts){var gridOrigin=opts.gridOrigin,cellSize=opts.cellSize,x=opts.x,y=opts.y,code=opts.code,meanCode=opts.meanCode,_opts$type=opts.type;_opts$type=void 0===_opts$type?CONTOUR_TYPE.ISO_LINES:_opts$type;opts=Object.assign({},DEFAULT_THRESHOLD_DATA,opts.thresholdData);code=_opts$type===CONTOUR_TYPE.ISO_BANDS?_marchingSquaresCodes.ISOBANDS_CODE_OFFSET_MAP[code]:_marchingSquaresCodes.ISOLINES_CODE_OFFSET_MAP[code];Array.isArray(code)||(code=code[meanCode]);var vZ=opts.zIndex*opts.zOffset,refVertexX=
gridOrigin[0]+(x+1)*cellSize[0],refVertexY=gridOrigin[1]+(y+1)*cellSize[1];if(_opts$type===CONTOUR_TYPE.ISO_BANDS){var polygons=[];code.forEach(function(polygonOffsets){var polygon=[];polygonOffsets.forEach(function(xyOffset){polygon.push([refVertexX+xyOffset[0]*cellSize[0],refVertexY+xyOffset[1]*cellSize[1],vZ])});polygons.push(polygon)});return polygons}var lines=[];code.forEach(function(xyOffsets){xyOffsets.forEach(function(offset){lines.push([refVertexX+offset[0]*cellSize[0],refVertexY+offset[1]*
cellSize[1],vZ])})});return lines};exports.CONTOUR_TYPE=void 0;var _core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_marchingSquaresCodes=require("module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$contour_layer$marching_squares_codes"),CONTOUR_TYPE={ISO_LINES:1,ISO_BANDS:2};exports.CONTOUR_TYPE=CONTOUR_TYPE;var DEFAULT_THRESHOLD_DATA={zIndex:0,zOffset:.005}}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$contour_layer$marching_squares.js.map
