{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$gltools$dist$es5$polyfill$polyfill_vertex_array_object.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/gltools/dist/es5/polyfill/polyfill-vertex-array-object.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$gltools$dist$es5$polyfill$polyfill_vertex_array_object\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polyfillVertexArrayObject = polyfillVertexArrayObject;\n\nvar _env = require(\"probe.gl/env\");\n\nvar glErrorShadow = {};\n\nfunction error(msg) {\n  if (_env.global.console && _env.global.console.error) {\n    _env.global.console.error(msg);\n  }\n}\n\nfunction log(msg) {\n  if (_env.global.console && _env.global.console.log) {\n    _env.global.console.log(msg);\n  }\n}\n\nfunction synthesizeGLError(err, opt_msg) {\n  glErrorShadow[err] = true;\n\n  if (opt_msg !== undefined) {\n    error(opt_msg);\n  }\n}\n\nfunction wrapGLError(gl) {\n  var f = gl.getError;\n\n  gl.getError = function getError() {\n    var err;\n\n    do {\n      err = f.apply(gl);\n\n      if (err !== 0) {\n        glErrorShadow[err] = true;\n      }\n    } while (err !== 0);\n\n    for (err in glErrorShadow) {\n      if (glErrorShadow[err]) {\n        delete glErrorShadow[err];\n        return parseInt(err, 10);\n      }\n    }\n\n    return 0;\n  };\n}\n\nvar WebGLVertexArrayObjectOES = function WebGLVertexArrayObjectOES(ext) {\n  var gl = ext.gl;\n  this.ext = ext;\n  this.isAlive = true;\n  this.hasBeenBound = false;\n  this.elementArrayBuffer = null;\n  this.attribs = new Array(ext.maxVertexAttribs);\n\n  for (var n = 0; n < this.attribs.length; n++) {\n    var attrib = new WebGLVertexArrayObjectOES.VertexAttrib(gl);\n    this.attribs[n] = attrib;\n  }\n\n  this.maxAttrib = 0;\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib = function VertexAttrib(gl) {\n  this.enabled = false;\n  this.buffer = null;\n  this.size = 4;\n  this.type = 5126;\n  this.normalized = false;\n  this.stride = 16;\n  this.offset = 0;\n  this.cached = '';\n  this.recache();\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib.prototype.recache = function recache() {\n  this.cached = [this.size, this.type, this.normalized, this.stride, this.offset].join(':');\n};\n\nvar OESVertexArrayObject = function OESVertexArrayObject(gl) {\n  var self = this;\n  this.gl = gl;\n  wrapGLError(gl);\n  var original = this.original = {\n    getParameter: gl.getParameter,\n    enableVertexAttribArray: gl.enableVertexAttribArray,\n    disableVertexAttribArray: gl.disableVertexAttribArray,\n    bindBuffer: gl.bindBuffer,\n    getVertexAttrib: gl.getVertexAttrib,\n    vertexAttribPointer: gl.vertexAttribPointer\n  };\n\n  gl.getParameter = function getParameter(pname) {\n    if (pname === self.VERTEX_ARRAY_BINDING_OES) {\n      if (self.currentVertexArrayObject === self.defaultVertexArrayObject) {\n        return null;\n      }\n\n      return self.currentVertexArrayObject;\n    }\n\n    return original.getParameter.apply(this, arguments);\n  };\n\n  gl.enableVertexAttribArray = function enableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = true;\n    return original.enableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.disableVertexAttribArray = function disableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = false;\n    return original.disableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.bindBuffer = function bindBuffer(target, buffer) {\n    switch (target) {\n      case 34962:\n        self.currentArrayBuffer = buffer;\n        break;\n\n      case 34963:\n        self.currentVertexArrayObject.elementArrayBuffer = buffer;\n        break;\n\n      default:\n    }\n\n    return original.bindBuffer.apply(this, arguments);\n  };\n\n  gl.getVertexAttrib = function getVertexAttrib(index, pname) {\n    var vao = self.currentVertexArrayObject;\n    var attrib = vao.attribs[index];\n\n    switch (pname) {\n      case 34975:\n        return attrib.buffer;\n\n      case 34338:\n        return attrib.enabled;\n\n      case 34339:\n        return attrib.size;\n\n      case 34340:\n        return attrib.stride;\n\n      case 34341:\n        return attrib.type;\n\n      case 34922:\n        return attrib.normalized;\n\n      default:\n        return original.getVertexAttrib.apply(this, arguments);\n    }\n  };\n\n  gl.vertexAttribPointer = function vertexAttribPointer(indx, size, type, normalized, stride, offset) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, indx);\n    var attrib = vao.attribs[indx];\n    attrib.buffer = self.currentArrayBuffer;\n    attrib.size = size;\n    attrib.type = type;\n    attrib.normalized = normalized;\n    attrib.stride = stride;\n    attrib.offset = offset;\n    attrib.recache();\n    return original.vertexAttribPointer.apply(this, arguments);\n  };\n\n  if (gl.instrumentExtension) {\n    gl.instrumentExtension(this, 'OES_vertex_array_object');\n  }\n\n  if (gl.canvas) {\n    gl.canvas.addEventListener('webglcontextrestored', function () {\n      log('OESVertexArrayObject emulation library context restored');\n      self.reset_();\n    }, true);\n  }\n\n  this.reset_();\n};\n\nOESVertexArrayObject.prototype.VERTEX_ARRAY_BINDING_OES = 0x85b5;\n\nOESVertexArrayObject.prototype.reset_ = function reset_() {\n  var contextWasLost = this.vertexArrayObjects !== undefined;\n\n  if (contextWasLost) {\n    for (var ii = 0; ii < this.vertexArrayObjects.length; ++ii) {\n      this.vertexArrayObjects.isAlive = false;\n    }\n  }\n\n  var gl = this.gl;\n  this.maxVertexAttribs = gl.getParameter(34921);\n  this.defaultVertexArrayObject = new WebGLVertexArrayObjectOES(this);\n  this.currentVertexArrayObject = null;\n  this.currentArrayBuffer = null;\n  this.vertexArrayObjects = [this.defaultVertexArrayObject];\n  this.bindVertexArrayOES(null);\n};\n\nOESVertexArrayObject.prototype.createVertexArrayOES = function createVertexArrayOES() {\n  var arrayObject = new WebGLVertexArrayObjectOES(this);\n  this.vertexArrayObjects.push(arrayObject);\n  return arrayObject;\n};\n\nOESVertexArrayObject.prototype.deleteVertexArrayOES = function deleteVertexArrayOES(arrayObject) {\n  arrayObject.isAlive = false;\n  this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(arrayObject), 1);\n\n  if (this.currentVertexArrayObject === arrayObject) {\n    this.bindVertexArrayOES(null);\n  }\n};\n\nOESVertexArrayObject.prototype.isVertexArrayOES = function isVertexArrayOES(arrayObject) {\n  if (arrayObject && arrayObject instanceof WebGLVertexArrayObjectOES) {\n    if (arrayObject.hasBeenBound && arrayObject.ext === this) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nOESVertexArrayObject.prototype.bindVertexArrayOES = function bindVertexArrayOES(arrayObject) {\n  var gl = this.gl;\n\n  if (arrayObject && !arrayObject.isAlive) {\n    synthesizeGLError(1282, 'bindVertexArrayOES: attempt to bind deleted arrayObject');\n    return;\n  }\n\n  var original = this.original;\n  var oldVAO = this.currentVertexArrayObject;\n  this.currentVertexArrayObject = arrayObject || this.defaultVertexArrayObject;\n  this.currentVertexArrayObject.hasBeenBound = true;\n  var newVAO = this.currentVertexArrayObject;\n\n  if (oldVAO === newVAO) {\n    return;\n  }\n\n  if (!oldVAO || newVAO.elementArrayBuffer !== oldVAO.elementArrayBuffer) {\n    original.bindBuffer.call(gl, 34963, newVAO.elementArrayBuffer);\n  }\n\n  var currentBinding = this.currentArrayBuffer;\n  var maxAttrib = Math.max(oldVAO ? oldVAO.maxAttrib : 0, newVAO.maxAttrib);\n\n  for (var n = 0; n <= maxAttrib; n++) {\n    var attrib = newVAO.attribs[n];\n    var oldAttrib = oldVAO ? oldVAO.attribs[n] : null;\n\n    if (!oldVAO || attrib.enabled !== oldAttrib.enabled) {\n      if (attrib.enabled) {\n        original.enableVertexAttribArray.call(gl, n);\n      } else {\n        original.disableVertexAttribArray.call(gl, n);\n      }\n    }\n\n    if (attrib.enabled) {\n      var bufferChanged = false;\n\n      if (!oldVAO || attrib.buffer !== oldAttrib.buffer) {\n        if (currentBinding !== attrib.buffer) {\n          original.bindBuffer.call(gl, 34962, attrib.buffer);\n          currentBinding = attrib.buffer;\n        }\n\n        bufferChanged = true;\n      }\n\n      if (bufferChanged || attrib.cached !== oldAttrib.cached) {\n        original.vertexAttribPointer.call(gl, n, attrib.size, attrib.type, attrib.normalized, attrib.stride, attrib.offset);\n      }\n    }\n  }\n\n  if (this.currentArrayBuffer !== currentBinding) {\n    original.bindBuffer.call(gl, 34962, this.currentArrayBuffer);\n  }\n};\n\nfunction polyfillVertexArrayObject(gl) {\n  if (typeof gl.createVertexArray === 'function') {\n    return;\n  }\n\n  var original_getSupportedExtensions = gl.getSupportedExtensions;\n\n  gl.getSupportedExtensions = function getSupportedExtensions() {\n    var list = original_getSupportedExtensions.call(this) || [];\n\n    if (list.indexOf('OES_vertex_array_object') < 0) {\n      list.push('OES_vertex_array_object');\n    }\n\n    return list;\n  };\n\n  var original_getExtension = gl.getExtension;\n\n  gl.getExtension = function getExtension(name) {\n    var ext = original_getExtension.call(this, name);\n\n    if (ext) {\n      return ext;\n    }\n\n    if (name !== 'OES_vertex_array_object') {\n      return null;\n    }\n\n    if (!gl.__OESVertexArrayObject) {\n      this.__OESVertexArrayObject = new OESVertexArrayObject(this);\n    }\n\n    return this.__OESVertexArrayObject;\n  };\n}\n//# sourceMappingURL=polyfill-vertex-array-object.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","wrapGLError","gl","f","getError","gl.getError","err","apply","glErrorShadow","parseInt","Object","defineProperty","value","polyfillVertexArrayObject","createVertexArray","original_getSupportedExtensions","getSupportedExtensions","gl.getSupportedExtensions","list","call","indexOf","push","original_getExtension","getExtension","gl.getExtension","name","ext","__OESVertexArrayObject","OESVertexArrayObject","_env","WebGLVertexArrayObjectOES","isAlive","hasBeenBound","elementArrayBuffer","attribs","Array","maxVertexAttribs","n","length","attrib","VertexAttrib","maxAttrib","WebGLVertexArrayObjectOES.VertexAttrib","enabled","buffer","size","type","normalized","stride","offset","cached","recache","prototype","WebGLVertexArrayObjectOES.VertexAttrib.prototype.recache","join","self","original","getParameter","enableVertexAttribArray","disableVertexAttribArray","bindBuffer","getVertexAttrib","vertexAttribPointer","gl.getParameter","pname","VERTEX_ARRAY_BINDING_OES","currentVertexArrayObject","defaultVertexArrayObject","arguments","gl.enableVertexAttribArray","index","vao","Math","max","gl.disableVertexAttribArray","gl.bindBuffer","target","currentArrayBuffer","gl.getVertexAttrib","gl.vertexAttribPointer","indx","instrumentExtension","canvas","addEventListener","console","log","msg","reset_","OESVertexArrayObject.prototype.reset_","undefined","vertexArrayObjects","ii","bindVertexArrayOES","createVertexArrayOES","OESVertexArrayObject.prototype.createVertexArrayOES","arrayObject","deleteVertexArrayOES","OESVertexArrayObject.prototype.deleteVertexArrayOES","splice","isVertexArrayOES","OESVertexArrayObject.prototype.isVertexArrayOES","OESVertexArrayObject.prototype.bindVertexArrayOES","error","opt_msg","oldVAO","newVAO","currentBinding","oldAttrib","bufferChanged"]
}
