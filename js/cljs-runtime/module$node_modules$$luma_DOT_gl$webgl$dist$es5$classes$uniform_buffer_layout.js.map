{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$uniform_buffer_layout.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/uniform-buffer-layout.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$uniform_buffer_layout\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _attributeUtils = require(\"../webgl-utils/attribute-utils\");\n\nvar _utils = require(\"../utils\");\n\nvar ERR_ARGUMENT = 'UniformBufferLayout illegal argument';\nvar GL_FLOAT = 0x1406;\nvar GL_INT = 0x1404;\nvar GL_UNSIGNED_INT = 0x1405;\n\nvar UniformBufferLayout = function () {\n  function UniformBufferLayout(layout) {\n    var _this$typedArray;\n\n    (0, _classCallCheck2[\"default\"])(this, UniformBufferLayout);\n    this.layout = {};\n    this.size = 0;\n\n    for (var key in layout) {\n      this._addUniform(key, layout[key]);\n    }\n\n    this.size += (4 - this.size % 4) % 4;\n    var data = new Float32Array(this.size);\n    this.typedArray = (_this$typedArray = {}, (0, _defineProperty2[\"default\"])(_this$typedArray, GL_FLOAT, data), (0, _defineProperty2[\"default\"])(_this$typedArray, GL_INT, new Int32Array(data.buffer)), (0, _defineProperty2[\"default\"])(_this$typedArray, GL_UNSIGNED_INT, new Uint32Array(data.buffer)), _this$typedArray);\n  }\n\n  (0, _createClass2[\"default\"])(UniformBufferLayout, [{\n    key: \"getBytes\",\n    value: function getBytes() {\n      return this.size * 4;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.typedArray[GL_FLOAT];\n    }\n  }, {\n    key: \"getSubData\",\n    value: function getSubData(index) {\n      var data;\n      var offset;\n\n      if (index === undefined) {\n        data = this.data;\n        offset = 0;\n      } else {\n        var begin = this.offsets[index];\n        var end = begin + this.sizes[index];\n        data = this.data.subarray(begin, end);\n        offset = begin * 4;\n      }\n\n      return {\n        data: data,\n        offset: offset\n      };\n    }\n  }, {\n    key: \"setUniforms\",\n    value: function setUniforms(values) {\n      for (var key in values) {\n        this._setValue(key, values[key]);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_setValue\",\n    value: function _setValue(key, value) {\n      var layout = this.layout[key];\n      (0, _utils.assert)(layout, 'UniformLayoutStd140 illegal argument');\n      var typedArray = this.typedArray[layout.type];\n\n      if (layout.size === 1) {\n        typedArray[layout.offset] = value;\n      } else {\n        typedArray.set(value, layout.offset);\n      }\n    }\n  }, {\n    key: \"_addUniform\",\n    value: function _addUniform(key, uniformType) {\n      var typeAndComponents = (0, _attributeUtils.decomposeCompositeGLType)(uniformType);\n      (0, _utils.assert)(typeAndComponents, ERR_ARGUMENT);\n      var type = typeAndComponents.type,\n          count = typeAndComponents.components;\n      this.size = this._alignTo(this.size, count);\n      var offset = this.size;\n      this.size += count;\n      this.layout[key] = {\n        type: type,\n        size: count,\n        offset: offset\n      };\n    }\n  }, {\n    key: \"_alignTo\",\n    value: function _alignTo(size, count) {\n      switch (count) {\n        case 1:\n          return size;\n\n        case 2:\n          return size + size % 2;\n\n        default:\n          return size + (4 - size % 4) % 4;\n      }\n    }\n  }]);\n  return UniformBufferLayout;\n}();\n\nexports[\"default\"] = UniformBufferLayout;\n//# sourceMappingURL=uniform-buffer-layout.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_defineProperty2","_classCallCheck2","_createClass2","_attributeUtils","_utils","UniformBufferLayout","layout","_this$typedArray","size","key","_addUniform","data","Float32Array","typedArray","GL_FLOAT","GL_INT","Int32Array","buffer","GL_UNSIGNED_INT","Uint32Array","getBytes","getData","getSubData","index","undefined","offset","begin","offsets","subarray","sizes","setUniforms","values","_setValue","assert","type","set","uniformType","typeAndComponents","decomposeCompositeGLType","ERR_ARGUMENT","count","components","_alignTo"]
}
