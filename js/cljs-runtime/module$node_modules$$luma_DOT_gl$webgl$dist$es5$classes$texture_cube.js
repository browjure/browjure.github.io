shadow$provide.module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$texture_cube=function(global,require,module,exports){function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,
Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _regenerator=global(require("module$node_modules$$babel$runtime$regenerator$index")),
_asyncToGenerator2=global(require("module$node_modules$$babel$runtime$helpers$asyncToGenerator")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_assertThisInitialized2=global(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),
_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_gltools=require("module$node_modules$$luma_DOT_gl$gltools$dist$es5$index"),FACES=[34069,34070,34071,34072,34073,34074];require=function(_Texture){function TextureCube(gl){var props=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,_classCallCheck2["default"])(this,TextureCube);(0,_gltools.assertWebGLContext)(gl);var _this=_super.call(this,gl,Object.assign({},props,{target:34067}));_this.initialize(props);
Object.seal((0,_assertThisInitialized2["default"])(_this));return _this}(0,_inherits2["default"])(TextureCube,_Texture);var _super=_createSuper(TextureCube);(0,_createClass2["default"])(TextureCube,[{key:"initialize",value:function(){var _this2=this,props=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_props$mipmaps=props.mipmaps,mipmaps=void 0===_props$mipmaps?!0:_props$mipmaps;_props$mipmaps=props.parameters;var parameters=void 0===_props$mipmaps?{}:_props$mipmaps;this.opts=props;this.setCubeMapImageData(props).then(function(){_this2.loaded=
!0;mipmaps&&_this2.generateMipmap(props);_this2.setParameters(parameters)});return this}},{key:"subImage",value:function(_ref){var _ref$x=_ref.x,_ref$y=_ref.y,_ref$mipmapLevel=_ref.mipmapLevel;return this._subImage({target:_ref.face,data:_ref.data,x:void 0===_ref$x?0:_ref$x,y:void 0===_ref$y?0:_ref$y,mipmapLevel:void 0===_ref$mipmapLevel?0:_ref$mipmapLevel})}},{key:"setCubeMapImageData",value:function(){var _setCubeMapImageData=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(_ref2){var _this3=
this,width,height,pixels,data,_ref2$border,border,_ref2$format,format,_ref2$type,type,gl,imageDataMap,resolvedFaces;return _regenerator["default"].wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return width=_ref2.width,height=_ref2.height,pixels=_ref2.pixels,data=_ref2.data,_ref2$border=_ref2.border,border=void 0===_ref2$border?0:_ref2$border,_ref2$format=_ref2.format,format=void 0===_ref2$format?6408:_ref2$format,_ref2$type=_ref2.type,type=void 0===_ref2$type?5121:_ref2$type,
gl=this.gl,imageDataMap=pixels||data,_context.next=5,Promise.all(FACES.map(function(face){face=imageDataMap[face];return Promise.all(Array.isArray(face)?face:[face])}));case 5:resolvedFaces=_context.sent,this.bind(),FACES.forEach(function(face,index){1<resolvedFaces[index].length&&!1!==_this3.opts.mipmaps&&_gltools.log.warn("".concat(_this3.id," has mipmap and multiple LODs."))();resolvedFaces[index].forEach(function(image,lodLevel){width&&height?gl.texImage2D(face,lodLevel,format,width,height,border,
format,type,image):gl.texImage2D(face,lodLevel,format,format,type,image)})}),this.unbind();case 9:case "end":return _context.stop()}},_callee,this)}));return function(_x){return _setCubeMapImageData.apply(this,arguments)}}()},{key:"setImageDataForFace",value:function(options){var _this4=this,face=options.face,width=options.width,height=options.height,data=options.data,_options$border=options.border;_options$border=void 0===_options$border?0:_options$border;var _options$format=options.format;_options$format=
void 0===_options$format?6408:_options$format;var _options$type=options.type;_options$type=void 0===_options$type?5121:_options$type;var gl=this.gl;data=options.pixels||data;this.bind();data instanceof Promise?data.then(function(resolvedImageData){return _this4.setImageDataForFace(Object.assign({},options,{face,data:resolvedImageData,pixels:resolvedImageData}))}):this.width||this.height?gl.texImage2D(face,0,_options$format,width,height,_options$border,_options$format,_options$type,data):gl.texImage2D(face,
0,_options$format,_options$format,_options$type,data);return this}}]);return TextureCube}(global(require("module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$texture"))["default"]);exports["default"]=require;require.FACES=FACES}
//# sourceMappingURL=module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$texture_cube.js.map
