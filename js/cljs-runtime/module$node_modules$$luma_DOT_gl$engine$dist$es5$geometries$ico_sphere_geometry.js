shadow$provide.module$node_modules$$luma_DOT_gl$engine$dist$es5$geometries$ico_sphere_geometry=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=
(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),!0}catch(e){return!1}}function tesselateIcosaHedron(props){props=props.iterations;var iterations=void 0===props?0:props;props=Math.PI;var PI2=2*props,positions=[].concat(ICO_POSITIONS),indices=[].concat(ICO_INDICES);positions.push();indices.push();var getMiddlePoint=function(){var pointMemo={};return function(i1,i2){i1*=3;i2*=3;var maxi=i1>i2?i1:i2;maxi="".concat(i1<i2?i1:i2,"|").concat(maxi);if(maxi in pointMemo)return pointMemo[maxi];var xm=(positions[i1]+positions[i2])/2,ym=(positions[i1+
1]+positions[i2+1])/2;i1=(positions[i1+2]+positions[i2+2])/2;i2=Math.sqrt(xm*xm+ym*ym+i1*i1);positions.push(xm/i2,ym/i2,i1/i2);return pointMemo[maxi]=positions.length/3-1}}(),i=0;for(;i<iterations;i++){for(var indices2=[],j=0;j<indices.length;j+=3){var a=getMiddlePoint(indices[j+0],indices[j+1]),b=getMiddlePoint(indices[j+1],indices[j+2]),c=getMiddlePoint(indices[j+2],indices[j+0]);indices2.push(c,indices[j+0],a,a,indices[j+1],b,b,indices[j+2],c,a,b,c)}indices=indices2}iterations=Array(positions.length);
getMiddlePoint=Array(positions.length/3*2);for(i=indices.length-3;0<=i;i-=3){b=indices[i+0];c=indices[i+1];var i3=indices[i+2];indices2=3*b;j=3*c;a=3*i3;b*=2;c*=2;i3*=2;var x1=positions[indices2+0],y1=positions[indices2+1],z1=positions[indices2+2],v1=Math.acos(z1/Math.sqrt(x1*x1+y1*y1+z1*z1))/props,u1=1-(Math.atan2(y1,x1)+props)/PI2,x2=positions[j+0],y2=positions[j+1],z2=positions[j+2],v2=Math.acos(z2/Math.sqrt(x2*x2+y2*y2+z2*z2))/props,u2=1-(Math.atan2(y2,x2)+props)/PI2,x3=positions[a+0],y3=positions[a+
1],z3=positions[a+2],v3=Math.acos(z3/Math.sqrt(x3*x3+y3*y3+z3*z3))/props,u3=1-(Math.atan2(y3,x3)+props)/PI2;x1=[x1-x2,y1-y2,z1-z2];x2=(new _core.Vector3([x3-x2,y3-y2,z3-z2])).cross(x1).normalize();y2=void 0;(0===u1||0===u2||0===u3)&&(0===u1||.5<u1)&&(0===u2||.5<u2)&&(0===u3||.5<u3)&&(positions.push(positions[indices2+0],positions[indices2+1],positions[indices2+2]),y2=positions.length/3-1,indices.push(y2),getMiddlePoint[2*y2]=1,getMiddlePoint[2*y2+1]=v1,iterations[3*y2]=x2.x,iterations[3*y2+1]=x2.y,
iterations[3*y2+2]=x2.z,positions.push(positions[j+0],positions[j+1],positions[j+2]),y2=positions.length/3-1,indices.push(y2),getMiddlePoint[2*y2]=1,getMiddlePoint[2*y2+1]=v2,iterations[3*y2]=x2.x,iterations[3*y2+1]=x2.y,iterations[3*y2+2]=x2.z,positions.push(positions[a+0],positions[a+1],positions[a+2]),y2=positions.length/3-1,indices.push(y2),getMiddlePoint[2*y2]=1,getMiddlePoint[2*y2+1]=v3,iterations[3*y2]=x2.x,iterations[3*y2+1]=x2.y,iterations[3*y2+2]=x2.z);iterations[indices2+0]=iterations[j+
0]=iterations[a+0]=x2.x;iterations[indices2+1]=iterations[j+1]=iterations[a+1]=x2.y;iterations[indices2+2]=iterations[j+2]=iterations[a+2]=x2.z;getMiddlePoint[b+0]=u1;getMiddlePoint[b+1]=v1;getMiddlePoint[c+0]=u2;getMiddlePoint[c+1]=v2;getMiddlePoint[i3+0]=u3;getMiddlePoint[i3+1]=v3}return{indices:{size:1,value:new Uint16Array(indices)},attributes:{POSITION:{size:3,value:new Float32Array(positions)},NORMAL:{size:3,value:new Float32Array(iterations)},TEXCOORD_0:{size:2,value:new Float32Array(getMiddlePoint)}}}}
global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),
_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_core=require("module$node_modules$$math_DOT_gl$core$dist$es5$index");global=global(require("module$node_modules$$luma_DOT_gl$engine$dist$es5$geometry$geometry"));var _webgl=require("module$node_modules$$luma_DOT_gl$webgl$dist$es5$index"),ICO_POSITIONS=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],ICO_INDICES=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1];require=function(_Geometry){function IcoSphereGeometry(){var props=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,_classCallCheck2["default"])(this,IcoSphereGeometry);var _props$id=props.id;_props$id=void 0===_props$id?(0,_webgl.uid)("ico-sphere-geometry"):_props$id;var _tesselateIcosaHedron=tesselateIcosaHedron(props),indices=_tesselateIcosaHedron.indices;_tesselateIcosaHedron=_tesselateIcosaHedron.attributes;return _super.call(this,_objectSpread(_objectSpread({},props),{},{id:_props$id,indices,attributes:_objectSpread(_objectSpread({},_tesselateIcosaHedron),
props.attributes)}))}(0,_inherits2["default"])(IcoSphereGeometry,_Geometry);var _super=_createSuper(IcoSphereGeometry);return IcoSphereGeometry}(global["default"]);exports["default"]=require}
//# sourceMappingURL=module$node_modules$$luma_DOT_gl$engine$dist$es5$geometries$ico_sphere_geometry.js.map
