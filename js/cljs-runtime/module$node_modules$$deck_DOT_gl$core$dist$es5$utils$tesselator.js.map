{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$utils$tesselator.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/utils/tesselator.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$utils$tesselator\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _iterableUtils = require(\"./iterable-utils\");\n\nvar _typedArrayManager = _interopRequireDefault(require(\"./typed-array-manager\"));\n\nvar _assert = _interopRequireDefault(require(\"./assert\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar Tesselator = function () {\n  function Tesselator() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, Tesselator);\n    var _opts$attributes = opts.attributes,\n        attributes = _opts$attributes === void 0 ? {} : _opts$attributes;\n    this.typedArrayManager = _typedArrayManager[\"default\"];\n    this.indexStarts = null;\n    this.vertexStarts = null;\n    this.vertexCount = 0;\n    this.instanceCount = 0;\n    this.attributes = {};\n    this._attributeDefs = attributes;\n    this.opts = opts;\n    this.updateGeometry(opts);\n    Object.seal(this);\n  }\n\n  (0, _createClass2[\"default\"])(Tesselator, [{\n    key: \"updateGeometry\",\n    value: function updateGeometry(opts) {\n      Object.assign(this.opts, opts);\n      var _this$opts = this.opts,\n          data = _this$opts.data,\n          _this$opts$buffers = _this$opts.buffers,\n          buffers = _this$opts$buffers === void 0 ? {} : _this$opts$buffers,\n          getGeometry = _this$opts.getGeometry,\n          geometryBuffer = _this$opts.geometryBuffer,\n          positionFormat = _this$opts.positionFormat,\n          dataChanged = _this$opts.dataChanged,\n          _this$opts$normalize = _this$opts.normalize,\n          normalize = _this$opts$normalize === void 0 ? true : _this$opts$normalize;\n      this.data = data;\n      this.getGeometry = getGeometry;\n      this.positionSize = geometryBuffer && geometryBuffer.size || (positionFormat === 'XY' ? 2 : 3);\n      this.buffers = buffers;\n      this.normalize = normalize;\n\n      if (geometryBuffer) {\n        (0, _assert[\"default\"])(data.startIndices, 'binary data missing startIndices');\n        this.getGeometry = this.getGeometryFromBuffer(geometryBuffer);\n\n        if (!normalize) {\n          buffers.positions = geometryBuffer;\n        }\n      }\n\n      this.geometryBuffer = buffers.positions;\n\n      if (Array.isArray(dataChanged)) {\n        var _iterator = _createForOfIteratorHelper(dataChanged),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var dataRange = _step.value;\n\n            this._rebuildGeometry(dataRange);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        this._rebuildGeometry();\n      }\n    }\n  }, {\n    key: \"updatePartialGeometry\",\n    value: function updatePartialGeometry(_ref) {\n      var startRow = _ref.startRow,\n          endRow = _ref.endRow;\n\n      this._rebuildGeometry({\n        startRow: startRow,\n        endRow: endRow\n      });\n    }\n  }, {\n    key: \"normalizeGeometry\",\n    value: function normalizeGeometry(geometry) {\n      return geometry;\n    }\n  }, {\n    key: \"updateGeometryAttributes\",\n    value: function updateGeometryAttributes(geometry, startIndex, size) {\n      throw new Error('Not implemented');\n    }\n  }, {\n    key: \"getGeometrySize\",\n    value: function getGeometrySize(geometry) {\n      throw new Error('Not implemented');\n    }\n  }, {\n    key: \"getGeometryFromBuffer\",\n    value: function getGeometryFromBuffer(geometryBuffer) {\n      var value = geometryBuffer.value || geometryBuffer;\n      (0, _assert[\"default\"])(ArrayBuffer.isView(value), 'cannot read geometries');\n      return (0, _iterableUtils.getAccessorFromBuffer)(value, {\n        size: this.positionSize,\n        offset: geometryBuffer.offset,\n        stride: geometryBuffer.stride,\n        startIndices: this.data.startIndices\n      });\n    }\n  }, {\n    key: \"_allocate\",\n    value: function _allocate(instanceCount, copy) {\n      var attributes = this.attributes,\n          buffers = this.buffers,\n          _attributeDefs = this._attributeDefs,\n          typedArrayManager = this.typedArrayManager;\n\n      for (var name in _attributeDefs) {\n        if (name in buffers) {\n          typedArrayManager.release(attributes[name]);\n          attributes[name] = null;\n        } else {\n          var def = _attributeDefs[name];\n          def.copy = copy;\n          attributes[name] = typedArrayManager.allocate(attributes[name], instanceCount, def);\n        }\n      }\n    }\n  }, {\n    key: \"_forEachGeometry\",\n    value: function _forEachGeometry(visitor, startRow, endRow) {\n      var data = this.data,\n          getGeometry = this.getGeometry;\n\n      var _createIterable = (0, _iterableUtils.createIterable)(data, startRow, endRow),\n          iterable = _createIterable.iterable,\n          objectInfo = _createIterable.objectInfo;\n\n      var _iterator2 = _createForOfIteratorHelper(iterable),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var object = _step2.value;\n          objectInfo.index++;\n          var geometry = getGeometry(object, objectInfo);\n          visitor(geometry, objectInfo.index);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"_rebuildGeometry\",\n    value: function _rebuildGeometry(dataRange) {\n      var _this = this;\n\n      if (!this.data || !this.getGeometry) {\n        return;\n      }\n\n      var indexStarts = this.indexStarts,\n          vertexStarts = this.vertexStarts,\n          instanceCount = this.instanceCount;\n      var data = this.data,\n          geometryBuffer = this.geometryBuffer;\n\n      var _ref2 = dataRange || {},\n          _ref2$startRow = _ref2.startRow,\n          startRow = _ref2$startRow === void 0 ? 0 : _ref2$startRow,\n          _ref2$endRow = _ref2.endRow,\n          endRow = _ref2$endRow === void 0 ? Infinity : _ref2$endRow;\n\n      var normalizedData = {};\n\n      if (!dataRange) {\n        indexStarts = [0];\n        vertexStarts = [0];\n      }\n\n      if (this.normalize || !geometryBuffer) {\n        this._forEachGeometry(function (geometry, dataIndex) {\n          geometry = _this.normalizeGeometry(geometry);\n          normalizedData[dataIndex] = geometry;\n          vertexStarts[dataIndex + 1] = vertexStarts[dataIndex] + _this.getGeometrySize(geometry);\n        }, startRow, endRow);\n\n        instanceCount = vertexStarts[vertexStarts.length - 1];\n      } else if (geometryBuffer.buffer instanceof _core.Buffer) {\n        var byteStride = geometryBuffer.stride || this.positionSize * 4;\n        vertexStarts = data.startIndices;\n        instanceCount = vertexStarts[data.length] || geometryBuffer.buffer.byteLength / byteStride;\n      } else {\n        var bufferValue = geometryBuffer.value || geometryBuffer;\n        var elementStride = geometryBuffer.stride / bufferValue.BYTES_PER_ELEMENT || this.positionSize;\n        vertexStarts = data.startIndices;\n        instanceCount = vertexStarts[data.length] || bufferValue.length / elementStride;\n      }\n\n      this._allocate(instanceCount, Boolean(dataRange));\n\n      this.indexStarts = indexStarts;\n      this.vertexStarts = vertexStarts;\n      this.instanceCount = instanceCount;\n      var context = {};\n\n      this._forEachGeometry(function (geometry, dataIndex) {\n        geometry = normalizedData[dataIndex] || geometry;\n        context.vertexStart = vertexStarts[dataIndex];\n        context.indexStart = indexStarts[dataIndex];\n        var vertexEnd = dataIndex < vertexStarts.length - 1 ? vertexStarts[dataIndex + 1] : instanceCount;\n        context.geometrySize = vertexEnd - vertexStarts[dataIndex];\n        context.geometryIndex = dataIndex;\n\n        _this.updateGeometryAttributes(geometry, context);\n      }, startRow, endRow);\n\n      this.vertexCount = indexStarts[indexStarts.length - 1];\n    }\n  }]);\n  return Tesselator;\n}();\n\nexports[\"default\"] = Tesselator;\n//# sourceMappingURL=tesselator.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_interopRequireDefault","defineProperty","_classCallCheck2","_createClass2","_iterableUtils","_typedArrayManager","_assert","_core","Tesselator","opts","arguments","undefined","_opts$attributes","attributes","typedArrayManager","vertexStarts","indexStarts","instanceCount","vertexCount","_attributeDefs","updateGeometry","seal","key","assign","_this$opts","data","_this$opts$buffers","buffers","getGeometry","geometryBuffer","positionFormat","dataChanged","_this$opts$normalize","normalize","positionSize","size","startIndices","getGeometryFromBuffer","positions","_iterator","_step","_rebuildGeometry","updatePartialGeometry","_ref","startRow","endRow","normalizeGeometry","geometry","updateGeometryAttributes","startIndex","Error","getGeometrySize","ArrayBuffer","isView","getAccessorFromBuffer","offset","stride","_allocate","copy","release","def","allocate","_forEachGeometry","visitor","_createIterable","createIterable","objectInfo","_iterator2","iterable","_step2","object","index","dataRange","_this","_ref2","_ref2$startRow","_ref2$endRow","Infinity","normalizedData","dataIndex","buffer","Buffer","byteStride","byteLength","bufferValue","elementStride","BYTES_PER_ELEMENT","context","vertexStart","indexStart","geometrySize","vertexEnd","geometryIndex"]
}
