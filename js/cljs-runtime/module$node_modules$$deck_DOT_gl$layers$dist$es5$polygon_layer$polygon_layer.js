shadow$provide.module$node_modules$$deck_DOT_gl$layers$dist$es5$polygon_layer$polygon_layer=function(global,require,module,exports){function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;
},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,
minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=
_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;
try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),
_inherits2=module(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=module(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=module(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_solidPolygonLayer=module(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$solid_polygon_layer$solid_polygon_layer")),_pathLayer=module(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$path_layer$path_layer")),
Polygon=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$solid_polygon_layer$polygon")),_utils=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$utils"),defaultLineColor=[0,0,0,255];require={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:function(f){return f.polygon}},
getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:defaultLineColor},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1E3},material:!0};global=function(_CompositeLayer){function PolygonLayer(){(0,_classCallCheck2["default"])(this,PolygonLayer);return _super.apply(this,arguments)}(0,_inherits2["default"])(PolygonLayer,_CompositeLayer);var _super=_createSuper(PolygonLayer);(0,_createClass2["default"])(PolygonLayer,[{key:"initializeState",value:function(){this.state=
{paths:[]};this.props.getLineDashArray&&_core.log.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(_ref){var _this=this;_ref=_ref.changeFlags;var geometryChanged=_ref.dataChanged||_ref.updateTriggersChanged&&(_ref.updateTriggersChanged.all||_ref.updateTriggersChanged.getPolygon);if(geometryChanged&&Array.isArray(_ref.dataChanged)){var paths=this.state.paths.slice();_ref=_ref.dataChanged.map(function(dataRange){return(0,_utils.replaceInRange)({data:paths,getIndex:function(p){return p.__source.index},
dataRange,replace:_this._getPaths(dataRange)})});this.setState({paths,pathsDiff:_ref})}else geometryChanged&&this.setState({paths:this._getPaths(),pathsDiff:null})}},{key:"_getPaths",value:function(){var dataRange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_this$props=this.props,data=_this$props.data,getPolygon=_this$props.getPolygon,_normalize=_this$props._normalize,paths=[];_this$props="XY"===_this$props.positionFormat?2:3;var startRow=dataRange.startRow;dataRange=dataRange.endRow;
dataRange=(0,_core.createIterable)(data,startRow,dataRange);data=dataRange.objectInfo;dataRange=_createForOfIteratorHelper(dataRange.iterable);var _step;try{for(dataRange.s();!(_step=dataRange.n()).done;){var object=_step.value;data.index++;var polygon=getPolygon(object,data);_normalize&&(polygon=Polygon.normalize(polygon,_this$props));var holeIndices=polygon.holeIndices,positions=polygon.positions||polygon;if(holeIndices)for(startRow=0;startRow<=holeIndices.length;startRow++){var path=positions.slice(holeIndices[startRow-
1]||0,holeIndices[startRow]||positions.length);paths.push(this.getSubLayerRow({path},object,data.index))}else paths.push(this.getSubLayerRow({path:positions},object,data.index))}}catch(err){dataRange.e(err)}finally{dataRange.f()}return paths}},{key:"renderLayers",value:function(){var _this$props2=this.props,data=_this$props2.data,_dataDiff=_this$props2._dataDiff,stroked=_this$props2.stroked,filled=_this$props2.filled,extruded=_this$props2.extruded,wireframe=_this$props2.wireframe,_normalize=_this$props2._normalize,
_windingOrder=_this$props2._windingOrder,elevationScale=_this$props2.elevationScale,transitions=_this$props2.transitions;_this$props2=_this$props2.positionFormat;var _this$props3=this.props,lineWidthUnits=_this$props3.lineWidthUnits,lineWidthScale=_this$props3.lineWidthScale,lineWidthMinPixels=_this$props3.lineWidthMinPixels,lineWidthMaxPixels=_this$props3.lineWidthMaxPixels,lineJointRounded=_this$props3.lineJointRounded,lineMiterLimit=_this$props3.lineMiterLimit;_this$props3=_this$props3.lineDashJustified;
var _this$props4=this.props,getFillColor=_this$props4.getFillColor,getLineColor=_this$props4.getLineColor,getLineWidth=_this$props4.getLineWidth,getLineDashArray=_this$props4.getLineDashArray,getElevation=_this$props4.getElevation,getPolygon=_this$props4.getPolygon,updateTriggers=_this$props4.updateTriggers,material=_this$props4.material,_this$state=this.state;_this$props4=_this$state.paths;var pathsDiff=_this$state.pathsDiff,FillLayer=this.getSubLayerClass("fill",_solidPolygonLayer["default"]);_this$state=
this.getSubLayerClass("stroke",_pathLayer["default"]);data=this.shouldRenderSubLayer("fill",_this$props4)&&new FillLayer({_dataDiff,extruded,elevationScale,filled,wireframe,_normalize,_windingOrder,getElevation,getFillColor,getLineColor:extruded&&wireframe?getLineColor:defaultLineColor,material,transitions},this.getSubLayerProps({id:"fill",updateTriggers:{getPolygon:updateTriggers.getPolygon,getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,lineColors:extruded&&wireframe,
getLineColor:updateTriggers.getLineColor}}),{data,positionFormat:_this$props2,getPolygon});stroked=!extruded&&stroked&&this.shouldRenderSubLayer("stroke",_this$props4)&&new _this$state({_dataDiff:pathsDiff&&function(){return pathsDiff},widthUnits:lineWidthUnits,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:_this$props3,_pathType:"loop",transitions:transitions&&{getWidth:transitions.getLineWidth,
getColor:transitions.getLineColor,getPath:transitions.getPolygon},getColor:this.getSubLayerAccessor(getLineColor),getWidth:this.getSubLayerAccessor(getLineWidth),getDashArray:this.getSubLayerAccessor(getLineDashArray)},this.getSubLayerProps({id:"stroke",updateTriggers:{getWidth:updateTriggers.getLineWidth,getColor:updateTriggers.getLineColor,getDashArray:updateTriggers.getLineDashArray}}),{data:_this$props4,positionFormat:_this$props2,getPath:function(x){return x.path}});return[!extruded&&data,stroked,
extruded&&data]}}]);return PolygonLayer}(_core.CompositeLayer);exports["default"]=global;global.layerName="PolygonLayer";global.defaultProps=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$layers$dist$es5$polygon_layer$polygon_layer.js.map
