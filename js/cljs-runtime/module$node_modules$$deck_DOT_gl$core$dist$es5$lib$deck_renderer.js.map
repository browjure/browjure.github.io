{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$deck_renderer.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lib/deck-renderer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$deck_renderer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _debug = _interopRequireDefault(require(\"../debug\"));\n\nvar _drawLayersPass = _interopRequireDefault(require(\"../passes/draw-layers-pass\"));\n\nvar _pickLayersPass = _interopRequireDefault(require(\"../passes/pick-layers-pass\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar TRACE_RENDER_LAYERS = 'deckRenderer.renderLayers';\n\nvar DeckRenderer = function () {\n  function DeckRenderer(gl) {\n    (0, _classCallCheck2[\"default\"])(this, DeckRenderer);\n    this.gl = gl;\n    this.layerFilter = null;\n    this.drawPickingColors = false;\n    this.drawLayersPass = new _drawLayersPass[\"default\"](gl);\n    this.pickLayersPass = new _pickLayersPass[\"default\"](gl);\n    this.renderCount = 0;\n    this._needsRedraw = 'Initial render';\n    this.renderBuffers = [];\n    this.lastPostProcessEffect = null;\n    this._onError = null;\n  }\n\n  (0, _createClass2[\"default\"])(DeckRenderer, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('layerFilter' in props && this.layerFilter !== props.layerFilter) {\n        this.layerFilter = props.layerFilter;\n        this._needsRedraw = 'layerFilter changed';\n      }\n\n      if ('drawPickingColors' in props && this.drawPickingColors !== props.drawPickingColors) {\n        this.drawPickingColors = props.drawPickingColors;\n        this._needsRedraw = 'drawPickingColors changed';\n      }\n\n      if ('onError' in props) {\n        this._onError = props.onError;\n      }\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers(opts) {\n      var layerPass = this.drawPickingColors ? this.pickLayersPass : this.drawLayersPass;\n      opts.layerFilter = this.layerFilter;\n      opts.onError = this._onError;\n      opts.effects = opts.effects || [];\n      opts.target = opts.target || _core.Framebuffer.getDefaultFramebuffer(this.gl);\n\n      this._preRender(opts.effects, opts);\n\n      var outputBuffer = this.lastPostProcessEffect ? this.renderBuffers[0] : opts.target;\n      var renderStats = layerPass.render(_objectSpread(_objectSpread({}, opts), {}, {\n        target: outputBuffer\n      }));\n\n      this._postRender(opts.effects, opts);\n\n      this.renderCount++;\n      (0, _debug[\"default\"])(TRACE_RENDER_LAYERS, this, renderStats, opts);\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var renderBuffers = this.renderBuffers;\n\n      var _iterator = _createForOfIteratorHelper(renderBuffers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var buffer = _step.value;\n          buffer[\"delete\"]();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      renderBuffers.length = 0;\n    }\n  }, {\n    key: \"_preRender\",\n    value: function _preRender(effects, opts) {\n      var lastPostProcessEffect = null;\n\n      var _iterator2 = _createForOfIteratorHelper(effects),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var effect = _step2.value;\n          effect.preRender(this.gl, opts);\n\n          if (effect.postRender) {\n            lastPostProcessEffect = effect;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (lastPostProcessEffect) {\n        this._resizeRenderBuffers();\n      }\n\n      this.lastPostProcessEffect = lastPostProcessEffect;\n    }\n  }, {\n    key: \"_resizeRenderBuffers\",\n    value: function _resizeRenderBuffers() {\n      var renderBuffers = this.renderBuffers;\n\n      if (renderBuffers.length === 0) {\n        renderBuffers.push(new _core.Framebuffer(this.gl), new _core.Framebuffer(this.gl));\n      }\n\n      var _iterator3 = _createForOfIteratorHelper(renderBuffers),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var buffer = _step3.value;\n          buffer.resize();\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"_postRender\",\n    value: function _postRender(effects, opts) {\n      var renderBuffers = this.renderBuffers;\n      var params = {\n        inputBuffer: renderBuffers[0],\n        swapBuffer: renderBuffers[1],\n        target: null\n      };\n\n      var _iterator4 = _createForOfIteratorHelper(effects),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var effect = _step4.value;\n\n          if (effect.postRender) {\n            if (effect === this.lastPostProcessEffect) {\n              params.target = opts.target;\n              effect.postRender(this.gl, params);\n              break;\n            }\n\n            var buffer = effect.postRender(this.gl, params);\n            params.inputBuffer = buffer;\n            params.swapBuffer = buffer === renderBuffers[0] ? renderBuffers[1] : renderBuffers[0];\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }]);\n  return DeckRenderer;\n}();\n\nexports[\"default\"] = DeckRenderer;\n//# sourceMappingURL=deck-renderer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_interopRequireDefault","_classCallCheck2","_createClass2","_debug","_drawLayersPass","_pickLayersPass","_core","DeckRenderer","gl","layerFilter","drawPickingColors","drawLayersPass","pickLayersPass","renderCount","_needsRedraw","renderBuffers","_onError","lastPostProcessEffect","setProps","props","onError","renderLayers","opts","layerPass","effects","Framebuffer","getDefaultFramebuffer","_preRender","outputBuffer","renderStats","render","_postRender","TRACE_RENDER_LAYERS","needsRedraw","redraw","undefined","clearRedrawFlags","finalize","_iterator","_step","_iterator2","_step2","effect","preRender","postRender","_resizeRenderBuffers","_iterator3","_step3","resize","params","inputBuffer","swapBuffer","_iterator4","_step4","buffer"]
}
