{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$passes$layers_pass.js",
"lineCount":18,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/passes/layers-pass.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$passes$layers_pass\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.layerIndexResolver = layerIndexResolver;\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _pass = _interopRequireDefault(require(\"./pass\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nvar _log = _interopRequireDefault(require(\"../utils/log\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar LayersPass = function (_Pass) {\n  (0, _inherits2[\"default\"])(LayersPass, _Pass);\n\n  var _super = _createSuper(LayersPass);\n\n  function LayersPass() {\n    (0, _classCallCheck2[\"default\"])(this, LayersPass);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(LayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      var gl = this.gl;\n      (0, _core.setParameters)(gl, {\n        framebuffer: props.target\n      });\n      return this._drawLayers(props);\n    }\n  }, {\n    key: \"_drawLayers\",\n    value: function _drawLayers(props) {\n      var viewports = props.viewports,\n          views = props.views,\n          onViewportActive = props.onViewportActive,\n          _props$clearCanvas = props.clearCanvas,\n          clearCanvas = _props$clearCanvas === void 0 ? true : _props$clearCanvas;\n      var gl = this.gl;\n\n      if (clearCanvas) {\n        clearGLCanvas(gl);\n      }\n\n      var renderStats = [];\n\n      var _iterator = _createForOfIteratorHelper(viewports),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var viewportOrDescriptor = _step.value;\n          var viewport = viewportOrDescriptor.viewport || viewportOrDescriptor;\n          var view = views && views[viewport.id];\n          onViewportActive(viewport);\n\n          var drawLayerParams = this._getDrawLayerParams(viewport, props);\n\n          props.view = view;\n          var subViewports = viewport.subViewports || [viewport];\n\n          var _iterator2 = _createForOfIteratorHelper(subViewports),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var subViewport = _step2.value;\n              props.viewport = subViewport;\n\n              var stats = this._drawLayersInViewport(gl, props, drawLayerParams);\n\n              renderStats.push(stats);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return renderStats;\n    }\n  }, {\n    key: \"_getDrawLayerParams\",\n    value: function _getDrawLayerParams(viewport, _ref) {\n      var layers = _ref.layers,\n          _ref$pass = _ref.pass,\n          pass = _ref$pass === void 0 ? 'unknown' : _ref$pass,\n          layerFilter = _ref.layerFilter,\n          effects = _ref.effects,\n          moduleParameters = _ref.moduleParameters;\n      var drawLayerParams = [];\n      var indexResolver = layerIndexResolver();\n\n      for (var layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n        var layer = layers[layerIndex];\n\n        var shouldDrawLayer = this._shouldDrawLayer(layer, viewport, pass, layerFilter);\n\n        var layerRenderIndex = indexResolver(layer, shouldDrawLayer);\n        var layerParam = {\n          shouldDrawLayer: shouldDrawLayer,\n          layerRenderIndex: layerRenderIndex\n        };\n\n        if (shouldDrawLayer) {\n          layerParam.moduleParameters = this._getModuleParameters(layer, effects, pass, moduleParameters);\n          layerParam.layerParameters = this.getLayerParameters(layer, layerIndex);\n        }\n\n        drawLayerParams[layerIndex] = layerParam;\n      }\n\n      return drawLayerParams;\n    }\n  }, {\n    key: \"_drawLayersInViewport\",\n    value: function _drawLayersInViewport(gl, _ref2, drawLayerParams) {\n      var layers = _ref2.layers,\n          onError = _ref2.onError,\n          viewport = _ref2.viewport,\n          view = _ref2.view;\n      var glViewport = getGLViewport(gl, {\n        viewport: viewport\n      });\n\n      if (view && view.props.clear) {\n        var clearOpts = view.props.clear === true ? {\n          color: true,\n          depth: true\n        } : view.props.clear;\n        (0, _core.withParameters)(gl, {\n          scissorTest: true,\n          scissor: glViewport\n        }, function () {\n          return (0, _core.clear)(gl, clearOpts);\n        });\n      }\n\n      var renderStatus = {\n        totalCount: layers.length,\n        visibleCount: 0,\n        compositeCount: 0,\n        pickableCount: 0\n      };\n      (0, _core.setParameters)(gl, {\n        viewport: glViewport\n      });\n\n      for (var layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n        var layer = layers[layerIndex];\n        var _drawLayerParams$laye = drawLayerParams[layerIndex],\n            shouldDrawLayer = _drawLayerParams$laye.shouldDrawLayer,\n            layerRenderIndex = _drawLayerParams$laye.layerRenderIndex,\n            moduleParameters = _drawLayerParams$laye.moduleParameters,\n            layerParameters = _drawLayerParams$laye.layerParameters;\n\n        if (shouldDrawLayer && layer.props.pickable) {\n          renderStatus.pickableCount++;\n        }\n\n        if (layer.isComposite) {\n          renderStatus.compositeCount++;\n        } else if (shouldDrawLayer) {\n          renderStatus.visibleCount++;\n          moduleParameters.viewport = viewport;\n\n          try {\n            layer.drawLayer({\n              moduleParameters: moduleParameters,\n              uniforms: {\n                layerIndex: layerRenderIndex\n              },\n              parameters: layerParameters\n            });\n          } catch (err) {\n            if (onError) {\n              onError(err, layer);\n            } else {\n              _log[\"default\"].error(\"error during drawing of \".concat(layer), err)();\n            }\n          }\n        }\n      }\n\n      return renderStatus;\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return true;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters(layer, effects) {\n      return null;\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex) {\n      return layer.props.parameters;\n    }\n  }, {\n    key: \"_shouldDrawLayer\",\n    value: function _shouldDrawLayer(layer, viewport, pass, layerFilter) {\n      var shouldDrawLayer = this.shouldDrawLayer(layer) && layer.props.visible;\n\n      if (shouldDrawLayer && layerFilter) {\n        shouldDrawLayer = layerFilter({\n          layer: layer,\n          viewport: viewport,\n          isPicking: pass.startsWith('picking'),\n          renderPass: pass\n        });\n      }\n\n      if (shouldDrawLayer) {\n        layer.activateViewport(viewport);\n      }\n\n      return shouldDrawLayer;\n    }\n  }, {\n    key: \"_getModuleParameters\",\n    value: function _getModuleParameters(layer, effects, pass, overrides) {\n      var moduleParameters = Object.assign(Object.create(layer.props), {\n        autoWrapLongitude: layer.wrapLongitude,\n        viewport: layer.context.viewport,\n        mousePosition: layer.context.mousePosition,\n        pickingActive: 0,\n        devicePixelRatio: (0, _core.cssToDeviceRatio)(this.gl)\n      });\n\n      if (effects) {\n        var _iterator3 = _createForOfIteratorHelper(effects),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var effect = _step3.value;\n            Object.assign(moduleParameters, effect.getModuleParameters(layer));\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n\n      return Object.assign(moduleParameters, this.getModuleParameters(layer, effects), overrides);\n    }\n  }]);\n  return LayersPass;\n}(_pass[\"default\"]);\n\nexports[\"default\"] = LayersPass;\n\nfunction layerIndexResolver() {\n  var startIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var layerIndices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var resolvers = {};\n\n  var resolveLayerIndex = function resolveLayerIndex(layer, isDrawn) {\n    var indexOverride = layer.props._offset;\n    var layerId = layer.id;\n    var parentId = layer.parent && layer.parent.id;\n    var index;\n\n    if (parentId && !(parentId in layerIndices)) {\n      resolveLayerIndex(layer.parent, false);\n    }\n\n    if (parentId in resolvers) {\n      var resolver = resolvers[parentId] = resolvers[parentId] || layerIndexResolver(layerIndices[parentId], layerIndices);\n      index = resolver(layer, isDrawn);\n      resolvers[layerId] = resolver;\n    } else if (Number.isFinite(indexOverride)) {\n      index = indexOverride + (layerIndices[parentId] || 0);\n      resolvers[layerId] = null;\n    } else {\n      index = startIndex;\n    }\n\n    if (isDrawn && index >= startIndex) {\n      startIndex = index + 1;\n    }\n\n    layerIndices[layerId] = index;\n    return index;\n  };\n\n  return resolveLayerIndex;\n}\n\nfunction getGLViewport(gl, _ref3) {\n  var viewport = _ref3.viewport;\n  var height = gl.canvas ? gl.canvas.clientHeight || gl.canvas.height : 100;\n  var dimensions = viewport;\n  var pixelRatio = (0, _core.cssToDeviceRatio)(gl);\n  return [dimensions.x * pixelRatio, (height - dimensions.y - dimensions.height) * pixelRatio, dimensions.width * pixelRatio, dimensions.height * pixelRatio];\n}\n\nfunction clearGLCanvas(gl) {\n  var width = gl.drawingBufferWidth;\n  var height = gl.drawingBufferHeight;\n  (0, _core.setParameters)(gl, {\n    viewport: [0, 0, width, height]\n  });\n  gl.clear(16384 | 256);\n}\n//# sourceMappingURL=layers-pass.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","layerIndexResolver","startIndex","undefined","layerIndices","resolvers","resolveLayerIndex","layer","isDrawn","indexOverride","props","_offset","layerId","id","parentId","parent","resolver","index","Number","isFinite","getGLViewport","gl","_ref3","height","canvas","clientHeight","dimensions","viewport","pixelRatio","_core","cssToDeviceRatio","x","y","width","_interopRequireDefault","defineProperty","_classCallCheck2","_createClass2","_inherits2","_pass","_log","LayersPass","_Pass","_super","key","render","setParameters","framebuffer","target","_drawLayers","viewports","views","onViewportActive","_props$clearCanvas","clearCanvas","drawingBufferWidth","drawingBufferHeight","clear","renderStats","_iterator","_step","viewportOrDescriptor","view","drawLayerParams","_getDrawLayerParams","_iterator2","subViewports","_step2","stats","_drawLayersInViewport","push","_ref","layers","_ref$pass","pass","layerFilter","effects","moduleParameters","indexResolver","layerIndex","shouldDrawLayer","_shouldDrawLayer","layerRenderIndex","layerParam","_getModuleParameters","layerParameters","getLayerParameters","_ref2","onError","glViewport","clearOpts","color","depth","withParameters","scissorTest","scissor","renderStatus","totalCount","visibleCount","compositeCount","pickableCount","_drawLayerParams$laye","pickable","isComposite","drawLayer","uniforms","parameters","error","concat","getModuleParameters","visible","isPicking","startsWith","renderPass","activateViewport","overrides","assign","create","autoWrapLongitude","wrapLongitude","context","mousePosition","pickingActive","devicePixelRatio","_iterator3","_step3"]
}
