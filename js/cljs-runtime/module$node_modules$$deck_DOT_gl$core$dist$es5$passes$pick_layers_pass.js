shadow$provide.module$node_modules$$deck_DOT_gl$core$dist$es5$passes$pick_layers_pass=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=
(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),!0}catch(e){return!1}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),
_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf"));global=global(require("module$node_modules$$deck_DOT_gl$core$dist$es5$passes$layers_pass"));var _core=require("module$node_modules$$luma_DOT_gl$core$dist$es5$index"),PICKING_PARAMETERS={blendFunc:[1,0,32771,0],
blendEquation:32774};require=function(_LayersPass){function PickLayersPass(){(0,_classCallCheck2["default"])(this,PickLayersPass);return _super.apply(this,arguments)}(0,_inherits2["default"])(PickLayersPass,_LayersPass);var _super=_createSuper(PickLayersPass);(0,_createClass2["default"])(PickLayersPass,[{key:"render",value:function(props){props.pickingFBO?(this.useAlpha=!0,this._drawPickingBuffer(props)):(this.useAlpha=!1,(0,_get2["default"])((0,_getPrototypeOf2["default"])(PickLayersPass.prototype),
"render",this).call(this,props))}},{key:"_drawPickingBuffer",value:function(_ref){var _this=this,layers=_ref.layers,layerFilter=_ref.layerFilter,views=_ref.views,viewports=_ref.viewports,onViewportActive=_ref.onViewportActive,pickingFBO=_ref.pickingFBO,_ref$deviceRect=_ref.deviceRect,x=_ref$deviceRect.x,y=_ref$deviceRect.y,width=_ref$deviceRect.width;_ref$deviceRect=_ref$deviceRect.height;var _ref$pass=_ref.pass,pass=void 0===_ref$pass?"picking":_ref$pass,redrawReason=_ref.redrawReason;_ref=_ref.pickZ;
_ref$pass=this.gl;this.pickZ=_ref;return(0,_core.withParameters)(_ref$pass,_objectSpread(_objectSpread({scissorTest:!0,scissor:[x,y,width,_ref$deviceRect],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},PICKING_PARAMETERS),{},{blend:!_ref}),function(){(0,_get2["default"])((0,_getPrototypeOf2["default"])(PickLayersPass.prototype),"render",_this).call(_this,{target:pickingFBO,layers,layerFilter,views,viewports,onViewportActive,pass,redrawReason})})}},{key:"shouldDrawLayer",
value:function(layer){return layer.props.pickable}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(layer,layerIndex){layerIndex=this.pickZ?{blend:!1}:_objectSpread(_objectSpread({},PICKING_PARAMETERS),{},{blend:!0,blendColor:[0,0,0,this.useAlpha?(layerIndex+1)/255:1]});return Object.assign({},layer.props.parameters,layerIndex)}}]);return PickLayersPass}(global["default"]);exports["default"]=
require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$core$dist$es5$passes$pick_layers_pass.js.map
