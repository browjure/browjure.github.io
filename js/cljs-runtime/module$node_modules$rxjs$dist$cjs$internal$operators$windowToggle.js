shadow$provide.module$node_modules$rxjs$dist$cjs$internal$operators$windowToggle=function(global,require,module,exports){var __values=this&&this.__values||function(o){var s="function"===typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"===typeof o.length)return{next:function(){o&&i>=o.length&&(o=void 0);return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");};Object.defineProperty(exports,"__esModule",{value:!0});
exports.windowToggle=void 0;var Subject_1=require("module$node_modules$rxjs$dist$cjs$internal$Subject"),Subscription_1=require("module$node_modules$rxjs$dist$cjs$internal$Subscription"),lift_1=require("module$node_modules$rxjs$dist$cjs$internal$util$lift"),from_1=require("module$node_modules$rxjs$dist$cjs$internal$observable$from"),OperatorSubscriber_1=require("module$node_modules$rxjs$dist$cjs$internal$operators$OperatorSubscriber"),noop_1=require("module$node_modules$rxjs$dist$cjs$internal$util$noop"),
arrRemove_1=require("module$node_modules$rxjs$dist$cjs$internal$util$arrRemove");exports.windowToggle=function(openings,closingSelector){return lift_1.operate(function(source,subscriber){var windows=[],handleError=function(err){for(;0<windows.length;)windows.shift().error(err);subscriber.error(err)};from_1.innerFrom(openings).subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber,function(openValue){var window=new Subject_1.Subject;windows.push(window);var closingSubscription=new Subscription_1.Subscription;
try{var closingNotifier=from_1.innerFrom(closingSelector(openValue))}catch(err){handleError(err);return}subscriber.next(window.asObservable());closingSubscription.add(closingNotifier.subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber,function(){arrRemove_1.arrRemove(windows,window);window.complete();closingSubscription.unsubscribe()},handleError,noop_1.noop)))},void 0,noop_1.noop));source.subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber,function(value){var _a,windowsCopy=
windows.slice();try{for(var windowsCopy_1=__values(windowsCopy),windowsCopy_1_1=windowsCopy_1.next();!windowsCopy_1_1.done;windowsCopy_1_1=windowsCopy_1.next())windowsCopy_1_1.value.next(value)}catch(e_1_1){var e_1={error:e_1_1}}finally{try{windowsCopy_1_1&&!windowsCopy_1_1.done&&(_a=windowsCopy_1.return)&&_a.call(windowsCopy_1)}finally{if(e_1)throw e_1.error;}}},handleError,function(){for(;0<windows.length;)windows.shift().complete();subscriber.complete()},function(){for(;0<windows.length;)windows.shift().unsubscribe()}))})}}
//# sourceMappingURL=module$node_modules$rxjs$dist$cjs$internal$operators$windowToggle.js.map
