{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$gpu_grid_layer$gpu_grid_cell_layer.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/aggregation-layers/dist/es5/gpu-grid-layer/gpu-grid-cell-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$gpu_grid_layer$gpu_grid_cell_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _shadertools = require(\"@luma.gl/shadertools\");\n\nvar _colorUtils = require(\"../utils/color-utils\");\n\nvar _gpuGridCellLayerVertex = _interopRequireDefault(require(\"./gpu-grid-cell-layer-vertex.glsl\"));\n\nvar _gpuGridCellLayerFragment = _interopRequireDefault(require(\"./gpu-grid-cell-layer-fragment.glsl\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar COLOR_DATA_UBO_INDEX = 0;\nvar ELEVATION_DATA_UBO_INDEX = 1;\nvar defaultProps = {\n  colorDomain: null,\n  colorRange: _colorUtils.defaultColorRange,\n  elevationDomain: null,\n  elevationRange: [0, 1000],\n  elevationScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  gridSize: {\n    type: 'array',\n    min: 0,\n    value: [1, 1]\n  },\n  gridOrigin: {\n    type: 'array',\n    min: 0,\n    value: [0, 0]\n  },\n  gridOffset: {\n    type: 'array',\n    min: 0,\n    value: [0, 0]\n  },\n  cellSize: {\n    type: 'number',\n    min: 0,\n    max: 1000,\n    value: 1000\n  },\n  offset: {\n    type: 'array',\n    min: 0,\n    value: [1, 1]\n  },\n  coverage: {\n    type: 'number',\n    min: 0,\n    max: 1,\n    value: 1\n  },\n  extruded: true,\n  material: true\n};\n\nvar GPUGridCellLayer = function (_Layer) {\n  (0, _inherits2[\"default\"])(GPUGridCellLayer, _Layer);\n\n  var _super = _createSuper(GPUGridCellLayer);\n\n  function GPUGridCellLayer() {\n    (0, _classCallCheck2[\"default\"])(this, GPUGridCellLayer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(GPUGridCellLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(GPUGridCellLayer.prototype), \"getShaders\", this).call(this, {\n        vs: _gpuGridCellLayerVertex[\"default\"],\n        fs: _gpuGridCellLayerFragment[\"default\"],\n        modules: [_core.project32, _core.gouraudLighting, _core.picking, _shadertools.fp64arithmetic]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var gl = this.context.gl;\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        colors: {\n          size: 4,\n          noAlloc: true\n        },\n        elevations: {\n          size: 4,\n          noAlloc: true\n        }\n      });\n\n      var model = this._getModel(gl);\n\n      this._setupUniformBuffer(model);\n\n      this.setState({\n        model: model\n      });\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      return new _core2.Model(gl, Object.assign({}, this.getShaders(), {\n        id: this.props.id,\n        geometry: new _core2.CubeGeometry(),\n        isInstanced: true\n      }));\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref) {\n      var uniforms = _ref.uniforms;\n      var _this$props = this.props,\n          cellSize = _this$props.cellSize,\n          offset = _this$props.offset,\n          extruded = _this$props.extruded,\n          elevationScale = _this$props.elevationScale,\n          coverage = _this$props.coverage,\n          gridSize = _this$props.gridSize,\n          gridOrigin = _this$props.gridOrigin,\n          gridOffset = _this$props.gridOffset,\n          elevationRange = _this$props.elevationRange,\n          colorMaxMinBuffer = _this$props.colorMaxMinBuffer,\n          elevationMaxMinBuffer = _this$props.elevationMaxMinBuffer;\n      var gridOriginLow = [(0, _core.fp64LowPart)(gridOrigin[0]), (0, _core.fp64LowPart)(gridOrigin[1])];\n      var gridOffsetLow = [(0, _core.fp64LowPart)(gridOffset[0]), (0, _core.fp64LowPart)(gridOffset[1])];\n      var domainUniforms = this.getDomainUniforms();\n      var colorRange = (0, _colorUtils.colorRangeToFlatArray)(this.props.colorRange);\n      this.bindUniformBuffers(colorMaxMinBuffer, elevationMaxMinBuffer);\n      this.state.model.setUniforms(Object.assign({}, uniforms, domainUniforms, {\n        cellSize: cellSize,\n        offset: offset,\n        extruded: extruded,\n        elevationScale: elevationScale,\n        coverage: coverage,\n        gridSize: gridSize,\n        gridOrigin: gridOrigin,\n        gridOriginLow: gridOriginLow,\n        gridOffset: gridOffset,\n        gridOffsetLow: gridOffsetLow,\n        colorRange: colorRange,\n        elevationRange: elevationRange\n      })).draw();\n      this.unbindUniformBuffers(colorMaxMinBuffer, elevationMaxMinBuffer);\n    }\n  }, {\n    key: \"bindUniformBuffers\",\n    value: function bindUniformBuffers(colorMaxMinBuffer, elevationMaxMinBuffer) {\n      colorMaxMinBuffer.bind({\n        target: 35345,\n        index: COLOR_DATA_UBO_INDEX\n      });\n      elevationMaxMinBuffer.bind({\n        target: 35345,\n        index: ELEVATION_DATA_UBO_INDEX\n      });\n    }\n  }, {\n    key: \"unbindUniformBuffers\",\n    value: function unbindUniformBuffers(colorMaxMinBuffer, elevationMaxMinBuffer) {\n      colorMaxMinBuffer.unbind({\n        target: 35345,\n        index: COLOR_DATA_UBO_INDEX\n      });\n      elevationMaxMinBuffer.unbind({\n        target: 35345,\n        index: ELEVATION_DATA_UBO_INDEX\n      });\n    }\n  }, {\n    key: \"getDomainUniforms\",\n    value: function getDomainUniforms() {\n      var _this$props2 = this.props,\n          colorDomain = _this$props2.colorDomain,\n          elevationDomain = _this$props2.elevationDomain;\n      var domainUniforms = {};\n\n      if (colorDomain !== null) {\n        domainUniforms.colorDomainValid = true;\n        domainUniforms.colorDomain = colorDomain;\n      } else {\n        domainUniforms.colorDomainValid = false;\n      }\n\n      if (elevationDomain !== null) {\n        domainUniforms.elevationDomainValid = true;\n        domainUniforms.elevationDomain = elevationDomain;\n      } else {\n        domainUniforms.elevationDomainValid = false;\n      }\n\n      return domainUniforms;\n    }\n  }, {\n    key: \"_setupUniformBuffer\",\n    value: function _setupUniformBuffer(model) {\n      var gl = this.context.gl;\n      var programHandle = model.program.handle;\n      var colorIndex = gl.getUniformBlockIndex(programHandle, 'ColorData');\n      var elevationIndex = gl.getUniformBlockIndex(programHandle, 'ElevationData');\n      gl.uniformBlockBinding(programHandle, colorIndex, COLOR_DATA_UBO_INDEX);\n      gl.uniformBlockBinding(programHandle, elevationIndex, ELEVATION_DATA_UBO_INDEX);\n    }\n  }]);\n  return GPUGridCellLayer;\n}(_core.Layer);\n\nexports[\"default\"] = GPUGridCellLayer;\nGPUGridCellLayer.layerName = 'GPUGridCellLayer';\nGPUGridCellLayer.defaultProps = defaultProps;\n//# sourceMappingURL=gpu-grid-cell-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_get2","_inherits2","_core","_core2","_shadertools","_colorUtils","_gpuGridCellLayerVertex","_gpuGridCellLayerFragment","defaultProps","colorDomain","colorRange","defaultColorRange","elevationDomain","elevationRange","elevationScale","type","min","gridSize","gridOrigin","gridOffset","cellSize","max","offset","coverage","extruded","material","GPUGridCellLayer","_Layer","_super","key","getShaders","vs","fs","modules","project32","gouraudLighting","picking","fp64arithmetic","initializeState","gl","context","attributeManager","getAttributeManager","addInstanced","colors","size","noAlloc","elevations","model","_getModel","_setupUniformBuffer","setState","Model","assign","id","props","geometry","CubeGeometry","isInstanced","draw","_ref","uniforms","_this$props","colorMaxMinBuffer","elevationMaxMinBuffer","gridOriginLow","fp64LowPart","gridOffsetLow","domainUniforms","getDomainUniforms","colorRangeToFlatArray","bindUniformBuffers","state","setUniforms","unbindUniformBuffers","bind","target","index","COLOR_DATA_UBO_INDEX","ELEVATION_DATA_UBO_INDEX","unbind","_this$props2","colorDomainValid","elevationDomainValid","programHandle","program","handle","colorIndex","getUniformBlockIndex","elevationIndex","uniformBlockBinding","Layer","layerName"]
}
