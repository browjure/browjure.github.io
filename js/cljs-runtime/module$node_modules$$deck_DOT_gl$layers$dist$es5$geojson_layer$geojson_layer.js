shadow$provide.module$node_modules$$deck_DOT_gl$layers$dist$es5$geojson_layer$geojson_layer=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||
(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=o[Symbol.iterator]()},
n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,
minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,
_possibleConstructorReturn2["default"])(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=
global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),
_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_scatterplotLayer=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$scatterplot_layer$scatterplot_layer")),_pathLayer=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$path_layer$path_layer")),_solidPolygonLayer=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$solid_polygon_layer$solid_polygon_layer")),
_utils=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$utils"),_geojsonBinary=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$geojson_layer$geojson_binary"),_geojson=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$geojson_layer$geojson"),_geojsonLayerProps=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$geojson_layer$geojson_layer_props"),defaultLineColor=[0,0,0,255];require={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthUnits:"meters",lineWidthScale:1,
lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusUnits:"meters",pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:{type:"accessor",value:defaultLineColor},getFillColor:{type:"accessor",value:[0,0,0,255]},getRadius:{type:"accessor",value:1},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1E3},material:!0};global=function(_CompositeLayer){function GeoJsonLayer(){(0,
_classCallCheck2["default"])(this,GeoJsonLayer);return _super.apply(this,arguments)}(0,_inherits2["default"])(GeoJsonLayer,_CompositeLayer);var _super=_createSuper(GeoJsonLayer);(0,_createClass2["default"])(GeoJsonLayer,[{key:"initializeState",value:function(){this.state={layerProps:{},features:{}};this.props.getLineDashArray&&_core.log.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(_ref){var props=_ref.props;_ref=_ref.changeFlags;if(_ref.dataChanged){var data=
this.props.data;data=data&&"points"in data&&"polygons"in data&&"lines"in data;this.setState({binary:data});data?this._updateStateBinary({props,changeFlags:_ref}):this._updateStateJSON({props,changeFlags:_ref})}}},{key:"_updateStateBinary",value:function(_ref2){_ref2=_ref2.props;_ref2=(0,_geojsonLayerProps.createLayerPropsFromBinary)(_ref2.data,this.encodePickingColor);this.setState({layerProps:_ref2})}},{key:"_updateStateJSON",value:function(_ref3){var props=_ref3.props,changeFlags=_ref3.changeFlags,
features=(0,_geojson.getGeojsonFeatures)(props.data),wrapFeature=this.getSubLayerRow.bind(this);props={};_ref3={};if(Array.isArray(changeFlags.dataChanged)){var oldFeatures=this.state.features;for(key in oldFeatures)props[key]=oldFeatures[key].slice(),_ref3[key]=[];var key=_createForOfIteratorHelper(changeFlags.dataChanged);var _step;try{for(key.s();!(_step=key.n()).done;){var dataRange=_step.value,partialFeatures=(0,_geojson.separateGeojsonFeatures)(features,wrapFeature,dataRange),_key;for(_key in oldFeatures)_ref3[_key].push((0,
_utils.replaceInRange)({data:props[_key],getIndex:function(f){return f.__source.index},dataRange,replace:partialFeatures[_key]}))}}catch(err){key.e(err)}finally{key.f()}}else props=(0,_geojson.separateGeojsonFeatures)(features,wrapFeature);_step=(0,_geojsonLayerProps.createLayerPropsFromFeatures)(props,_ref3);this.setState({features:props,featuresDiff:_ref3,layerProps:_step})}},{key:"renderLayers",value:function(){var _this$props=this.props,stroked=_this$props.stroked,filled=_this$props.filled,extruded=
_this$props.extruded,wireframe=_this$props.wireframe,material=_this$props.material;_this$props=_this$props.transitions;var _this$props2=this.props,lineWidthUnits=_this$props2.lineWidthUnits,lineWidthScale=_this$props2.lineWidthScale,lineWidthMinPixels=_this$props2.lineWidthMinPixels,lineWidthMaxPixels=_this$props2.lineWidthMaxPixels,lineJointRounded=_this$props2.lineJointRounded,lineMiterLimit=_this$props2.lineMiterLimit,pointRadiusUnits=_this$props2.pointRadiusUnits,pointRadiusScale=_this$props2.pointRadiusScale,
pointRadiusMinPixels=_this$props2.pointRadiusMinPixels,pointRadiusMaxPixels=_this$props2.pointRadiusMaxPixels,elevationScale=_this$props2.elevationScale,lineDashJustified=_this$props2.lineDashJustified,_this$props3=this.props;_this$props2=_this$props3.getLineColor;var getFillColor=_this$props3.getFillColor,getRadius=_this$props3.getRadius,getLineWidth=_this$props3.getLineWidth,getLineDashArray=_this$props3.getLineDashArray,getElevation=_this$props3.getElevation;_this$props3=_this$props3.updateTriggers;
var PolygonFillLayer=this.getSubLayerClass("polygons-fill",_solidPolygonLayer["default"]),PolygonStrokeLayer=this.getSubLayerClass("polygons-stroke",_pathLayer["default"]),LineStringsLayer=this.getSubLayerClass("line-strings",_pathLayer["default"]),PointsLayer=this.getSubLayerClass("points",_scatterplotLayer["default"]),layerProps=this.state.layerProps;wireframe=this.shouldRenderSubLayer("polygons-fill",layerProps.polygons.data)&&new PolygonFillLayer({extruded,elevationScale,filled,wireframe,material,
getElevation:this.getSubLayerAccessor(getElevation),getFillColor:this.getSubLayerAccessor(getFillColor),getLineColor:this.getSubLayerAccessor(extruded&&wireframe?_this$props2:defaultLineColor),transitions:_this$props&&{getPolygon:_this$props.geometry,getElevation:_this$props.getElevation,getFillColor:_this$props.getFillColor,getLineColor:_this$props.getLineColor}},this.getSubLayerProps({id:"polygons-fill",updateTriggers:{getElevation:_this$props3.getElevation,getFillColor:_this$props3.getFillColor,
lineColors:extruded&&wireframe,getLineColor:_this$props3.getLineColor}}),layerProps.polygons);material=!extruded&&stroked&&this.shouldRenderSubLayer("polygons-stroke",layerProps.polygonsOutline.data)&&new PolygonStrokeLayer({widthUnits:lineWidthUnits,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:lineDashJustified,getColor:this.getSubLayerAccessor(_this$props2),getWidth:this.getSubLayerAccessor(getLineWidth),
getDashArray:this.getSubLayerAccessor(getLineDashArray),transitions:_this$props&&{getPath:_this$props.geometry,getColor:_this$props.getLineColor,getWidth:_this$props.getLineWidth}},this.getSubLayerProps({id:"polygons-stroke",updateTriggers:{getColor:_this$props3.getLineColor,getWidth:_this$props3.getLineWidth,getDashArray:_this$props3.getLineDashArray}}),layerProps.polygonsOutline);lineJointRounded=this.shouldRenderSubLayer("linestrings",layerProps.lines.data)&&new LineStringsLayer({widthUnits:lineWidthUnits,
widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:lineDashJustified,getColor:this.getSubLayerAccessor(_this$props2),getWidth:this.getSubLayerAccessor(getLineWidth),getDashArray:this.getSubLayerAccessor(getLineDashArray),transitions:_this$props&&{getPath:_this$props.geometry,getColor:_this$props.getLineColor,getWidth:_this$props.getLineWidth}},this.getSubLayerProps({id:"line-strings",updateTriggers:{getColor:_this$props3.getLineColor,
getWidth:_this$props3.getLineWidth,getDashArray:_this$props3.getLineDashArray}}),layerProps.lines);stroked=this.shouldRenderSubLayer("points",layerProps.points.data)&&new PointsLayer({stroked,filled,radiusUnits:pointRadiusUnits,radiusScale:pointRadiusScale,radiusMinPixels:pointRadiusMinPixels,radiusMaxPixels:pointRadiusMaxPixels,lineWidthUnits,lineWidthScale,lineWidthMinPixels,lineWidthMaxPixels,getFillColor:this.getSubLayerAccessor(getFillColor),getLineColor:this.getSubLayerAccessor(_this$props2),
getRadius:this.getSubLayerAccessor(getRadius),getLineWidth:this.getSubLayerAccessor(getLineWidth),transitions:_this$props&&{getPosition:_this$props.geometry,getFillColor:_this$props.getFillColor,getLineColor:_this$props.getLineColor,getRadius:_this$props.getRadius,getLineWidth:_this$props.getLineWidth}},this.getSubLayerProps({id:"points",updateTriggers:{getFillColor:_this$props3.getFillColor,getLineColor:_this$props3.getLineColor,getRadius:_this$props3.getRadius,getLineWidth:_this$props3.getLineWidth}}),
_objectSpread(_objectSpread({},layerProps.points),{},{highlightedObjectIndex:this._getHighlightedIndex(layerProps.points.data)}));return[!extruded&&wireframe,material,lineJointRounded,stroked,extruded&&wireframe]}},{key:"_getHighlightedIndex",value:function(data){var highlightedObjectIndex=this.props.highlightedObjectIndex;return this.state.binary?highlightedObjectIndex:Number.isFinite(highlightedObjectIndex)?data.findIndex(function(d){return d.__source.index===highlightedObjectIndex}):null}},{key:"getSubLayerAccessor",
value:function(accessor){return this.state.binary&&"function"===typeof accessor?function(object,info){object=info.data;var index=info.index;object=(0,_geojsonBinary.binaryToFeatureForAccesor)(object,index);return accessor(object,info)}:(0,_get2["default"])((0,_getPrototypeOf2["default"])(GeoJsonLayer.prototype),"getSubLayerAccessor",this).call(this,accessor)}}]);return GeoJsonLayer}(_core.CompositeLayer);exports["default"]=global;global.layerName="GeoJsonLayer";global.defaultProps=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$layers$dist$es5$geojson_layer$geojson_layer.js.map
