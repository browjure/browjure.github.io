{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$web_mercator_viewport.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/viewports/web-mercator-viewport.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$web_mercator_viewport\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _viewport = _interopRequireDefault(require(\"./viewport\"));\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar vec2 = _interopRequireWildcard(require(\"gl-matrix/vec2\"));\n\nvar _math = require(\"math.gl\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar WebMercatorViewport = function (_Viewport) {\n  (0, _inherits2[\"default\"])(WebMercatorViewport, _Viewport);\n\n  var _super = _createSuper(WebMercatorViewport);\n\n  function WebMercatorViewport() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, WebMercatorViewport);\n    var _opts$latitude = opts.latitude,\n        latitude = _opts$latitude === void 0 ? 0 : _opts$latitude,\n        _opts$longitude = opts.longitude,\n        longitude = _opts$longitude === void 0 ? 0 : _opts$longitude,\n        _opts$zoom = opts.zoom,\n        zoom = _opts$zoom === void 0 ? 11 : _opts$zoom,\n        _opts$pitch = opts.pitch,\n        pitch = _opts$pitch === void 0 ? 0 : _opts$pitch,\n        _opts$bearing = opts.bearing,\n        bearing = _opts$bearing === void 0 ? 0 : _opts$bearing,\n        _opts$nearZMultiplier = opts.nearZMultiplier,\n        nearZMultiplier = _opts$nearZMultiplier === void 0 ? 0.1 : _opts$nearZMultiplier,\n        _opts$farZMultiplier = opts.farZMultiplier,\n        farZMultiplier = _opts$farZMultiplier === void 0 ? 1.01 : _opts$farZMultiplier,\n        _opts$orthographic = opts.orthographic,\n        orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n        _opts$repeat = opts.repeat,\n        repeat = _opts$repeat === void 0 ? false : _opts$repeat,\n        _opts$worldOffset = opts.worldOffset,\n        worldOffset = _opts$worldOffset === void 0 ? 0 : _opts$worldOffset;\n    var width = opts.width,\n        height = opts.height,\n        _opts$altitude = opts.altitude,\n        altitude = _opts$altitude === void 0 ? 1.5 : _opts$altitude;\n    var scale = Math.pow(2, zoom);\n    width = width || 1;\n    height = height || 1;\n    altitude = Math.max(0.75, altitude);\n\n    var _getProjectionParamet = (0, _webMercator.getProjectionParameters)({\n      width: width,\n      height: height,\n      pitch: pitch,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    }),\n        fov = _getProjectionParamet.fov,\n        aspect = _getProjectionParamet.aspect,\n        focalDistance = _getProjectionParamet.focalDistance,\n        near = _getProjectionParamet.near,\n        far = _getProjectionParamet.far;\n\n    var viewMatrixUncentered = (0, _webMercator.getViewMatrix)({\n      height: height,\n      pitch: pitch,\n      bearing: bearing,\n      scale: scale,\n      altitude: altitude\n    });\n\n    if (worldOffset) {\n      var viewOffset = new _math.Matrix4().translate([512 * worldOffset, 0, 0]);\n      viewMatrixUncentered = viewOffset.multiplyLeft(viewMatrixUncentered);\n    }\n\n    var viewportOpts = Object.assign({}, opts, {\n      width: width,\n      height: height,\n      viewMatrix: viewMatrixUncentered,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom,\n      orthographic: orthographic,\n      fovyRadians: fov,\n      aspect: aspect,\n      focalDistance: orthographic ? focalDistance : 1,\n      near: near,\n      far: far\n    });\n    _this = _super.call(this, viewportOpts);\n    _this.latitude = latitude;\n    _this.longitude = longitude;\n    _this.zoom = zoom;\n    _this.pitch = pitch;\n    _this.bearing = bearing;\n    _this.altitude = altitude;\n    _this.orthographic = orthographic;\n    _this._subViewports = repeat ? [] : null;\n    Object.freeze((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(WebMercatorViewport, [{\n    key: \"addMetersToLngLat\",\n    value: function addMetersToLngLat(lngLatZ, xyz) {\n      return (0, _webMercator.addMetersToLngLat)(lngLatZ, xyz);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref) {\n      var lngLat = _ref.lngLat,\n          pos = _ref.pos;\n      var fromLocation = (0, _webMercator.pixelsToWorld)(pos, this.pixelUnprojectionMatrix);\n      var toLocation = this.projectFlat(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return this.unprojectFlat(newCenter);\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var corners = (0, _webMercator.getBounds)(this, options.z || 0);\n      return [Math.min(corners[0][0], corners[1][0], corners[2][0], corners[3][0]), Math.min(corners[0][1], corners[1][1], corners[2][1], corners[3][1]), Math.max(corners[0][0], corners[1][0], corners[2][0], corners[3][0]), Math.max(corners[0][1], corners[1][1], corners[2][1], corners[3][1])];\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = (0, _webMercator.fitBounds)(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"subViewports\",\n    get: function get() {\n      if (this._subViewports && !this._subViewports.length) {\n        var bounds = this.getBounds();\n        var minOffset = Math.floor((bounds[0] + 180) / 360);\n        var maxOffset = Math.ceil((bounds[2] - 180) / 360);\n\n        for (var x = minOffset; x <= maxOffset; x++) {\n          var offsetViewport = x ? new WebMercatorViewport(_objectSpread(_objectSpread({}, this), {}, {\n            worldOffset: x\n          })) : this;\n\n          this._subViewports.push(offsetViewport);\n        }\n      }\n\n      return this._subViewports;\n    }\n  }]);\n  return WebMercatorViewport;\n}(_viewport[\"default\"]);\n\nexports[\"default\"] = WebMercatorViewport;\nWebMercatorViewport.displayName = 'WebMercatorViewport';\n//# sourceMappingURL=web-mercator-viewport.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireWildcard","_interopRequireDefault","value","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_viewport","_webMercator","vec2","_math","WebMercatorViewport","_Viewport","opts","undefined","_opts$latitude","latitude","_opts$longitude","longitude","_opts$zoom","zoom","_opts$pitch","pitch","_opts$bearing","bearing","_opts$nearZMultiplier","nearZMultiplier","_opts$farZMultiplier","farZMultiplier","_opts$orthographic","orthographic","_opts$repeat","repeat","_opts$worldOffset","worldOffset","width","height","_opts$altitude","altitude","scale","Math","pow","max","_getProjectionParamet","getProjectionParameters","fov","aspect","focalDistance","near","far","viewMatrixUncentered","getViewMatrix","viewOffset","Matrix4","translate","multiplyLeft","viewportOpts","assign","viewMatrix","fovyRadians","_this","_super","_subViewports","freeze","addMetersToLngLat","lngLatZ","xyz","getMapCenterByLngLatPosition","_ref","lngLat","pos","fromLocation","pixelsToWorld","pixelUnprojectionMatrix","toLocation","projectFlat","add","negate","newCenter","center","unprojectFlat","getBounds","options","corners","z","min","fitBounds","bounds","_fitBounds2","get","maxOffset","ceil","x","minOffset","floor","offsetViewport","displayName"]
}
