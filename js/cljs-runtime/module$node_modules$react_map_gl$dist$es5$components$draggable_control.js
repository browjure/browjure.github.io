shadow$provide.module$node_modules$react_map_gl$dist$es5$components$draggable_control=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function getDragEventPosition(event){event=event.offsetCenter;return[event.x,event.y]}function getDragLngLat(dragPos,
dragOffset,props,context){return context.viewport.unproject([dragPos[0]+dragOffset[0]-props.offsetLeft,dragPos[1]+dragOffset[1]-props.offsetTop])}function onDragStart(event,_ref){var props=_ref.props,callbacks=_ref.callbacks,state=_ref.state,context=_ref.context,containerRef=_ref.containerRef;if(props.draggable){event.stopPropagation();_ref=getDragEventPosition(event);var container=containerRef.current,_event$center=event.center;containerRef=_event$center.x;_event$center=_event$center.y;container?
(container=container.getBoundingClientRect(),containerRef=[container.left-containerRef,container.top-_event$center]):containerRef=null;state.setDragPos(_ref);state.setDragOffset(containerRef);callbacks.onDragStart&&containerRef&&(event=Object.assign({},event),event.lngLat=getDragLngLat(_ref,containerRef,props,context),callbacks.onDragStart(event))}}function registerEvents(thisRef){var eventManager=thisRef.context.eventManager;if(eventManager&&thisRef.state.dragPos){var events={panmove:function(evt){var props=
thisRef.props,callbacks=thisRef.callbacks,state=thisRef.state,context=thisRef.context;evt.stopPropagation();var dragPos=getDragEventPosition(evt);state.setDragPos(dragPos);state=state.dragOffset;callbacks.onDrag&&state&&(evt=Object.assign({},evt),evt.lngLat=getDragLngLat(dragPos,state,props,context),callbacks.onDrag(evt))},panend:function(evt){var props=thisRef.props,callbacks=thisRef.callbacks,state=thisRef.state,context=thisRef.context;evt.stopPropagation();var dragPos=state.dragPos,dragOffset=
state.dragOffset;state.setDragPos(null);state.setDragOffset(null);callbacks.onDragEnd&&dragPos&&dragOffset&&(evt=Object.assign({},evt),evt.lngLat=getDragLngLat(dragPos,dragOffset,props,context),callbacks.onDragEnd(evt))},pancancel:function(evt){var state=thisRef.state;evt.stopPropagation();state.setDragPos(null);state.setDragOffset(null)}};eventManager.watch(events);return function(){eventManager.off(events)}}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=
require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=function(props){var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2);_useState=_useState2[0];_useState2=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=(0,_slicedToArray2["default"])(_useState3,2);_useState3=_useState4[0];_useState4=_useState4[1];var thisRef=(0,_useMapControl["default"])(_objectSpread(_objectSpread({},
props),{},{onDragStart}));thisRef.callbacks=props;thisRef.state.dragPos=_useState;thisRef.state.setDragPos=_useState2;thisRef.state.dragOffset=_useState3;thisRef.state.setDragOffset=_useState4;(0,_react.useEffect)(function(){return registerEvents(thisRef)},[thisRef.context.eventManager,!!_useState]);return thisRef};exports.draggableControlDefaultProps=exports.draggableControlPropTypes=void 0;var _defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=
module(require("module$node_modules$$babel$runtime$helpers$slicedToArray"));module=global(require("module$node_modules$prop_types$index"));var _react=require("module$node_modules$react$index"),_useMapControl=global(require("module$node_modules$react_map_gl$dist$es5$components$use_map_control"));require=Object.assign({},_useMapControl.mapControlPropTypes,{draggable:module.bool,onDrag:module.func,onDragEnd:module.func,onDragStart:module.func,offsetLeft:module.number,offsetTop:module.number});exports.draggableControlPropTypes=
require;require=Object.assign({},_useMapControl.mapControlDefaultProps,{draggable:!1,offsetLeft:0,offsetTop:0});exports.draggableControlDefaultProps=require}
//# sourceMappingURL=module$node_modules$react_map_gl$dist$es5$components$draggable_control.js.map
