shadow$provide.module$node_modules$$deck_DOT_gl$core$dist$es5$lib$attribute$attribute_transition_utils=function(global,require,module,exports){function getAttributeBufferLength(attribute,numInstances){var value=attribute.value,size=attribute.size;return(attribute.settings.noAlloc?value.length:numInstances*size)*(attribute.doublePrecision&&value instanceof Float64Array?2:1)}Object.defineProperty(exports,"__esModule",{value:!0});exports.normalizeTransitionSettings=function(userSettings,layerSettings){if(!userSettings)return null;
Number.isFinite(userSettings)&&(userSettings={duration:userSettings});userSettings.type=userSettings.type||"interpolation";return Object.assign({},DEFAULT_TRANSITION_SETTINGS[userSettings.type],layerSettings,userSettings)};exports.getSourceBufferAttribute=function(gl,attribute){return attribute.getBuffer()?[attribute.getBuffer(),{divisor:0,size:attribute.size,normalized:attribute.settings.normalized}]:attribute.value};exports.getAttributeTypeFromSize=function(size){switch(size){case 1:return"float";
case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw Error('No defined attribute type for size "'.concat(size,'"'));}};exports.cycleBuffers=function(buffers){buffers.push(buffers.shift())};exports.getAttributeBufferLength=getAttributeBufferLength;exports.padBuffer=function(_ref){var buffer=_ref.buffer,attribute=_ref.attribute,fromLength=_ref.fromLength,fromStartIndices=_ref.fromStartIndices,_ref$getData=_ref.getData,getData=void 0===_ref$getData?function(x){return x}:_ref$getData,
size=attribute.size*(attribute.doublePrecision&&attribute.value instanceof Float64Array?2:1);_ref$getData=attribute.byteOffset;var toStartIndices=attribute.startIndices,hasStartIndices=fromStartIndices&&toStartIndices;_ref=getAttributeBufferLength(attribute,_ref.numInstances);var isConstant=attribute.state.constant;if(hasStartIndices||!(fromLength>=_ref)){var toData=isConstant?attribute.value:attribute.getBuffer().getData({srcByteOffset:_ref$getData});if(attribute.settings.normalized&&!isConstant){var getter=
getData;getData=function(value,chunk){return attribute._normalizeConstant(getter(value,chunk))}}hasStartIndices=isConstant?function(i,chunk){return getData(toData,chunk)}:function(i,chunk){return getData(toData.subarray(i,i+size),chunk)};fromLength=buffer.getData({length:fromLength});_ref=new Float32Array(_ref);(0,_arrayUtils.padArray)({source:fromLength,target:_ref,sourceStartIndices:fromStartIndices,targetStartIndices:toStartIndices,size,getData:hasStartIndices});buffer.byteLength<_ref.byteLength+
_ref$getData&&buffer.reallocate(_ref.byteLength+_ref$getData);buffer.subData({data:_ref,offset:_ref$getData})}};var _arrayUtils=require("module$node_modules$$deck_DOT_gl$core$dist$es5$utils$array_utils"),DEFAULT_TRANSITION_SETTINGS={interpolation:{duration:0,easing:function(t){return t}},spring:{stiffness:.05,damping:.5}}}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$core$dist$es5$lib$attribute$attribute_transition_utils.js.map
