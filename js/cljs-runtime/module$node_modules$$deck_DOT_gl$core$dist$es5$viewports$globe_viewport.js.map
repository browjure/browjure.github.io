{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$globe_viewport.js",
"lineCount":15,
"mappings":"AAAAA,cAAA,CAAe,uEAAf,CAA4F,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAkCpIC,QAASA,aAAY,CAACC,OAAD,CAAU,CAAE,IAAIC,0BAA4BC,yBAAA,EAA6B,OAAOC,SAA6B,EAAG,CAAA,IAAMC,MAAQ,CAAC,CAAA,CAAGC,gBAAA,CAAiB,SAAjB,CAAJ,EAAiCL,OAAjC,CAAmD,IAAIC,yBAAJ,CAA+B,CAAE,IAAIK,UAAY,CAAC,CAAA,CAAGD,gBAAA,CAAiB,SAAjB,CAAJ,EAAiC,IAAjC,CAAZC,CAAmDC,WAAaC,MAAA,CAASC,OAAA,CAAQC,SAAR,CAAkBN,KAAlB,CAAyBO,SAAzB,CAAoCL,SAApC,CAA/E,CAA/B,IAAuKE,MAAA,CAASJ,KAAA,CAAMQ,KAAN,CAAY,IAAZ,CAAkBD,SAAlB,CAAgC,OAAO,CAAC,CAAA,CAAGE,2BAAA,CAA4B,SAA5B,CAAJ,EAA4C,IAA5C;AAAkDL,KAAlD,CAAxR,CAAtG,CAE/BN,QAASA,0BAAyB,EAAG,CAA0E,GAAjD,WAAiD,GAApE,MAAOO,QAA6D,EAAlC,CAACA,OAAD,CAASC,SAAyB,EAAID,OAAJ,CAAYC,SAAZ,CAAsBI,IAAtB,CAA4B,MAAO,CAAA,CAAO,IAAqB,UAArB,GAAI,MAAOC,MAAX,CAAiC,MAAO,CAAA,CAAM,IAAI,CAA6E,MAA3EC,KAAA,CAAKC,SAAL,CAAeC,QAAf,CAAwBC,IAAxB,CAA6BV,OAAA,CAAQC,SAAR,CAAkBM,IAAlB,CAAwB,EAAxB,CAA4B,QAAS,EAAG,EAAxC,CAA7B,CAAkF,CAAA,CAAA,CAApF,CAA4F,MAAOI,CAAP,CAAU,CAAE,MAAO,CAAA,CAAT,CAA5Q,CA4MrCC,QAASA,gBAAe,CAACC,MAAD,CAASC,MAAT,CAAiB,CACnCf,MAAAA,CAASgB,IAAA,CAAKC,aAAL,CAAmB,EAAnB,CAAuBF,MAAvB,CAA+BD,MAA/B,CACbE,KAAA,CAAKE,KAAL,CAAWlB,MAAX,CAAmBA,MAAnB,CAA2B,CAA3B,CAA+BA,MAAA,CAAO,CAAP,CAA/B,CACA,OAAOA,OAHgC,CA7OrCmB,MAAAA,CAA0B/B,OAAA,CAAQ,mEAAR,CAE1BgC,OAAAA,CAAyBhC,OAAA,CAAQ,kEAAR,CAE7BiC;MAAA,CAAOC,cAAP,CAAsBhC,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CiC,MAAO,CAAA,CADoC,CAA7C,CAGAjC,QAAA,CAAQ,SAAR,CAAA,CAAqB,IAAK,EAE1B,KAAIkC,gBAAkBJ,MAAA,CAAuBhC,OAAA,CAAQ,0DAAR,CAAvB,CAAtB,CAEIqC,iBAAmBL,MAAA,CAAuBhC,OAAA,CAAQ,2DAAR,CAAvB,CAFvB,CAIIsC,cAAgBN,MAAA,CAAuBhC,OAAA,CAAQ,wDAAR,CAAvB,CAJpB,CAMIuC,WAAaP,MAAA,CAAuBhC,OAAA,CAAQ,qDAAR,CAAvB,CANjB,CAQIiB,4BAA8Be,MAAA,CAAuBhC,OAAA,CAAQ,sEAAR,CAAvB,CARlC;AAUIS,iBAAmBuB,MAAA,CAAuBhC,OAAA,CAAQ,2DAAR,CAAvB,CAVvB,CAYIwC,MAAQxC,OAAA,CAAQ,gDAAR,CAERyC,OAAAA,CAAYT,MAAA,CAAuBhC,OAAA,CAAQ,mEAAR,CAAvB,CAEhB,KAAI0C,WAAa1C,OAAA,CAAQ,8DAAR,CAAjB,CAEI2C,KAAOZ,MAAA,CAAwB/B,OAAA,CAAQ,wCAAR,CAAxB,CAFX,CAII4B,KAAOG,MAAA,CAAwB/B,OAAA,CAAQ,wCAAR,CAAxB,CAJX,CAUI4C,mBAAqBC,IAArBD,CAA0BE,EAA1BF,CAA+B,GAVnC,CAWIG;AAAqB,GAArBA,CAA2BF,IAA3BE,CAAgCD,EAiBhCE,QAAAA,CAAgB,QAAS,CAACC,SAAD,CAAY,CAKvCD,QAASA,cAAa,EAAG,CAGnBE,IAAAA,MAA0B,CAAnB,CAAAnC,SAAA,CAAUoC,MAAV,EAAyCC,IAAAA,EAAzC,GAAwBrC,SAAA,CAAU,CAAV,CAAxB,CAAqDA,SAAA,CAAU,CAAV,CAArD,CAAoE,EAC/E,EAAC,CAAA,CAAGsB,gBAAA,CAAiB,SAAjB,CAAJ,EAAiC,IAAjC,CAAuCW,aAAvC,CAJuB,KAKnBK,eAAiBH,KAAjBG,CAAsBC,QACtBA,eAAAA,CAA8B,IAAK,EAAxB,GAAAD,cAAA,CAA4B,CAA5B,CAAgCA,cANxB,KAOnBE,gBAAkBL,KAAlBK,CAAuBC,SACvBA,gBAAAA,CAAgC,IAAK,EAAzB,GAAAD,eAAA,CAA6B,CAA7B,CAAiCA,eAR1B,KASnBE,WAAaP,KAAbO,CAAkBC,IAClBA,WAAAA,CAAsB,IAAK,EAApB,GAAAD,UAAA,CAAwB,EAAxB,CAA6BA,UAVjB,KAWnBE,sBAAwBT,KAAxBS,CAA6BC,eAC7BA,sBAAAA;AAA4C,IAAK,EAA/B,GAAAD,qBAAA,CAAmC,EAAnC,CAAyCA,qBAZxC,KAanBE,qBAAuBX,KAAvBW,CAA4BC,cAbT,CAcnBA,eAA0C,IAAK,EAA9B,GAAAD,oBAAA,CAAkC,CAAlC,CAAsCA,oBACvDE,qBAAAA,CAAmBb,KAAnBa,CAAwBC,UACxBA,qBAAAA,CAAkC,IAAK,EAA1B,GAAAD,oBAAA,CAA8B,EAA9B,CAAmCA,oBAhB7B,KAiBnBE,MAAQf,KAARe,CAAaA,KAjBM,CAkBnBC,OAAShB,KAATgB,CAAcA,MAlBK,CAmBnBC,eAAiBjB,KAAjBiB,CAAsBC,QAE1BH,MAAA,CAAQA,KAAR,EAAiB,CACjBC,OAAA,CAASA,MAAT,EAAmB,CACnBE,eAAA,CAAWvB,IAAA,CAAKwB,GAAL,CAAS,GAAT,CAHuB,IAAK,EAAxBD,GAAAD,cAAAC,CAA4B,GAA5BA,CAAkCD,cAGtC,CACX,KAAIG,WAAa,CAAA,IAAI9B,KAAJ,CAAU+B,OAAV,EAAoBC,MAApB,CAA2B,CAC1CC,IAAK,CAAC,CAAD;AAAI,CAACL,cAAL,CAAe,CAAf,CADqC,CAE1CM,GAAI,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAFsC,CAA3B,CAAjB,CAII5C,MAAQe,IAAA,CAAK8B,GAAL,CAAS,CAAT,CAAYjB,UAAZ,CACZY,WAAA,CAAWM,OAAX,CAAmBtB,cAAnB,CAA8BV,kBAA9B,CACA0B,WAAA,CAAWO,OAAX,CAAmB,CAACrB,eAApB,CAAgCZ,kBAAhC,CACA0B,WAAA,CAAWxC,KAAX,CAAiBA,KAAjB,CAAyBoC,MAAzB,CAGIY,MAAAA,CAAe7C,MAAA,CAAO8C,MAAP,CAAc,EAAd,CAAkB7B,KAAlB,CAAwB,CAClCe,KADkC,CAEjCC,MAFiC,CAG7BI,UAH6B,CAIzCd,UAAWA,eAJ8B,CAKzCF,SAAUA,cAL+B,CAMzCI,KAAMA,UANmC,CAOzCsB,YAAuB,CAAvBA,CATYnC,IAAAoC,CAAKC,IAALD,CAAU,EAAVA,CAAgBb,cAAhBa,CAE6B,CAQzCE,OAAQlB,KAARkB,CAAgBjB,MARyB,CASzCkB,cAAehB,cAT0B,CAUzCiB,KAAMzB,qBAVmC,CAWzC0B,IAAKzC,IAAA,CAAK0C,GAAL,CAAS,CAAT,CAAY,CAAZ,EAZa,GAYb,CAZgCzD,KAYhC,CAZwCoC,MAYxC,EAAgC,CAAhC,CAALoB,CAA0ClB,cAA1CkB,CAAqDxB,cAXZ,CAAxB,CAanB0B;KAAA,CAAQC,MAAA,CAAOlE,IAAP,CAAY,IAAZ,CAAkBuD,KAAlB,CACRU,MAAA,CAAMxB,UAAN,CAAmBA,oBAjEjB0B,eAAAA,CAHaC,GAGbD,CAJaE,OAKbC,gBAAAA,CAAiBhD,IAAjBgD,CAAsB/C,EAAtB+C,CAA2B,GAA3BA,CAJaF,GAqEfH,MAAA,CAAMM,cAAN,CAhEK,CACLJ,cAAe,CAACA,cAAD,CAAgBA,cAAhB,CAA+BA,cAA/B,CADV,CAELK,eAAgB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAFX,CAGLC,cAAe,CAAC,CAAD,CAAKN,cAAL,CAAoB,CAApB,CAAwBA,cAAxB,CAAuC,CAAvC,CAA2CA,cAA3C,CAHV,CAILG,eAAgB,CAACA,eAAD,CAAiBA,eAAjB,CAAiCH,cAAjC,CAJX,CAKLO,gBAAiB,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CALZ,CAMLC,eAAgB,CAAC,CAAD,CAAKL,eAAL,CAAqB,CAArB,CAAyBA,eAAzB,CAAyC,CAAzC,CAA6CH,cAA7C,CANX,CAiEL,OAAOF,MAlDgB,CAJzB,CAAC,CAAA,CAAGjD,UAAA,CAAW,SAAX,CAAJ,EAA2BS,aAA3B;AAA0CC,SAA1C,CAEA,KAAIwC,OAAStF,YAAA,CAAa6C,aAAb,CAuDb,EAAC,CAAA,CAAGV,aAAA,CAAc,SAAd,CAAJ,EAA8BU,aAA9B,CAA6C,CAAC,CAC5CmD,IAAK,mBADuC,CAE5ChE,MAAOiE,QAA0B,EAAG,CAClC,MAAO,KAAP,CAAYN,cADsB,CAFQ,CAAD,CAK1C,CACDK,IAAK,WADJ,CAEDhE,MAAOkE,QAAkB,EAAG,CAE1B,IAAIC,gBAAkB,CACpBC,SAF+B,CAAnBC,CAAAzF,SAAAyF,CAAUrD,MAAVqD,EAAyCpD,IAAAA,EAAzCoD,GAAwBzF,SAAA,CAAU,CAAV,CAAxByF,CAAqDzF,SAAA,CAAU,CAAV,CAArDyF,CAAoE,EAEhFD,EAAiBE,CAAjBF,EAAsB,CADF,CAAtB,CAGIG,KAAO,IAAA,CAAKC,SAAL,CAAe,CAAC,CAAD,CAAI,IAAJ,CAASzC,MAAT,CAAkB,CAAlB,CAAf,CAAqCoC,eAArC,CAHX,CAIIM,IAAM,IAAA,CAAKD,SAAL,CAAe,CAAC,IAAD,CAAM1C,KAAN,CAAc,CAAd,CAAiB,CAAjB,CAAf,CAAoCqC,eAApC,CAJV,CAKIO,MAAQ,IAAA,CAAKF,SAAL,CAAe,CAAC,IAAD,CAAM1C,KAAN,CAAa,IAAb,CAAkBC,MAAlB,CAA2B,CAA3B,CAAf,CAA8CoC,eAA9C,CACRQ,gBAAAA,CAAS,IAAA,CAAKH,SAAL,CAAe,CAAC,IAAD,CAAM1C,KAAN;AAAc,CAAd,CAAiB,IAAjB,CAAsBC,MAAtB,CAAf,CAA8CoC,eAA9C,CACTO,MAAA,CAAM,CAAN,CAAJ,CAAe,IAAf,CAAoBrD,SAApB,GAA+BqD,KAAA,CAAM,CAAN,CAA/B,EAA2C,GAA3C,CACIH,KAAA,CAAK,CAAL,CAAJ,CAAc,IAAd,CAAmBlD,SAAnB,GAA8BkD,IAAA,CAAK,CAAL,CAA9B,EAAyC,GAAzC,CACA,OAAO,CAAC7D,IAAA,CAAK0C,GAAL,CAASmB,IAAA,CAAK,CAAL,CAAT,CAAkBG,KAAA,CAAM,CAAN,CAAlB,CAA4BD,GAAA,CAAI,CAAJ,CAA5B,CAAoCE,eAAA,CAAO,CAAP,CAApC,CAAD,CAAiDjE,IAAA,CAAK0C,GAAL,CAASmB,IAAA,CAAK,CAAL,CAAT,CAAkBG,KAAA,CAAM,CAAN,CAAlB,CAA4BD,GAAA,CAAI,CAAJ,CAA5B,CAAoCE,eAAA,CAAO,CAAP,CAApC,CAAjD,CAAiGjE,IAAA,CAAKwB,GAAL,CAASqC,IAAA,CAAK,CAAL,CAAT,CAAkBG,KAAA,CAAM,CAAN,CAAlB,CAA4BD,GAAA,CAAI,CAAJ,CAA5B,CAAoCE,eAAA,CAAO,CAAP,CAApC,CAAjG,CAAiJjE,IAAA,CAAKwB,GAAL,CAASqC,IAAA,CAAK,CAAL,CAAT,CAAkBG,KAAA,CAAM,CAAN,CAAlB,CAA4BD,GAAA,CAAI,CAAJ,CAA5B,CAAoCE,eAAA,CAAO,CAAP,CAApC,CAAjJ,CAXmB,CAF3B,CAL0C,CAoB1C,CACDX,IAAK,WADJ,CAEDhE,MAAOwE,QAAkB,CAACI,GAAD,CAAM,CAAA,IACzBC,KAA0B,CAAnB,CAAAjG,SAAA,CAAUoC,MAAV,EAAyCC,IAAAA,EAAzC,GAAwBrC,SAAA,CAAU,CAAV,CAAxB,CAAqDA,SAAA,CAAU,CAAV,CAArD,CAAoE,EADlD,CAEzBkG,aAAeD,IAAfC,CAAoBC,OAFK,CAGzBA,QAA2B,IAAK,EAAtB,GAAAD,YAAA,CAA0B,CAAA,CAA1B,CAAiCA,YAC3CV;IAAAA,CAAUS,IAAVT,CAAeA,OAEfY,aAAAA,CAAO,CAAC,CAAA,CAAG/E,eAAA,CAAgB,SAAhB,CAAJ,EAAgC2E,GAAhC,CAAqC,CAArC,CANkB,KAOzBK,EAAID,YAAA,CAAK,CAAL,CAPqB,CAQzBE,EAAIF,YAAA,CAAK,CAAL,CACJV,aAAAA,CAAIU,YAAA,CAAK,CAAL,CAEJG,EAAAA,CAAKJ,OAAA,CAAUG,CAAV,CAAc,IAAd,CAAmBnD,MAAnB,CAA4BmD,CACrC,KAAIE,wBAA0B,IAA1BA,CAA+BA,uBAGnC,IAAIC,MAAA,CAAOC,QAAP,CAAgBhB,YAAhB,CAAJ,CACEiB,OAAA,CAAQjG,eAAA,CAAgB8F,uBAAhB,CAAyC,CAACH,CAAD,CAAIE,CAAJ,CAAQb,YAAR,CAAW,CAAX,CAAzC,CADV,KAEO,CACDkB,OAAAA,CAASlG,eAAA,CAAgB8F,uBAAhB,CAAyC,CAACH,CAAD,CAAIE,CAAJ,CAAQ,EAAR,CAAY,CAAZ,CAAzC,CACTM,EAAAA,CAASnG,eAAA,CAAgB8F,uBAAhB,CAAyC,CAACH,CAAD,CAAIE,CAAJ,CAAQ,CAAR,CAAW,CAAX,CAAzC,CACTO,EAAAA,CAnHOlC,GAmHPkC,GAAOtB,IAAPsB,EAAkB,CAAlBA,EApHOjC,OAoHPiC,CAAsC,CAAtCA,CACAC,wBAAAA,CAAOnF,IAAA,CAAKoF,MAAL,CAAYpF,IAAA,CAAKqF,GAAL,CAAS,EAAT;AAAaL,OAAb,CAAqBC,CAArB,CAAZ,CACX,KAAIK,MAAQtF,IAAA,CAAKoF,MAAL,CAAYJ,OAAZ,CAAZ,CACIO,MAAQvF,IAAA,CAAKoF,MAAL,CAAYH,CAAZ,CAERO,MAAAA,EADQ,CACRA,CADYF,KACZE,CADoBD,KACpBC,CAD4BtF,IAAA,CAAK8B,GAAL,CAASmD,uBAAT,CAAgBG,KAAhB,CAAwBC,KAAxB,CAA+B,CAA/B,CAC5BC,EADiE,EACjEA,CAAO,CAAPA,CAAkBL,uBAItBJ,QAAA,CAAQ/E,IAAA,CAAKyF,IAAL,CAAU,EAAV,CAAcT,OAAd,CAAsBC,CAAtB,EAHC/E,IAAAwF,CAAKC,IAALD,CAAUJ,KAAVI,CAAkBF,KAAlBE,CAGD,CAFCxF,IAAA0F,CAAKD,IAALC,CAAU1F,IAAA,CAAKwB,GAAL,CAAS,CAAT,CAAYwD,CAAZ,CAAiBA,CAAjB,CAAsBM,KAAtB,CAAVI,CAED,EADY1F,IAAA,CAAKyF,IAAL,CAAUR,uBAAV,CACZ,CAZH,CAeHU,OAAAA,CAAwB,IAAA,CAAKC,iBAAL,CAAuBf,OAAvB,CACxBgB,EAAAA,CAAyB,CAAC,CAAA,CAAGtG,eAAA,CAAgB,SAAhB,CAAJ,EAAgCoG,OAAhC,CAAuD,CAAvD,CACzBG,QAAAA,CAAID,CAAA,CAAuB,CAAvB,CACJE,EAAAA,CAAIF,CAAA,CAAuB,CAAvB,CACJG,EAAAA,CAAIH,CAAA,CAAuB,CAAvB,CAER,OAAIlB,OAAA,CAAOC,QAAP,CAAgBhB,YAAhB,CAAJ,CACS,CAACkC,OAAD,CAAIC,CAAJ,CAAOC,CAAP,CADT,CAIOrB,MAAA,CAAOC,QAAP,CAAgBlB,IAAhB,CAAA,CAA2B,CAACoC,OAAD,CAAIC,CAAJ,CAAOrC,IAAP,CAA3B,CAA6C,CAACoC,OAAD,CAAIC,CAAJ,CA1CvB,CAF9B,CApB0C;AAkE1C,CACDzC,IAAK,iBADJ,CAEDhE,MAAO2G,QAAwB,CAAC/B,GAAD,CAAM,CAAA,IAC/BgC,MAAQ,CAAC,CAAA,CAAG3G,eAAA,CAAgB,SAAhB,CAAJ,EAAgC2E,GAAhC,CAAqC,CAArC,CADuB,CAI/BiC,OAASD,KAAA,CAAM,CAAN,CAGTE,IAAAA,CALMF,KAAAG,CAAM,CAANA,CAKND,CAAerG,kBACfuG,MAAAA,CALMJ,KAAAK,CAAM,CAANA,CAKND,CAAYvG,kBAChB,KAAIyG,OAASxG,IAAA,CAAKyG,GAAL,CAASH,KAAT,CACTI,OAAAA,CAvJS5D,GAuJT4D,GALe,IAAK,EAAhBV,GAAAG,MAAAH,CAAoB,CAApBA,CAAwBG,MAK5BO,EAxJS3D,OAwJT2D,CAAwB,CAAxBA,CACJ,OAAO,CAAC1G,IAAA,CAAK2G,GAAL,CAASP,GAAT,CAAD,CAAoBI,MAApB,CAA6BE,MAA7B,CAAgC,CAAC1G,IAAA,CAAKyG,GAAL,CAASL,GAAT,CAAjC,CAAoDI,MAApD,CAA6DE,MAA7D,CAAgE1G,IAAA,CAAK2G,GAAL,CAASL,KAAT,CAAhE,CAAgFI,MAAhF,CAX4B,CAFpC,CAlE0C,CAiF1C,CACDpD,IAAK,mBADJ,CAEDhE,MAAOsG,QAA0B,CAAC1B,GAAD,CAAM,CAAA,IACjC0C,MAAQ,CAAC,CAAA,CAAGrH,eAAA,CAAgB,SAAhB,CAAJ,EAAgC2E,GAAhC,CAAqC,CAArC,CADyB,CAEjCK,EAAIqC,KAAA,CAAM,CAAN,CAF6B,CAGjCpC,EAAIoC,KAAA,CAAM,CAAN,CACJhD,MAAAA,CAAIgD,KAAA,CAAM,CAAN,CAEJF,IAAAA,CAAI5G,IAAA,CAAK+G,GAAL,CAAS3C,GAAT,CAMR,OAAO,CAJMlE,IAAAoG,CAAKU,KAALV,CAAW7B,CAAX6B;AAAc,CAAC5B,CAAf4B,CAIN,CAHYlG,kBAGZ,CALGF,IAAAsG,CAAKS,IAALT,CAAU1C,KAAV0C,CAAcI,GAAdJ,CAKH,CAFSpG,kBAET,CAzKM6C,OAyKN,EADE2D,GACF,CAxKM5D,GAwKN,CADqB,CACrB,EAZ8B,CAFtC,CAjF0C,CAiG1C,CACDQ,IAAK,aADJ,CAEDhE,MAAO0H,QAAoB,CAAC9C,GAAD,CAAM,CAC/B,MAAOA,IADwB,CAFhC,CAjG0C,CAsG1C,CACDZ,IAAK,eADJ,CAEDhE,MAAO2H,QAAsB,CAAC/C,GAAD,CAAM,CACjC,MAAOA,IAD0B,CAFlC,CAtG0C,CA2G1C,CACDZ,IAAK,8BADJ,CAEDhE,MAAO4H,QAAqC,CAACC,KAAD,CAAQ,CAAA,IAC9CC,OAASD,KAATC,CAAeA,MAEfC,MAAAA,CAAe,IAAA,CAAKvD,SAAL,CADTqD,KACS,CADHG,GACG,CACnB,OAAO,CAACF,MAAA,CAAO,CAAP,CAAD,CAAaC,KAAA,CAAa,CAAb,CAAb,CAA+B,IAA/B,CAAoC1G,SAApC,CAA+CyG,MAAA,CAAO,CAAP,CAA/C,CAA2DC,KAAA,CAAa,CAAb,CAA3D,CAA6E,IAA7E,CAAkF5G,QAAlF,CAJ2C,CAFnD,CA3G0C,CAmH1C,CACD6C,IAAK,gBADJ,CAEDiE,IAAKA,QAAY,EAAG,CAClB,MAAO1H,WAAP,CAAkB2H,eAAlB,CAAkCC,KADhB,CAFnB,CAnH0C,CAA7C,CAyHA,OAAOtH,cAnLgC,CAArB,CAoLlBP,MAAA,CAAU,SAAV,CApLkB,CAsLpBvC;OAAA,CAAQ,SAAR,CAAA,CAAqB8C,OA9O+G;",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/viewports/globe-viewport.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$globe_viewport\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _math = require(\"math.gl\");\n\nvar _viewport = _interopRequireDefault(require(\"./viewport\"));\n\nvar _constants = require(\"../lib/constants\");\n\nvar vec3 = _interopRequireWildcard(require(\"gl-matrix/vec3\"));\n\nvar vec4 = _interopRequireWildcard(require(\"gl-matrix/vec4\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nvar RADIANS_TO_DEGREES = 180 / Math.PI;\nvar EARTH_RADIUS = 6370972;\nvar GLOBE_RADIUS = 256;\n\nfunction getDistanceScales() {\n  var unitsPerMeter = GLOBE_RADIUS / EARTH_RADIUS;\n  var unitsPerDegree = Math.PI / 180 * GLOBE_RADIUS;\n  return {\n    unitsPerMeter: [unitsPerMeter, unitsPerMeter, unitsPerMeter],\n    unitsPerMeter2: [0, 0, 0],\n    metersPerUnit: [1 / unitsPerMeter, 1 / unitsPerMeter, 1 / unitsPerMeter],\n    unitsPerDegree: [unitsPerDegree, unitsPerDegree, unitsPerMeter],\n    unitsPerDegree2: [0, 0, 0],\n    degreesPerUnit: [1 / unitsPerDegree, 1 / unitsPerDegree, 1 / unitsPerMeter]\n  };\n}\n\nvar GlobeViewport = function (_Viewport) {\n  (0, _inherits2[\"default\"])(GlobeViewport, _Viewport);\n\n  var _super = _createSuper(GlobeViewport);\n\n  function GlobeViewport() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, GlobeViewport);\n    var _opts$latitude = opts.latitude,\n        latitude = _opts$latitude === void 0 ? 0 : _opts$latitude,\n        _opts$longitude = opts.longitude,\n        longitude = _opts$longitude === void 0 ? 0 : _opts$longitude,\n        _opts$zoom = opts.zoom,\n        zoom = _opts$zoom === void 0 ? 11 : _opts$zoom,\n        _opts$nearZMultiplier = opts.nearZMultiplier,\n        nearZMultiplier = _opts$nearZMultiplier === void 0 ? 0.1 : _opts$nearZMultiplier,\n        _opts$farZMultiplier = opts.farZMultiplier,\n        farZMultiplier = _opts$farZMultiplier === void 0 ? 2 : _opts$farZMultiplier,\n        _opts$resolution = opts.resolution,\n        resolution = _opts$resolution === void 0 ? 10 : _opts$resolution;\n    var width = opts.width,\n        height = opts.height,\n        _opts$altitude = opts.altitude,\n        altitude = _opts$altitude === void 0 ? 1.5 : _opts$altitude;\n    width = width || 1;\n    height = height || 1;\n    altitude = Math.max(0.75, altitude);\n    var viewMatrix = new _math.Matrix4().lookAt({\n      eye: [0, -altitude, 0],\n      up: [0, 0, 1]\n    });\n    var scale = Math.pow(2, zoom);\n    viewMatrix.rotateX(latitude * DEGREES_TO_RADIANS);\n    viewMatrix.rotateZ(-longitude * DEGREES_TO_RADIANS);\n    viewMatrix.scale(scale / height);\n    var halfFov = Math.atan(0.5 / altitude);\n    var relativeScale = GLOBE_RADIUS * 2 * scale / height;\n    var viewportOpts = Object.assign({}, opts, {\n      width: width,\n      height: height,\n      viewMatrix: viewMatrix,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom,\n      fovyRadians: halfFov * 2,\n      aspect: width / height,\n      focalDistance: altitude,\n      near: nearZMultiplier,\n      far: Math.min(2, 1 / relativeScale + 1) * altitude * farZMultiplier\n    });\n    _this = _super.call(this, viewportOpts);\n    _this.resolution = resolution;\n    _this.distanceScales = getDistanceScales();\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(GlobeViewport, [{\n    key: \"getDistanceScales\",\n    value: function getDistanceScales() {\n      return this.distanceScales;\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var unprojectOption = {\n        targetZ: options.z || 0\n      };\n      var left = this.unproject([0, this.height / 2], unprojectOption);\n      var top = this.unproject([this.width / 2, 0], unprojectOption);\n      var right = this.unproject([this.width, this.height / 2], unprojectOption);\n      var bottom = this.unproject([this.width / 2, this.height], unprojectOption);\n      if (right[0] < this.longitude) right[0] += 360;\n      if (left[0] > this.longitude) left[0] -= 360;\n      return [Math.min(left[0], right[0], top[0], bottom[0]), Math.min(left[1], right[1], top[1], bottom[1]), Math.max(left[0], right[0], top[0], bottom[0]), Math.max(left[1], right[1], top[1], bottom[1])];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$topLeft = _ref.topLeft,\n          topLeft = _ref$topLeft === void 0 ? true : _ref$topLeft,\n          targetZ = _ref.targetZ;\n\n      var _xyz = (0, _slicedToArray2[\"default\"])(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var pixelUnprojectionMatrix = this.pixelUnprojectionMatrix;\n      var coord;\n\n      if (Number.isFinite(z)) {\n        coord = transformVector(pixelUnprojectionMatrix, [x, y2, z, 1]);\n      } else {\n        var coord0 = transformVector(pixelUnprojectionMatrix, [x, y2, -1, 1]);\n        var coord1 = transformVector(pixelUnprojectionMatrix, [x, y2, 1, 1]);\n        var lt = ((targetZ || 0) / EARTH_RADIUS + 1) * GLOBE_RADIUS;\n        var lSqr = vec3.sqrLen(vec3.sub([], coord0, coord1));\n        var l0Sqr = vec3.sqrLen(coord0);\n        var l1Sqr = vec3.sqrLen(coord1);\n        var sSqr = (4 * l0Sqr * l1Sqr - Math.pow(lSqr - l0Sqr - l1Sqr, 2)) / 16;\n        var dSqr = 4 * sSqr / lSqr;\n        var r0 = Math.sqrt(l0Sqr - dSqr);\n        var dr = Math.sqrt(Math.max(0, lt * lt - dSqr));\n        var t = (r0 - dr) / Math.sqrt(lSqr);\n        coord = vec3.lerp([], coord0, coord1, t);\n      }\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = (0, _slicedToArray2[\"default\"])(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _xyz2 = (0, _slicedToArray2[\"default\"])(xyz, 3),\n          lng = _xyz2[0],\n          lat = _xyz2[1],\n          _xyz2$ = _xyz2[2],\n          Z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n      var lambda = lng * DEGREES_TO_RADIANS;\n      var phi = lat * DEGREES_TO_RADIANS;\n      var cosPhi = Math.cos(phi);\n      var D = (Z / EARTH_RADIUS + 1) * GLOBE_RADIUS;\n      return [Math.sin(lambda) * cosPhi * D, -Math.cos(lambda) * cosPhi * D, Math.sin(phi) * D];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _xyz3 = (0, _slicedToArray2[\"default\"])(xyz, 3),\n          x = _xyz3[0],\n          y = _xyz3[1],\n          z = _xyz3[2];\n\n      var D = vec3.len(xyz);\n      var phi = Math.asin(z / D);\n      var lambda = Math.atan2(x, -y);\n      var lng = lambda * RADIANS_TO_DEGREES;\n      var lat = phi * RADIANS_TO_DEGREES;\n      var Z = (D / GLOBE_RADIUS - 1) * EARTH_RADIUS;\n      return [lng, lat, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      return xyz;\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref2) {\n      var lngLat = _ref2.lngLat,\n          pos = _ref2.pos;\n      var fromPosition = this.unproject(pos);\n      return [lngLat[0] - fromPosition[0] + this.longitude, lngLat[1] - fromPosition[1] + this.latitude];\n    }\n  }, {\n    key: \"projectionMode\",\n    get: function get() {\n      return _constants.PROJECTION_MODE.GLOBE;\n    }\n  }]);\n  return GlobeViewport;\n}(_viewport[\"default\"]);\n\nexports[\"default\"] = GlobeViewport;\n\nfunction transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\n//# sourceMappingURL=globe-viewport.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","transformVector","matrix","vector","vec4","transformMat4","scale","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_classCallCheck2","_createClass2","_inherits2","_math","_viewport","_constants","vec3","DEGREES_TO_RADIANS","Math","PI","RADIANS_TO_DEGREES","GlobeViewport","_Viewport","opts","length","undefined","_opts$latitude","latitude","_opts$longitude","longitude","_opts$zoom","zoom","_opts$nearZMultiplier","nearZMultiplier","_opts$farZMultiplier","farZMultiplier","_opts$resolution","resolution","width","height","_opts$altitude","altitude","max","viewMatrix","Matrix4","lookAt","eye","up","pow","rotateX","rotateZ","viewportOpts","assign","fovyRadians","halfFov","atan","aspect","focalDistance","near","far","min","_this","_super","unitsPerMeter","GLOBE_RADIUS","EARTH_RADIUS","unitsPerDegree","distanceScales","unitsPerMeter2","metersPerUnit","unitsPerDegree2","degreesPerUnit","key","getDistanceScales","getBounds","unprojectOption","targetZ","options","z","left","unproject","top","right","bottom","xyz","_ref","_ref$topLeft","topLeft","_xyz","x","y","y2","pixelUnprojectionMatrix","Number","isFinite","coord","coord0","coord1","lt","lSqr","sqrLen","sub","l0Sqr","l1Sqr","dSqr","lerp","r0","sqrt","dr","_this$unprojectPositi","unprojectPosition","_this$unprojectPositi2","X","Y","Z","projectPosition","_xyz2","_xyz2$","lambda","lng","phi","lat","cosPhi","cos","D","sin","_xyz3","len","atan2","asin","projectFlat","unprojectFlat","getMapCenterByLngLatPosition","_ref2","lngLat","fromPosition","pos","get","PROJECTION_MODE","GLOBE"]
}
