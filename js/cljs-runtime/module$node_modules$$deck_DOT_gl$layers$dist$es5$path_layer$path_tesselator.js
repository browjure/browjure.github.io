shadow$provide.module$node_modules$$deck_DOT_gl$layers$dist$es5$path_layer$path_tesselator=function(global,require,module,exports){function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;
},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,
minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=
Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,
NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",
{value:!0});exports["default"]=void 0;var _defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),
_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf"));global=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index");var _path=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$path_layer$path");require=function(_Tesselator){function PathTesselator(opts){(0,_classCallCheck2["default"])(this,PathTesselator);return _super.call(this,_objectSpread(_objectSpread({},opts),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:opts.fp64?Float64Array:
Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}(0,_inherits2["default"])(PathTesselator,_Tesselator);var _super=_createSuper(PathTesselator);(0,_createClass2["default"])(PathTesselator,[{key:"getGeometryFromBuffer",value:function(buffer){return this.normalize?(0,_get2["default"])((0,_getPrototypeOf2["default"])(PathTesselator.prototype),"getGeometryFromBuffer",this).call(this,buffer):function(){return null}}},{key:"normalizeGeometry",value:function(path){return this.normalize?(0,_path.normalizePath)(path,
this.positionSize,this.opts.resolution,this.opts.wrapLongitude):path}},{key:"get",value:function(attributeName){return this.attributes[attributeName]}},{key:"getGeometrySize",value:function(path){if(Array.isArray(path[0])){var size=0;path=_createForOfIteratorHelper(path);var _step;try{for(path.s();!(_step=path.n()).done;)size+=this.getGeometrySize(_step.value)}catch(err){path.e(err)}finally{path.f()}return size}size=this.getPathLength(path);return 2>size?0:this.isClosed(path)?3>size?0:size+2:size}},
{key:"updateGeometryAttributes",value:function(path,context){if(0!==context.geometrySize)if(path&&Array.isArray(path[0])){path=_createForOfIteratorHelper(path);var _step2;try{for(path.s();!(_step2=path.n()).done;){var subPath=_step2.value,geometrySize=this.getGeometrySize(subPath);context.geometrySize=geometrySize;this.updateGeometryAttributes(subPath,context);context.vertexStart+=geometrySize}}catch(err){path.e(err)}finally{path.f()}}else this._updateSegmentTypes(path,context),this._updatePositions(path,
context)}},{key:"_updateSegmentTypes",value:function(path,context){var segmentTypes=this.attributes.segmentTypes;path=this.isClosed(path);var vertexStart=context.vertexStart;context=context.geometrySize;segmentTypes.fill(0,vertexStart,vertexStart+context);path?(segmentTypes[vertexStart]=4,segmentTypes[vertexStart+context-2]=4):(segmentTypes[vertexStart]+=1,segmentTypes[vertexStart+context-2]+=2);segmentTypes[vertexStart+context-1]=4}},{key:"_updatePositions",value:function(path,context){var positions=
this.attributes.positions;if(positions){var geometrySize=context.geometrySize,p=Array(3);context=context.vertexStart;for(var ptIndex=0;ptIndex<geometrySize;context++,ptIndex++)this.getPointOnPath(path,ptIndex,p),positions[3*context]=p[0],positions[3*context+1]=p[1],positions[3*context+2]=p[2]}}},{key:"getPathLength",value:function(path){return path.length/this.positionSize}},{key:"getPointOnPath",value:function(path,index){var target=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],positionSize=
this.positionSize;index*positionSize>=path.length&&(index+=1-path.length/positionSize);var i=index*positionSize;target[0]=path[i];target[1]=path[i+1];target[2]=3===positionSize&&path[i+2]||0;return target}},{key:"isClosed",value:function(path){if(!this.normalize)return this.opts.loop;var positionSize=this.positionSize,lastPointIndex=path.length-positionSize;return path[0]===path[lastPointIndex]&&path[1]===path[lastPointIndex+1]&&(2===positionSize||path[2]===path[lastPointIndex+2])}}]);return PathTesselator}(global.Tesselator);
exports["default"]=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$layers$dist$es5$path_layer$path_tesselator.js.map
