{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$extensions$dist$es5$brushing$shader_module.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,CAAe,2EAAf,CAAgG,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGxIC,MAAA,CAAOC,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CG,MAAO,CAAA,CADoC,CAA7C,CAGAH,QAAA,CAAQ,SAAR,CAAA,CAAqB,IAAK,EAM1B,KAAII,OAAS,CACXC,OAAQ,CADG,CAEXC,OAAQ,CAFG,CAGXC,OAAQ,CAHG,CAIXC,cAAe,CAJJ,CAUTC,OAAAA,CAAW,CACbC,KAAM,UADO,CAEbC,aAAc,CAhBJb,OAAAc,CAAQ,sDAARA,CAgBI,CAAOC,OAAP,CAFD,CAGbC,GAfOA,y8BAYM;AAIbC,GAfOA,2EAWM,CAKbC,OATWA,CACX,+BAAgC,20BADrBA;AAEX,yBAA0B,+FAFfA,CAIE,CAMbC,YAAaA,QAAoB,CAACC,IAAD,CAAO,CACtC,GAAI,CAACA,IAAL,EAAa,CAACA,IAAD,CAAMC,QAAnB,CACE,MAAO,EAF6B,KAKlCC,sBAAwBF,IAAxBE,CAA6BC,eALK,CAOlCC,qBAAuBJ,IAAvBI,CAA4BC,cAC5BA,qBAAAA,CAA0C,IAAK,EAA9B,GAAAD,oBAAA,CAAkC,GAAlC,CAA0CA,oBARzB,KASlCE,qBAAuBN,IAAvBM,CAA4BC,cAC5BA,qBAAAA,CAA0C,IAAK,EAA9B,GAAAD,oBAAA,CAAkC,QAAlC,CAA6CA,oBAV5B,KAWlCE,cAAgBR,IAAhBQ,CAAqBA,aACrBP;IAAAA,CAAWD,IAAXC,CAAgBA,QACpB,OAAO,CACLQ,iBAAkB,EAR4B,IAAK,EAQjC,GAREP,qBAQF,EAR4CA,CAAAA,qBAQ5C,EAA2BM,CAAAA,aAA3B,EAA4C,CAAAP,IAAA,CAASS,aAAT,CAAuBF,aAAvB,CAA5C,CADb,CAELG,gBAAiBN,oBAFZ,CAGLO,gBAAiB1B,MAAA,CAAOqB,oBAAP,CAAjBK,EAA2C,CAHtC,CAILC,kBAAmBL,aAAA,CAAgBP,IAAA,CAASa,SAAT,CAAmB,CAACN,aAAD,CAAeO,CAAf,CAAmBd,IAAnB,CAA4Bc,CAA5B,CAA+BP,aAA/B,CAA6CQ,CAA7C,CAAiDf,IAAjD,CAA0De,CAA1D,CAAnB,CAAhB,CAAmG,CAAC,CAAD,CAAI,CAAJ,CAJjH,CAb+B,CAN3B,CA2BflC,QAAA,CAAQ,SAAR,CAAA,CAAqBS,MAjDmH;",
"sources":["node_modules/@deck_DOT_gl/extensions/dist/es5/brushing/shader-module.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$extensions$dist$es5$brushing$shader_module\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _core = require(\"@deck.gl/core\");\n\nvar vs = \"\\n  uniform bool brushing_enabled;\\n  uniform int brushing_target;\\n  uniform vec2 brushing_mousePos;\\n  uniform float brushing_radius;\\n\\n  #ifdef NON_INSTANCED_MODEL\\n  attribute vec2 brushingTargets;\\n  #else\\n  attribute vec2 instanceBrushingTargets;\\n  #endif\\n\\n  varying float brushing_isVisible;\\n\\n  bool brushing_isPointInRange(vec2 position) {\\n    if (!brushing_enabled) {\\n      return true;\\n    }\\n    vec2 source_commonspace = project_position(position);\\n    vec2 target_commonspace = project_position(brushing_mousePos);\\n    float distance = length((target_commonspace - source_commonspace) / project_uCommonUnitsPerMeter.xy);\\n\\n    return distance <= brushing_radius;\\n  }\\n\\n  bool brushing_arePointsInRange(vec2 sourcePos, vec2 targetPos) {\\n    return brushing_isPointInRange(sourcePos) || brushing_isPointInRange(targetPos);\\n  }\\n\\n  void brushing_setVisible(bool visible) {\\n    brushing_isVisible = float(visible);\\n  }\\n\";\nvar fs = \"\\n  uniform bool brushing_enabled;\\n  varying float brushing_isVisible;\\n\";\nvar TARGET = {\n  source: 0,\n  target: 1,\n  custom: 2,\n  source_target: 3\n};\nvar inject = {\n  'vs:DECKGL_FILTER_GL_POSITION': \"\\n    vec2 brushingTarget;\\n    vec2 brushingSource;\\n    if (brushing_target == 3) {\\n      brushingTarget = geometry.worldPositionAlt.xy;\\n      brushingSource = geometry.worldPosition.xy;\\n    } else if (brushing_target == 0) {\\n      brushingTarget = geometry.worldPosition.xy;\\n    } else if (brushing_target == 1) {\\n      brushingTarget = geometry.worldPositionAlt.xy;\\n    } else {\\n      #ifdef NON_INSTANCED_MODEL\\n      brushingTarget = brushingTargets;\\n      #else\\n      brushingTarget = instanceBrushingTargets;\\n      #endif\\n    }\\n    bool visible;\\n    if (brushing_target == 3) {\\n      visible = brushing_arePointsInRange(brushingSource, brushingTarget);\\n    } else {\\n      visible = brushing_isPointInRange(brushingTarget);\\n    }\\n    brushing_setVisible(visible);\\n  \",\n  'fs:DECKGL_FILTER_COLOR': \"\\n    if (brushing_enabled && brushing_isVisible < 0.5) {\\n      discard;\\n    }\\n  \"\n};\nvar _default = {\n  name: 'brushing',\n  dependencies: [_core.project],\n  vs: vs,\n  fs: fs,\n  inject: inject,\n  getUniforms: function getUniforms(opts) {\n    if (!opts || !opts.viewport) {\n      return {};\n    }\n\n    var _opts$brushingEnabled = opts.brushingEnabled,\n        brushingEnabled = _opts$brushingEnabled === void 0 ? true : _opts$brushingEnabled,\n        _opts$brushingRadius = opts.brushingRadius,\n        brushingRadius = _opts$brushingRadius === void 0 ? 10000 : _opts$brushingRadius,\n        _opts$brushingTarget = opts.brushingTarget,\n        brushingTarget = _opts$brushingTarget === void 0 ? 'source' : _opts$brushingTarget,\n        mousePosition = opts.mousePosition,\n        viewport = opts.viewport;\n    return {\n      brushing_enabled: Boolean(brushingEnabled && mousePosition && viewport.containsPixel(mousePosition)),\n      brushing_radius: brushingRadius,\n      brushing_target: TARGET[brushingTarget] || 0,\n      brushing_mousePos: mousePosition ? viewport.unproject([mousePosition.x - viewport.x, mousePosition.y - viewport.y]) : [0, 0]\n    };\n  }\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=shader-module.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","TARGET","source","target","custom","source_target","_default","name","dependencies","_core","project","vs","fs","inject","getUniforms","opts","viewport","_opts$brushingEnabled","brushingEnabled","_opts$brushingRadius","brushingRadius","_opts$brushingTarget","brushingTarget","mousePosition","brushing_enabled","containsPixel","brushing_radius","brushing_target","brushing_mousePos","unproject","x","y"]
}
