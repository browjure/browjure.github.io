{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$gltf$dist$es5$lib$parse_gltf.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/gltf/dist/es5/lib/parse-gltf.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$gltf$dist$es5$lib$parse_gltf\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isGLTF = isGLTF;\nexports.parseGLTF = parseGLTF;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _images = require(\"@loaders.gl/images\");\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nvar _assert = _interopRequireDefault(require(\"./utils/assert\"));\n\nvar _resolveUrl = require(\"./gltf-utils/resolve-url\");\n\nvar _getTypedArray = require(\"./gltf-utils/get-typed-array\");\n\nvar _gltfExtensions = require(\"./extensions/gltf-extensions\");\n\nvar _parseGlb = _interopRequireWildcard(require(\"./parse-glb\"));\n\nvar _normalizeGltfV = _interopRequireDefault(require(\"./normalize-gltf-v1\"));\n\nvar _postProcessGltf = _interopRequireDefault(require(\"./post-process-gltf\"));\n\nfunction isGLTF(arrayBuffer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var dataView = new DataView(arrayBuffer);\n  var byteOffset = 0;\n  return (0, _parseGlb.isGLB)(dataView, byteOffset);\n}\n\nfunction parseGLTF(_x, _x2) {\n  return _parseGLTF.apply(this, arguments);\n}\n\nfunction _parseGLTF() {\n  _parseGLTF = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(gltf, arrayBufferOrString) {\n    var byteOffset,\n        options,\n        context,\n        promises,\n        _promise,\n        promise,\n        _args = arguments;\n\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            byteOffset = _args.length > 2 && _args[2] !== undefined ? _args[2] : 0;\n            options = _args.length > 3 ? _args[3] : undefined;\n            context = _args.length > 4 ? _args[4] : undefined;\n            parseGLTFContainerSync(gltf, arrayBufferOrString, byteOffset, options);\n            (0, _normalizeGltfV[\"default\"])(gltf, {\n              normalize: options.gltf.normalize\n            });\n            promises = [];\n\n            if (!(options.gltf.loadBuffers && gltf.json.buffers)) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 9;\n            return loadBuffers(gltf, options, context);\n\n          case 9:\n            if (options.gltf.loadImages) {\n              _promise = loadImages(gltf, options, context);\n              promises.push(_promise);\n            }\n\n            promise = (0, _gltfExtensions.decodeExtensions)(gltf, options, context);\n            promises.push(promise);\n            _context.next = 14;\n            return Promise.all(promises);\n\n          case 14:\n            return _context.abrupt(\"return\", options.gltf.postProcess ? (0, _postProcessGltf[\"default\"])(gltf, options) : gltf);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseGLTF.apply(this, arguments);\n}\n\nfunction parseGLTFContainerSync(gltf, data, byteOffset, options) {\n  if (options.uri) {\n    gltf.baseUri = options.uri;\n  }\n\n  if (data instanceof ArrayBuffer && !(0, _parseGlb.isGLB)(data, byteOffset, options)) {\n    var textDecoder = new TextDecoder();\n    data = textDecoder.decode(data);\n  }\n\n  if (typeof data === 'string') {\n    gltf.json = (0, _loaderUtils.parseJSON)(data);\n  } else if (data instanceof ArrayBuffer) {\n    var glb = {};\n    byteOffset = (0, _parseGlb[\"default\"])(glb, data, byteOffset, options);\n    (0, _assert[\"default\"])(glb.type === 'glTF', \"Invalid GLB magic string \".concat(glb.type));\n    gltf._glb = glb;\n    gltf.json = glb.json;\n  } else {\n    (0, _assert[\"default\"])(false, \"GLTF: must be ArrayBuffer or string\");\n  }\n\n  var buffers = gltf.json.buffers || [];\n  gltf.buffers = new Array(buffers.length).fill(null);\n\n  if (gltf._glb && gltf._glb.header.hasBinChunk) {\n    var binChunks = gltf._glb.binChunks;\n    gltf.buffers[0] = {\n      arrayBuffer: binChunks[0].arrayBuffer,\n      byteOffset: binChunks[0].byteOffset,\n      byteLength: binChunks[0].byteLength\n    };\n  }\n\n  var images = gltf.json.images || [];\n  gltf.images = new Array(images.length).fill({});\n}\n\nfunction loadBuffers(_x3, _x4, _x5) {\n  return _loadBuffers.apply(this, arguments);\n}\n\nfunction _loadBuffers() {\n  _loadBuffers = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(gltf, options, context) {\n    var i, buffer, fetch, uri, response, arrayBuffer;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            i = 0;\n\n          case 1:\n            if (!(i < gltf.json.buffers.length)) {\n              _context2.next = 18;\n              break;\n            }\n\n            buffer = gltf.json.buffers[i];\n\n            if (!buffer.uri) {\n              _context2.next = 15;\n              break;\n            }\n\n            fetch = context.fetch;\n            (0, _assert[\"default\"])(fetch);\n            uri = (0, _resolveUrl.resolveUrl)(buffer.uri, options);\n            _context2.next = 9;\n            return fetch(uri);\n\n          case 9:\n            response = _context2.sent;\n            _context2.next = 12;\n            return response.arrayBuffer();\n\n          case 12:\n            arrayBuffer = _context2.sent;\n            gltf.buffers[i] = {\n              arrayBuffer: arrayBuffer,\n              byteOffset: 0,\n              byteLength: arrayBuffer.byteLength\n            };\n            delete buffer.uri;\n\n          case 15:\n            ++i;\n            _context2.next = 1;\n            break;\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loadBuffers.apply(this, arguments);\n}\n\nfunction loadImages(_x6, _x7, _x8) {\n  return _loadImages.apply(this, arguments);\n}\n\nfunction _loadImages() {\n  _loadImages = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee3(gltf, options, context) {\n    var images, promises, i;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            images = gltf.json.images || [];\n            promises = [];\n\n            for (i = 0; i < images.length; ++i) {\n              promises.push(loadImage(gltf, images[i], i, options, context));\n            }\n\n            _context3.next = 5;\n            return Promise.all(promises);\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _loadImages.apply(this, arguments);\n}\n\nfunction loadImage(_x9, _x10, _x11, _x12, _x13) {\n  return _loadImage.apply(this, arguments);\n}\n\nfunction _loadImage() {\n  _loadImage = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee4(gltf, image, i, options, context) {\n    var fetch, parse, arrayBuffer, uri, response, array, parsedImage;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            fetch = context.fetch, parse = context.parse;\n\n            if (!image.uri) {\n              _context4.next = 9;\n              break;\n            }\n\n            uri = (0, _resolveUrl.resolveUrl)(image.uri, options);\n            _context4.next = 5;\n            return fetch(uri);\n\n          case 5:\n            response = _context4.sent;\n            _context4.next = 8;\n            return response.arrayBuffer();\n\n          case 8:\n            arrayBuffer = _context4.sent;\n\n          case 9:\n            if (Number.isFinite(image.bufferView)) {\n              array = (0, _getTypedArray.getTypedArrayForBufferView)(gltf.json, gltf.buffers, image.bufferView);\n              arrayBuffer = (0, _loaderUtils.getZeroOffsetArrayBuffer)(array.buffer, array.byteOffset, array.byteLength);\n            }\n\n            (0, _assert[\"default\"])(arrayBuffer, 'glTF image has no data');\n            _context4.next = 13;\n            return parse(arrayBuffer, _images.ImageLoader, {}, context);\n\n          case 13:\n            parsedImage = _context4.sent;\n            gltf.images[i] = parsedImage;\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _loadImage.apply(this, arguments);\n}\n//# sourceMappingURL=parse-gltf.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_parseGLTF","_asyncToGenerator2","_regenerator","mark","_callee","gltf","arrayBufferOrString","byteOffset","options","context","promises","_promise","promise","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","uri","baseUri","data","ArrayBuffer","_parseGlb","isGLB","textDecoder","TextDecoder","decode","json","_loaderUtils","parseJSON","glb","_assert","type","concat","_glb","buffers","Array","fill","header","hasBinChunk","binChunks","arrayBuffer","byteLength","images","_normalizeGltfV","normalize","loadBuffers","loadImages","push","_gltfExtensions","decodeExtensions","Promise","all","abrupt","postProcess","_postProcessGltf","stop","apply","_x3","_x4","_x5","_loadBuffers","_callee2","i","buffer","fetch","response","_callee2$","_context2","_resolveUrl","resolveUrl","sent","_x6","_x7","_x8","_loadImages","_callee3","_callee3$","_context3","loadImage","_x9","_x10","_x11","_x12","_x13","_loadImage","_callee4","image","parse","array","parsedImage","_callee4$","_context4","Number","isFinite","bufferView","_getTypedArray","getTypedArrayForBufferView","getZeroOffsetArrayBuffer","_images","ImageLoader","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","isGLTF","dataView","DataView","parseGLTF","_x","_x2"]
}
