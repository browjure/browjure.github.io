{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$vertex_array.js",
"lineCount":20,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/vertex-array.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$vertex_array\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _accessor2 = _interopRequireDefault(require(\"./accessor\"));\n\nvar _buffer = _interopRequireDefault(require(\"./buffer\"));\n\nvar _vertexArrayObject = _interopRequireDefault(require(\"./vertex-array-object\"));\n\nvar _utils = require(\"../utils\");\n\nvar ERR_ATTRIBUTE_TYPE = 'VertexArray: attributes must be Buffers or constants (i.e. typed array)';\nvar MULTI_LOCATION_ATTRIBUTE_REGEXP = /^(.+)__LOCATION_([0-9]+)$/;\nvar DEPRECATIONS_V6 = ['setBuffers', 'setGeneric', 'clearBindings', 'setLocations', 'setGenericValues', 'setDivisor', 'enable', 'disable'];\n\nvar VertexArray = function () {\n  function VertexArray(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, VertexArray);\n    var id = opts.id || opts.program && opts.program.id;\n    this.id = id;\n    this.gl = gl;\n    this.configuration = null;\n    this.elements = null;\n    this.elementsAccessor = null;\n    this.values = null;\n    this.accessors = null;\n    this.unused = null;\n    this.drawParams = null;\n    this.buffer = null;\n    this.attributes = {};\n    this.vertexArrayObject = new _vertexArrayObject[\"default\"](gl);\n    (0, _utils.stubRemovedMethods)(this, 'VertexArray', 'v6.0', DEPRECATIONS_V6);\n    this.initialize(opts);\n    Object.seal(this);\n  }\n\n  (0, _createClass2[\"default\"])(VertexArray, [{\n    key: \"delete\",\n    value: function _delete() {\n      if (this.buffer) {\n        this.buffer[\"delete\"]();\n      }\n\n      this.vertexArrayObject[\"delete\"]();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.reset();\n      this.configuration = null;\n      this.bindOnUse = false;\n      return this.setProps(props);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.elements = null;\n      this.elementsAccessor = null;\n      var MAX_ATTRIBUTES = this.vertexArrayObject.MAX_ATTRIBUTES;\n      this.values = new Array(MAX_ATTRIBUTES).fill(null);\n      this.accessors = new Array(MAX_ATTRIBUTES).fill(null);\n      this.unused = {};\n      this.drawParams = null;\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('program' in props) {\n        this.configuration = props.program && props.program.configuration;\n      }\n\n      if ('configuration' in props) {\n        this.configuration = props.configuration;\n      }\n\n      if ('attributes' in props) {\n        this.setAttributes(props.attributes);\n      }\n\n      if ('elements' in props) {\n        this.setElementBuffer(props.elements);\n      }\n\n      if ('bindOnUse' in props) {\n        props = props.bindOnUse;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"clearDrawParams\",\n    value: function clearDrawParams() {\n      this.drawParams = null;\n    }\n  }, {\n    key: \"getDrawParams\",\n    value: function getDrawParams() {\n      this.drawParams = this.drawParams || this._updateDrawParams();\n      return this.drawParams;\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes(attributes) {\n      var _this = this;\n\n      Object.assign(this.attributes, attributes);\n      this.vertexArrayObject.bind(function () {\n        for (var locationOrName in attributes) {\n          var value = attributes[locationOrName];\n\n          _this._setAttribute(locationOrName, value);\n        }\n\n        _this.gl.bindBuffer(34962, null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.elements = elementBuffer;\n      this.elementsAccessor = accessor;\n      this.clearDrawParams();\n      this.vertexArrayObject.setElementBuffer(elementBuffer, accessor);\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(locationOrName, buffer) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, appAccessor);\n      }\n\n      var _this$_resolveLocatio = this._resolveLocationAndAccessor(locationOrName, buffer, buffer.accessor, appAccessor),\n          location = _this$_resolveLocatio.location,\n          accessor = _this$_resolveLocatio.accessor;\n\n      if (location >= 0) {\n        this.values[location] = buffer;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.setBuffer(location, buffer, accessor);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(locationOrName, arrayValue) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _this$_resolveLocatio2 = this._resolveLocationAndAccessor(locationOrName, arrayValue, Object.assign({\n        size: arrayValue.length\n      }, appAccessor)),\n          location = _this$_resolveLocatio2.location,\n          accessor = _this$_resolveLocatio2.accessor;\n\n      if (location >= 0) {\n        arrayValue = this.vertexArrayObject._normalizeConstantArrayValue(arrayValue);\n        this.values[location] = arrayValue;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.enable(location, false);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unbindBuffers\",\n    value: function unbindBuffers() {\n      var _this2 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this2.elements) {\n          _this2.vertexArrayObject.setElementBuffer(null);\n        }\n\n        _this2.buffer = _this2.buffer || new _buffer[\"default\"](_this2.gl, {\n          accessor: {\n            size: 4\n          }\n        });\n\n        for (var location = 0; location < _this2.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          if (_this2.values[location] instanceof _buffer[\"default\"]) {\n            _this2.gl.disableVertexAttribArray(location);\n\n            _this2.gl.bindBuffer(34962, _this2.buffer.handle);\n\n            _this2.gl.vertexAttribPointer(location, 1, 5126, false, 0, 0);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindBuffers\",\n    value: function bindBuffers() {\n      var _this3 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this3.elements) {\n          _this3.setElementBuffer(_this3.elements);\n        }\n\n        for (var location = 0; location < _this3.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          var buffer = _this3.values[location];\n\n          if (buffer instanceof _buffer[\"default\"]) {\n            _this3.setBuffer(location, buffer);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindForDraw\",\n    value: function bindForDraw(vertexCount, instanceCount, func) {\n      var _this4 = this;\n\n      var value;\n      this.vertexArrayObject.bind(function () {\n        _this4._setConstantAttributes(vertexCount, instanceCount);\n\n        value = func();\n      });\n      return value;\n    }\n  }, {\n    key: \"_resolveLocationAndAccessor\",\n    value: function _resolveLocationAndAccessor(locationOrName, value, valueAccessor, appAccessor) {\n      var _this5 = this;\n\n      var INVALID_RESULT = {\n        location: -1,\n        accessor: null\n      };\n\n      var _this$_getAttributeIn = this._getAttributeIndex(locationOrName),\n          location = _this$_getAttributeIn.location,\n          name = _this$_getAttributeIn.name;\n\n      if (!Number.isFinite(location) || location < 0) {\n        this.unused[locationOrName] = value;\n\n        _gltools.log.once(3, function () {\n          return \"unused value \".concat(locationOrName, \" in \").concat(_this5.id);\n        })();\n\n        return INVALID_RESULT;\n      }\n\n      var accessInfo = this._getAttributeInfo(name || location);\n\n      if (!accessInfo) {\n        return INVALID_RESULT;\n      }\n\n      var currentAccessor = this.accessors[location] || {};\n\n      var accessor = _accessor2[\"default\"].resolve(accessInfo.accessor, currentAccessor, valueAccessor, appAccessor);\n\n      var size = accessor.size,\n          type = accessor.type;\n      (0, _utils.assert)(Number.isFinite(size) && Number.isFinite(type));\n      return {\n        location: location,\n        accessor: accessor\n      };\n    }\n  }, {\n    key: \"_getAttributeInfo\",\n    value: function _getAttributeInfo(attributeName) {\n      return this.configuration && this.configuration.getAttributeInfo(attributeName);\n    }\n  }, {\n    key: \"_getAttributeIndex\",\n    value: function _getAttributeIndex(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return {\n          location: location\n        };\n      }\n\n      var multiLocation = MULTI_LOCATION_ATTRIBUTE_REGEXP.exec(locationOrName);\n      var name = multiLocation ? multiLocation[1] : locationOrName;\n      var locationOffset = multiLocation ? Number(multiLocation[2]) : 0;\n\n      if (this.configuration) {\n        return {\n          location: this.configuration.getAttributeLocation(name) + locationOffset,\n          name: name\n        };\n      }\n\n      return {\n        location: -1\n      };\n    }\n  }, {\n    key: \"_setAttribute\",\n    value: function _setAttribute(locationOrName, value) {\n      if (value instanceof _buffer[\"default\"]) {\n        this.setBuffer(locationOrName, value);\n      } else if (Array.isArray(value) && value.length && value[0] instanceof _buffer[\"default\"]) {\n        var buffer = value[0];\n        var accessor = value[1];\n        this.setBuffer(locationOrName, buffer, accessor);\n      } else if (ArrayBuffer.isView(value) || Array.isArray(value)) {\n        var constant = value;\n        this.setConstant(locationOrName, constant);\n      } else if (value.buffer instanceof _buffer[\"default\"]) {\n        var _accessor = value;\n        this.setBuffer(locationOrName, _accessor.buffer, _accessor);\n      } else {\n        throw new Error(ERR_ATTRIBUTE_TYPE);\n      }\n    }\n  }, {\n    key: \"_setConstantAttributes\",\n    value: function _setConstantAttributes(vertexCount, instanceCount) {\n      var elementCount = Math.max(vertexCount | 0, instanceCount | 0);\n      var constant = this.values[0];\n\n      if (ArrayBuffer.isView(constant)) {\n        this._setConstantAttributeZero(constant, elementCount);\n      }\n\n      for (var location = 1; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        constant = this.values[location];\n\n        if (ArrayBuffer.isView(constant)) {\n          this._setConstantAttribute(location, constant);\n        }\n      }\n    }\n  }, {\n    key: \"_setConstantAttributeZero\",\n    value: function _setConstantAttributeZero(constant, elementCount) {\n      if (_vertexArrayObject[\"default\"].isSupported(this.gl, {\n        constantAttributeZero: true\n      })) {\n        this._setConstantAttribute(0, constant);\n\n        return;\n      }\n\n      var buffer = this.vertexArrayObject.getConstantBuffer(elementCount, constant);\n      this.vertexArrayObject.setBuffer(0, buffer, this.accessors[0]);\n    }\n  }, {\n    key: \"_setConstantAttribute\",\n    value: function _setConstantAttribute(location, constant) {\n      _vertexArrayObject[\"default\"].setConstant(this.gl, location, constant);\n    }\n  }, {\n    key: \"_updateDrawParams\",\n    value: function _updateDrawParams() {\n      var drawParams = {\n        isIndexed: false,\n        isInstanced: false,\n        indexCount: Infinity,\n        vertexCount: Infinity,\n        instanceCount: Infinity\n      };\n\n      for (var location = 0; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        this._updateDrawParamsForLocation(drawParams, location);\n      }\n\n      if (this.elements) {\n        drawParams.elementCount = this.elements.getElementCount(this.elements.accessor);\n        drawParams.isIndexed = true;\n        drawParams.indexType = this.elementsAccessor.type || this.elements.accessor.type;\n        drawParams.indexOffset = this.elementsAccessor.offset || 0;\n      }\n\n      if (drawParams.indexCount === Infinity) {\n        drawParams.indexCount = 0;\n      }\n\n      if (drawParams.vertexCount === Infinity) {\n        drawParams.vertexCount = 0;\n      }\n\n      if (drawParams.instanceCount === Infinity) {\n        drawParams.instanceCount = 0;\n      }\n\n      return drawParams;\n    }\n  }, {\n    key: \"_updateDrawParamsForLocation\",\n    value: function _updateDrawParamsForLocation(drawParams, location) {\n      var value = this.values[location];\n      var accessor = this.accessors[location];\n\n      if (!value) {\n        return;\n      }\n\n      var divisor = accessor.divisor;\n      var isInstanced = divisor > 0;\n      drawParams.isInstanced = drawParams.isInstanced || isInstanced;\n\n      if (value instanceof _buffer[\"default\"]) {\n        var buffer = value;\n\n        if (isInstanced) {\n          var instanceCount = buffer.getVertexCount(accessor);\n          drawParams.instanceCount = Math.min(drawParams.instanceCount, instanceCount);\n        } else {\n          var vertexCount = buffer.getVertexCount(accessor);\n          drawParams.vertexCount = Math.min(drawParams.vertexCount, vertexCount);\n        }\n      }\n    }\n  }, {\n    key: \"setElements\",\n    value: function setElements() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _gltools.log.deprecated('setElements', 'setElementBuffer')();\n\n      return this.setElementBuffer(elementBuffer, accessor);\n    }\n  }]);\n  return VertexArray;\n}();\n\nexports[\"default\"] = VertexArray;\n//# sourceMappingURL=vertex-array.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_gltools","_accessor2","_buffer","_vertexArrayObject","_utils","MULTI_LOCATION_ATTRIBUTE_REGEXP","DEPRECATIONS_V6","VertexArray","gl","opts","arguments","length","undefined","id","program","buffer","drawParams","unused","accessors","values","elementsAccessor","elements","configuration","attributes","vertexArrayObject","stubRemovedMethods","initialize","seal","key","_delete","props","reset","bindOnUse","setProps","MAX_ATTRIBUTES","Array","fill","setAttributes","setElementBuffer","clearDrawParams","getDrawParams","_updateDrawParams","_this","assign","bind","locationOrName","_setAttribute","bindBuffer","elementBuffer","accessor","setBuffer","appAccessor","target","_this$_resolveLocatio","_resolveLocationAndAccessor","location","setConstant","arrayValue","_this$_resolveLocatio2","size","_normalizeConstantArrayValue","enable","unbindBuffers","_this2","disableVertexAttribArray","handle","vertexAttribPointer","bindBuffers","_this3","bindForDraw","vertexCount","instanceCount","func","_this4","_setConstantAttributes","valueAccessor","_this5","INVALID_RESULT","_this$_getAttributeIn","_getAttributeIndex","name","Number","isFinite","log","once","concat","accessInfo","_getAttributeInfo","resolve","type","assert","attributeName","getAttributeInfo","multiLocation","exec","locationOffset","getAttributeLocation","isArray","ArrayBuffer","isView","Error","ERR_ATTRIBUTE_TYPE","elementCount","Math","max","constant","_setConstantAttributeZero","_setConstantAttribute","isSupported","constantAttributeZero","getConstantBuffer","isIndexed","isInstanced","indexCount","Infinity","_updateDrawParamsForLocation","getElementCount","indexType","indexOffset","offset","divisor","getVertexCount","min","setElements","deprecated"]
}
