SHADOW_ENV.evalLoad("module$node_modules$codemirror$lib$codemirror.js", true , "shadow$provide.module$node_modules$codemirror$lib$codemirror\x3dfunction(global$jscomp$0,require,module,exports){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?module.exports\x3dfactory():\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(factory):(global\x3dglobal||self,global.CodeMirror\x3dfactory())})(this,function(){function classTest(cls){return new RegExp(\x22(^|\\\\s)\x22+cls+\x22(?:$|\\\\s)\\\\s*\x22)}function removeChildren(e){for(var count\x3de.childNodes.length;0\x3ccount;--count)e.removeChild(e.firstChild);\nreturn e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt$jscomp$0(tag,content,className,style){tag\x3ddocument.createElement(tag);className\x26\x26(tag.className\x3dclassName);style\x26\x26(tag.style.cssText\x3dstyle);if(\x22string\x22\x3d\x3dtypeof content)tag.appendChild(document.createTextNode(content));else if(content)for(className\x3d0;className\x3ccontent.length;++className)tag.appendChild(content[className]);return tag}function eltP(tag,content,className,style){tag\x3delt$jscomp$0(tag,\ncontent,className,style);tag.setAttribute(\x22role\x22,\x22presentation\x22);return tag}function contains(parent,child){3\x3d\x3dchild.nodeType\x26\x26(child\x3dchild.parentNode);if(parent.contains)return parent.contains(child);do if(11\x3d\x3dchild.nodeType\x26\x26(child\x3dchild.host),child\x3d\x3dparent)return!0;while(child\x3dchild.parentNode)}function activeElt(){try{var activeElement\x3ddocument.activeElement}catch(e){activeElement\x3ddocument.body||null}for(;activeElement\x26\x26activeElement.shadowRoot\x26\x26activeElement.shadowRoot.activeElement;)activeElement\x3d\nactiveElement.shadowRoot.activeElement;return activeElement}function addClass(node,cls){var current\x3dnode.className;classTest(cls).test(current)||(node.className+\x3d(current?\x22 \x22:\x22\x22)+cls)}function joinClasses(a,b){a\x3da.split(\x22 \x22);for(var i\x3d0;i\x3ca.length;i++)a[i]\x26\x26!classTest(a[i]).test(b)\x26\x26(b+\x3d\x22 \x22+a[i]);return b}function bind(f){var args\x3dArray.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){target||(target\x3d{});for(var prop in obj)!obj.hasOwnProperty(prop)||\n!1\x3d\x3d\x3doverwrite\x26\x26target.hasOwnProperty(prop)||(target[prop]\x3dobj[prop]);return target}function countColumn(string,end,tabSize,startIndex,startValue){null\x3d\x3dend\x26\x26(end\x3dstring.search(/[^\\s\\u00a0]/),-1\x3d\x3dend\x26\x26(end\x3dstring.length));startIndex\x3dstartIndex||0;for(startValue\x3dstartValue||0;;){var nextTab\x3dstring.indexOf(\x22\\t\x22,startIndex);if(0\x3enextTab||nextTab\x3e\x3dend)return startValue+(end-startIndex);startValue+\x3dnextTab-startIndex;startValue+\x3dtabSize-startValue%tabSize;startIndex\x3dnextTab+1}}function indexOf(array,elt){for(var i\x3d\n0;i\x3carray.length;++i)if(array[i]\x3d\x3delt)return i;return-1}function findColumn(string,goal,tabSize){for(var pos\x3d0,col\x3d0;;){var nextTab\x3dstring.indexOf(\x22\\t\x22,pos);-1\x3d\x3dnextTab\x26\x26(nextTab\x3dstring.length);var skipped\x3dnextTab-pos;if(nextTab\x3d\x3dstring.length||col+skipped\x3e\x3dgoal)return pos+Math.min(skipped,goal-col);col+\x3dnextTab-pos;col+\x3dtabSize-col%tabSize;pos\x3dnextTab+1;if(col\x3e\x3dgoal)return pos}}function spaceStr(n){for(;spaceStrs.length\x3c\x3dn;)spaceStrs.push(lst(spaceStrs)+\x22 \x22);return spaceStrs[n]}function lst(arr){return arr[arr.length-\n1]}function map$jscomp$0(array,f){for(var out\x3d[],i\x3d0;i\x3carray.length;i++)out[i]\x3df(array[i],i);return out}function insertSorted(array,value,score){for(var pos\x3d0,priority\x3dscore(value);pos\x3carray.length\x26\x26score(array[pos])\x3c\x3dpriority;)pos++;array.splice(pos,0,value)}function nothing(){}function createObj(base,props){Object.create?base\x3dObject.create(base):(nothing.prototype\x3dbase,base\x3dnew nothing);props\x26\x26copyObj(props,base);return base}function isWordCharBasic(ch){return/\\w/.test(ch)||\x22\x80\x22\x3cch\x26\x26(ch.toUpperCase()!\x3d\nch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){return helper?-1\x3chelper.source.indexOf(\x22\\\\w\x22)\x26\x26isWordCharBasic(ch)?!0:helper.test(ch):isWordCharBasic(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)\x26\x26obj[n])return!1;return!0}function isExtendingChar(ch){return 768\x3c\x3dch.charCodeAt(0)\x26\x26extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){for(;(0\x3edir?0\x3cpos:pos\x3cstr.length)\x26\x26isExtendingChar(str.charAt(pos));)pos+\x3ddir;return pos}function findFirst(pred,\nfrom,to){for(var dir\x3dfrom\x3eto?-1:1;;){if(from\x3d\x3dto)return from;var midF\x3d(from+to)/2;midF\x3d0\x3edir?Math.ceil(midF):Math.floor(midF);if(midF\x3d\x3dfrom)return pred(midF)?from:to;pred(midF)?to\x3dmidF:from\x3dmidF+dir}}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,\x22ltr\x22,0);for(var found\x3d!1,i\x3d0;i\x3corder.length;++i){var part\x3dorder[i];if(part.from\x3cto\x26\x26part.to\x3efrom||from\x3d\x3dto\x26\x26part.to\x3d\x3dfrom)f(Math.max(part.from,from),Math.min(part.to,to),1\x3d\x3dpart.level?\x22rtl\x22:\x22ltr\x22,i),found\x3d!0}found||f(from,to,\x22ltr\x22)}\nfunction getBidiPartAt(order,ch,sticky){var found;bidiOther\x3dnull;for(var i\x3d0;i\x3corder.length;++i){var cur\x3dorder[i];if(cur.from\x3cch\x26\x26cur.to\x3ech)return i;cur.to\x3d\x3dch\x26\x26(cur.from!\x3dcur.to\x26\x26\x22before\x22\x3d\x3dsticky?found\x3di:bidiOther\x3di);cur.from\x3d\x3dch\x26\x26(cur.from!\x3dcur.to\x26\x26\x22before\x22!\x3dsticky?found\x3di:bidiOther\x3di)}return null!\x3dfound?found:bidiOther}function getOrder(line,direction){var order\x3dline.order;null\x3d\x3dorder\x26\x26(order\x3dline.order\x3dbidiOrdering(line.text,direction));return order}function off$jscomp$0(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,\nf,!1);else if(emitter.detachEvent)emitter.detachEvent(\x22on\x22+type,f);else{var arr\x3d(emitter\x3demitter._handlers)\x26\x26emitter[type];arr\x26\x26(f\x3dindexOf(arr,f),-1\x3cf\x26\x26(emitter[type]\x3darr.slice(0,f).concat(arr.slice(f+1))))}}function signal(emitter,type){var handlers\x3demitter._handlers\x26\x26emitter._handlers[type]||noHandlers;if(handlers.length)for(var args\x3dArray.prototype.slice.call(arguments,2),i\x3d0;i\x3chandlers.length;++i)handlers[i].apply(null,args)}function signalDOMEvent(cm,e,override){\x22string\x22\x3d\x3dtypeof e\x26\x26(e\x3d{type:e,\npreventDefault:function(){this.defaultPrevented\x3d!0}});signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr\x3dcm._handlers\x26\x26cm._handlers.cursorActivity;if(arr){cm\x3dcm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers\x3d[]);for(var i\x3d0;i\x3carr.length;++i)-1\x3d\x3dindexOf(cm,arr[i])\x26\x26cm.push(arr[i])}}function hasHandler(emitter,type){return 0\x3c(emitter._handlers\x26\x26emitter._handlers[type]||noHandlers).length}function eventMixin(ctor){ctor.prototype.on\x3d\nfunction(type,f){on$jscomp$0(this,type,f)};ctor.prototype.off\x3dfunction(type,f){off$jscomp$0(this,type,f)}}function e_preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue\x3d!1}function e_stopPropagation(e){e.stopPropagation?e.stopPropagation():e.cancelBubble\x3d!0}function e_defaultPrevented(e){return null!\x3de.defaultPrevented?e.defaultPrevented:0\x3d\x3de.returnValue}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_button(e){var b\x3de.which;null\x3d\x3db\x26\x26(e.button\x261?b\x3d1:e.button\x26\n2?b\x3d3:e.button\x264\x26\x26(b\x3d2));mac\x26\x26e.ctrlKey\x26\x261\x3d\x3db\x26\x26(b\x3d3);return b}function zeroWidthElement(measure){if(null\x3d\x3dzwspSupported){var test\x3delt$jscomp$0(\x22span\x22,\x22\u200b\x22);removeChildrenAndAdd(measure,elt$jscomp$0(\x22span\x22,[test,document.createTextNode(\x22x\x22)]));0!\x3dmeasure.firstChild.offsetHeight\x26\x26(zwspSupported\x3d1\x3e\x3dtest.offsetWidth\x26\x262\x3ctest.offsetHeight\x26\x26!(ie\x26\x268\x3eie_version))}measure\x3dzwspSupported?elt$jscomp$0(\x22span\x22,\x22\u200b\x22):elt$jscomp$0(\x22span\x22,\x22\xa0\x22,null,\x22display: inline-block; width: 1px; margin-right: -1px\x22);measure.setAttribute(\x22cm-text\x22,\n\x22\x22);return measure}function defineMode(name,mode){2\x3carguments.length\x26\x26(mode.dependencies\x3dArray.prototype.slice.call(arguments,2));modes[name]\x3dmode}function resolveMode(spec){if(\x22string\x22\x3d\x3dtypeof spec\x26\x26mimeModes.hasOwnProperty(spec))spec\x3dmimeModes[spec];else if(spec\x26\x26\x22string\x22\x3d\x3dtypeof spec.name\x26\x26mimeModes.hasOwnProperty(spec.name)){var found\x3dmimeModes[spec.name];\x22string\x22\x3d\x3dtypeof found\x26\x26(found\x3d{name:found});spec\x3dcreateObj(found,spec);spec.name\x3dfound.name}else{if(\x22string\x22\x3d\x3dtypeof spec\x26\x26/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec))return resolveMode(\x22application/xml\x22);\nif(\x22string\x22\x3d\x3dtypeof spec\x26\x26/^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec))return resolveMode(\x22application/json\x22)}return\x22string\x22\x3d\x3dtypeof spec?{name:spec}:spec||{name:\x22null\x22}}function getMode(options,spec){spec\x3dresolveMode(spec);var mfactory\x3dmodes[spec.name];if(!mfactory)return getMode(options,\x22text/plain\x22);options\x3dmfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){mfactory\x3dmodeExtensions[spec.name];for(var prop in mfactory)mfactory.hasOwnProperty(prop)\x26\x26(options.hasOwnProperty(prop)\x26\x26(options[\x22_\x22+\nprop]\x3doptions[prop]),options[prop]\x3dmfactory[prop])}options.name\x3dspec.name;spec.helperType\x26\x26(options.helperType\x3dspec.helperType);if(spec.modeProps)for(var prop$1 in spec.modeProps)options[prop$1]\x3dspec.modeProps[prop$1];return options}function extendMode(mode,properties){mode\x3dmodeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]\x3d{};copyObj(properties,mode)}function copyState(mode,state){if(!0\x3d\x3d\x3dstate)return state;if(mode.copyState)return mode.copyState(state);mode\x3d{};for(var n in state){var val\x3d\nstate[n];val instanceof Array\x26\x26(val\x3dval.concat([]));mode[n]\x3dval}return mode}function innerMode(mode,state){for(var info;mode.innerMode;){info\x3dmode.innerMode(state);if(!info||info.mode\x3d\x3dmode)break;state\x3dinfo.state;mode\x3dinfo.mode}return info||{mode,state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):!0}function getLine(doc,n){n-\x3ddoc.first;if(0\x3en||n\x3e\x3ddoc.size)throw Error(\x22There is no line \x22+(n+doc.first)+\x22 in the document.\x22);for(;!doc.lines;)for(var i\x3d0;;++i){var child\x3d\ndoc.children[i],sz\x3dchild.chunkSize();if(n\x3csz){doc\x3dchild;break}n-\x3dsz}return doc.lines[n]}function getBetween(doc,start,end){var out\x3d[],n\x3dstart.line;doc.iter(start.line,end.line+1,function(line){line\x3dline.text;n\x3d\x3dend.line\x26\x26(line\x3dline.slice(0,end.ch));n\x3d\x3dstart.line\x26\x26(line\x3dline.slice(start.ch));out.push(line);++n});return out}function getLines(doc,from,to){var out\x3d[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){if(height-\x3dline.height)for(;line;line\x3d\nline.parent)line.height+\x3dheight}function lineNo(line){if(null\x3d\x3dline.parent)return null;var cur\x3dline.parent;line\x3dindexOf(cur.lines,line);for(var chunk\x3dcur.parent;chunk;cur\x3dchunk,chunk\x3dchunk.parent)for(var i\x3d0;chunk.children[i]!\x3dcur;++i)line+\x3dchunk.children[i].chunkSize();return line+cur.first}function lineAtHeight(chunk,h){var n\x3dchunk.first;a:do{for(var i$1\x3d0;i$1\x3cchunk.children.length;++i$1){var child\x3dchunk.children[i$1],ch\x3dchild.height;if(h\x3cch){chunk\x3dchild;continue a}h-\x3dch;n+\x3dchild.chunkSize()}return n}while(!chunk.lines);\nfor(i$1\x3d0;i$1\x3cchunk.lines.length;++i$1){child\x3dchunk.lines[i$1].height;if(h\x3cchild)break;h-\x3dchild}return n+i$1}function isLine(doc,l){return l\x3e\x3ddoc.first\x26\x26l\x3cdoc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,ch,sticky){void 0\x3d\x3d\x3dsticky\x26\x26(sticky\x3dnull);if(!(this instanceof Pos))return new Pos(line,ch,sticky);this.line\x3dline;this.ch\x3dch;this.sticky\x3dsticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,\nb){return a.sticky\x3d\x3db.sticky\x26\x260\x3d\x3dcmp(a,b)}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return 0\x3ecmp(a,b)?b:a}function minPos(a,b){return 0\x3ecmp(a,b)?a:b}function clipPos(doc,pos){if(pos.line\x3cdoc.first)return Pos(doc.first,0);var last\x3ddoc.first+doc.size-1;if(pos.line\x3elast)return Pos(last,getLine(doc,last).text.length);doc\x3dgetLine(doc,pos.line).text.length;last\x3dpos.ch;pos\x3dnull\x3d\x3dlast||last\x3edoc?Pos(pos.line,doc):0\x3elast?Pos(pos.line,0):pos;return pos}function clipPosArray(doc,array){for(var out\x3d\n[],i\x3d0;i\x3carray.length;i++)out[i]\x3dclipPos(doc,array[i]);return out}function highlightLine(cm,line,context,forceToEnd){var st\x3d[cm.state.modeGen],lineClasses\x3d{};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var state\x3dcontext.state;forceToEnd\x3dfunction(o){context.baseTokens\x3dst;var overlay\x3dcm.state.overlays[o],i\x3d1,at\x3d0;context.state\x3d!0;runMode(cm,line.text,overlay.mode,context,function(end,style){for(var start\x3di;at\x3cend;){var i_end\x3dst[i];\ni_end\x3eend\x26\x26st.splice(i,1,end,st[i+1],i_end);i+\x3d2;at\x3dMath.min(end,i_end)}if(style)if(overlay.opaque)st.splice(start,i-start,end,\x22overlay \x22+style),i\x3dstart+2;else for(;start\x3ci;start+\x3d2)end\x3dst[start+1],st[start+1]\x3d(end?end+\x22 \x22:\x22\x22)+\x22overlay \x22+style},lineClasses);context.state\x3dstate;context.baseTokens\x3dnull;context.baseTokenPos\x3d1};for(var o$jscomp$0\x3d0;o$jscomp$0\x3ccm.state.overlays.length;++o$jscomp$0)forceToEnd(o$jscomp$0);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}\nfunction getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!\x3dcm.state.modeGen){var context\x3dgetContextBefore(cm,lineNo(line)),resetState\x3dline.text.length\x3ecm.options.maxHighlightLength\x26\x26copyState(cm.doc.mode,context.state),result\x3dhighlightLine(cm,line,context);resetState\x26\x26(context.state\x3dresetState);line.stateAfter\x3dcontext.save(!resetState);line.styles\x3dresult.styles;result.classes?line.styleClasses\x3dresult.classes:line.styleClasses\x26\x26(line.styleClasses\x3dnull);updateFrontier\x3d\x3d\x3dcm.doc.highlightFrontier\x26\x26\n(cm.doc.modeFrontier\x3dMath.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier))}return line.styles}function getContextBefore(cm,n,precise){var doc\x3dcm.doc,display\x3dcm.display;if(!doc.mode.startState)return new Context(doc,!0,n);var start\x3dfindStartLine(cm,n,precise),saved\x3dstart\x3edoc.first\x26\x26getLine(doc,start-1).stateAfter,context\x3dsaved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos\x3dcontext.line;line.stateAfter\x3d\npos\x3d\x3dn-1||0\x3d\x3dpos%5||pos\x3e\x3ddisplay.viewFrom\x26\x26pos\x3cdisplay.viewTo?context.save():null;context.nextLine()});precise\x26\x26(doc.modeFrontier\x3dcontext.line);return context}function processLine(cm,text,context,startAt){var mode\x3dcm.doc.mode;cm\x3dnew StringStream(text,cm.options.tabSize,context);cm.start\x3dcm.pos\x3dstartAt||0;for(\x22\x22\x3d\x3dtext\x26\x26callBlankLine(mode,context.state);!cm.eol();)readToken(mode,cm,context.state),cm.start\x3dcm.pos}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(mode.innerMode\x26\x26\n(mode\x3dinnerMode(mode,state),mode.mode.blankLine))return mode.mode.blankLine(mode.state)}function readToken(mode,stream,state,inner){for(var i\x3d0;10\x3ei;i++){inner\x26\x26(inner[0]\x3dinnerMode(mode,state).mode);var style\x3dmode.token(stream,state);if(stream.pos\x3estream.start)return style}throw Error(\x22Mode \x22+mode.name+\x22 failed to advance stream.\x22);}function takeToken(cm,pos,precise,asArray){var doc\x3dcm.doc,mode\x3ddoc.mode;pos\x3dclipPos(doc,pos);var line\x3dgetLine(doc,pos.line);precise\x3dgetContextBefore(cm,pos.line,precise);\ncm\x3dnew StringStream(line.text,cm.options.tabSize,precise);var tokens;for(asArray\x26\x26(tokens\x3d[]);(asArray||cm.pos\x3cpos.ch)\x26\x26!cm.eol();){cm.start\x3dcm.pos;var style\x3dreadToken(mode,cm,precise.state);asArray\x26\x26tokens.push(new Token(cm,style,copyState(doc.mode,precise.state)))}return asArray?tokens:new Token(cm,style,precise.state)}function extractLineClasses(type,output){if(type)for(;;){var lineClass\x3dtype.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!lineClass)break;type\x3dtype.slice(0,lineClass.index)+type.slice(lineClass.index+\nlineClass[0].length);var prop\x3dlineClass[1]?\x22bgClass\x22:\x22textClass\x22;null\x3d\x3doutput[prop]?output[prop]\x3dlineClass[2]:(new RegExp(\x22(?:^|\\\\s)\x22+lineClass[2]+\x22(?:$|\\\\s)\x22)).test(output[prop])||(output[prop]+\x3d\x22 \x22+lineClass[2])}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans\x3dmode.flattenSpans;null\x3d\x3dflattenSpans\x26\x26(flattenSpans\x3dcm.options.flattenSpans);var curStart\x3d0,curStyle\x3dnull,stream\x3dnew StringStream(text,cm.options.tabSize,context),inner\x3dcm.options.addModeClass\x26\x26\n[null];for(\x22\x22\x3d\x3dtext\x26\x26extractLineClasses(callBlankLine(mode,context.state),lineClasses);!stream.eol();){if(stream.pos\x3ecm.options.maxHighlightLength){flattenSpans\x3d!1;forceToEnd\x26\x26processLine(cm,text,context,stream.pos);stream.pos\x3dtext.length;var style\x3dnull}else style\x3dextractLineClasses(readToken(mode,stream,context.state,inner),lineClasses);if(inner){var mName\x3dinner[0].name;mName\x26\x26(style\x3d\x22m-\x22+(style?mName+\x22 \x22+style:mName))}if(!flattenSpans||curStyle!\x3dstyle){for(;curStart\x3cstream.start;)curStart\x3dMath.min(stream.start,\ncurStart+5E3),f(curStart,curStyle);curStyle\x3dstyle}stream.start\x3dstream.pos}for(;curStart\x3cstream.pos;)cm\x3dMath.min(stream.pos,curStart+5E3),f(cm,curStyle),curStart\x3dcm}function findStartLine(cm,n,precise){for(var minindent,minline,doc\x3dcm.doc,lim\x3dprecise?-1:n-(cm.doc.mode.innerMode?1E3:100);n\x3elim;--n){if(n\x3c\x3ddoc.first)return doc.first;var line\x3dgetLine(doc,n-1),after\x3dline.stateAfter;if(after\x26\x26(!precise||n+(after instanceof SavedContext?after.lookAhead:0)\x3c\x3ddoc.modeFrontier))return n;line\x3dcountColumn(line.text,\nnull,cm.options.tabSize);if(null\x3d\x3dminline||minindent\x3eline)minline\x3dn-1,minindent\x3dline}return minline}function retreatFrontier(doc,n){doc.modeFrontier\x3dMath.min(doc.modeFrontier,n);if(!(doc.highlightFrontier\x3cn-10)){for(var start\x3ddoc.first,line\x3dn-1;line\x3estart;line--){var saved\x3dgetLine(doc,line).stateAfter;if(saved\x26\x26(!(saved instanceof SavedContext)||line+saved.lookAhead\x3cn)){start\x3dline+1;break}}doc.highlightFrontier\x3dMath.min(doc.highlightFrontier,start)}}function MarkedSpan(marker,from,to){this.marker\x3d\nmarker;this.from\x3dfrom;this.to\x3dto}function getMarkedSpanFor(spans,marker){if(spans)for(var i\x3d0;i\x3cspans.length;++i){var span\x3dspans[i];if(span.marker\x3d\x3dmarker)return span}}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst\x3disLine(doc,change.from.line)\x26\x26getLine(doc,change.from.line).markedSpans,oldLast\x3disLine(doc,change.to.line)\x26\x26getLine(doc,change.to.line).markedSpans;if(!oldFirst\x26\x26!oldLast)return null;doc\x3dchange.from.ch;var endCh\x3dchange.to.ch,isInsert\x3d0\x3d\x3dcmp(change.from,\nchange.to),nw;if(oldFirst)for(var i\x3d0;i\x3coldFirst.length;++i){var span\x3doldFirst[i],marker\x3dspan.marker;if(null\x3d\x3dspan.from||(marker.inclusiveLeft?span.from\x3c\x3ddoc:span.from\x3cdoc)||!(span.from!\x3ddoc||\x22bookmark\x22!\x3dmarker.type||isInsert\x26\x26span.marker.insertLeft)){var endsAfter\x3dnull\x3d\x3dspan.to||(marker.inclusiveRight?span.to\x3e\x3ddoc:span.to\x3edoc);(nw||(nw\x3d[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}oldFirst\x3dnw;var last;if(oldLast)for(nw\x3d0;nw\x3coldLast.length;++nw)if(i\x3doldLast[nw],span\x3di.marker,\nnull\x3d\x3di.to||(span.inclusiveRight?i.to\x3e\x3dendCh:i.to\x3eendCh)||i.from\x3d\x3dendCh\x26\x26\x22bookmark\x22\x3d\x3dspan.type\x26\x26(!isInsert||i.marker.insertLeft))marker\x3dnull\x3d\x3di.from||(span.inclusiveLeft?i.from\x3c\x3dendCh:i.from\x3cendCh),(last||(last\x3d[])).push(new MarkedSpan(span,marker?null:i.from-endCh,null\x3d\x3di.to?null:i.to-endCh));oldLast\x3d1\x3d\x3dchange.text.length;endCh\x3dlst(change.text).length+(oldLast?doc:0);if(oldFirst)for(isInsert\x3d0;isInsert\x3coldFirst.length;++isInsert)if(nw\x3doldFirst[isInsert],null\x3d\x3dnw.to)(i\x3dgetMarkedSpanFor(last,nw.marker),\ni)?oldLast\x26\x26(nw.to\x3dnull\x3d\x3di.to?null:i.to+endCh):nw.to\x3ddoc;if(last)for(doc\x3d0;doc\x3clast.length;++doc)isInsert\x3dlast[doc],null!\x3disInsert.to\x26\x26(isInsert.to+\x3dendCh),null\x3d\x3disInsert.from?getMarkedSpanFor(oldFirst,isInsert.marker)||(isInsert.from\x3dendCh,oldLast\x26\x26(oldFirst||(oldFirst\x3d[])).push(isInsert)):(isInsert.from+\x3dendCh,oldLast\x26\x26(oldFirst||(oldFirst\x3d[])).push(isInsert));oldFirst\x26\x26(oldFirst\x3dclearEmptySpans(oldFirst));last\x26\x26last!\x3doldFirst\x26\x26(last\x3dclearEmptySpans(last));doc\x3d[oldFirst];if(!oldLast){change\x3dchange.text.length-\n2;var gapMarkers;if(0\x3cchange\x26\x26oldFirst)for(oldLast\x3d0;oldLast\x3coldFirst.length;++oldLast)null\x3d\x3doldFirst[oldLast].to\x26\x26(gapMarkers||(gapMarkers\x3d[])).push(new MarkedSpan(oldFirst[oldLast].marker,null,null));for(oldFirst\x3d0;oldFirst\x3cchange;++oldFirst)doc.push(gapMarkers);doc.push(last)}return doc}function clearEmptySpans(spans){for(var i\x3d0;i\x3cspans.length;++i){var span\x3dspans[i];null!\x3dspan.from\x26\x26span.from\x3d\x3dspan.to\x26\x26!1!\x3d\x3dspan.marker.clearWhenEmpty\x26\x26spans.splice(i--,1)}return spans.length?spans:null}function removeReadOnlyRanges(doc,\nfrom,to){var markers\x3dnull;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i\x3d0;i\x3cline.markedSpans.length;++i){var mark\x3dline.markedSpans[i].marker;!mark.readOnly||markers\x26\x26-1!\x3dindexOf(markers,mark)||(markers||(markers\x3d[])).push(mark)}});if(!markers)return null;doc\x3d[{from,to}];for(from\x3d0;from\x3cmarkers.length;++from){to\x3dmarkers[from];for(var m\x3dto.find(0),j\x3d0;j\x3cdoc.length;++j){var p\x3ddoc[j];if(!(0\x3ecmp(p.to,m.from)||0\x3ccmp(p.from,m.to))){var newParts\x3d[j,1],dfrom\x3dcmp(p.from,m.from),\ndto\x3dcmp(p.to,m.to);(0\x3edfrom||!to.inclusiveLeft\x26\x26!dfrom)\x26\x26newParts.push({from:p.from,to:m.from});(0\x3cdto||!to.inclusiveRight\x26\x26!dto)\x26\x26newParts.push({from:m.to,to:p.to});doc.splice.apply(doc,newParts);j+\x3dnewParts.length-3}}}return doc}function detachMarkedSpans(line){var spans\x3dline.markedSpans;if(spans){for(var i\x3d0;i\x3cspans.length;++i)spans[i].marker.detachLine(line);line.markedSpans\x3dnull}}function attachMarkedSpans(line,spans){if(spans){for(var i\x3d0;i\x3cspans.length;++i)spans[i].marker.attachLine(line);\nline.markedSpans\x3dspans}}function compareCollapsedMarkers(a,b){var lenDiff\x3da.lines.length-b.lines.length;if(0!\x3dlenDiff)return lenDiff;lenDiff\x3da.find();var bPos\x3db.find(),fromCmp\x3dcmp(lenDiff.from,bPos.from)||(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return fromCmp?-fromCmp:(lenDiff\x3dcmp(lenDiff.to,bPos.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?lenDiff:b.id-a.id}function collapsedSpanAtSide(line,start){line\x3dsawCollapsedSpans\x26\x26line.markedSpans;if(line)for(var sp,i\x3d0;i\x3cline.length;++i)if(sp\x3d\nline[i],sp.marker.collapsed\x26\x26null\x3d\x3d(start?sp.from:sp.to)\x26\x26(!found||0\x3ecompareCollapsedMarkers(found,sp.marker)))var found\x3dsp.marker;return found}function conflictingCollapsedRange(doc,lineNo,from,to,marker){doc\x3dgetLine(doc,lineNo);if(doc\x3dsawCollapsedSpans\x26\x26doc.markedSpans)for(lineNo\x3d0;lineNo\x3cdoc.length;++lineNo){var sp\x3ddoc[lineNo];if(sp.marker.collapsed){var found\x3dsp.marker.find(0),fromCmp\x3dcmp(found.from,from)||(sp.marker.inclusiveLeft?-1:0)-(marker.inclusiveLeft?-1:0),toCmp\x3dcmp(found.to,to)||(sp.marker.inclusiveRight?\n1:0)-(marker.inclusiveRight?1:0);if(!(0\x3c\x3dfromCmp\x26\x260\x3e\x3dtoCmp||0\x3e\x3dfromCmp\x26\x260\x3c\x3dtoCmp)\x26\x26(0\x3e\x3dfromCmp\x26\x26(sp.marker.inclusiveRight\x26\x26marker.inclusiveLeft?0\x3c\x3dcmp(found.to,from):0\x3ccmp(found.to,from))||0\x3c\x3dfromCmp\x26\x26(sp.marker.inclusiveRight\x26\x26marker.inclusiveLeft?0\x3e\x3dcmp(found.from,to):0\x3ecmp(found.from,to))))return!0}}}function visualLine(line){for(var merged;merged\x3dcollapsedSpanAtSide(line,!0);)line\x3dmerged.find(-1,!0).line;return line}function visualLineNo(doc,lineN){doc\x3dgetLine(doc,lineN);var vis\x3dvisualLine(doc);\nreturn doc\x3d\x3dvis?lineN:lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN\x3edoc.lastLine())return lineN;var line\x3dgetLine(doc,lineN);if(!lineIsHidden(doc,line))return lineN;for(;doc\x3dcollapsedSpanAtSide(line,!1);)line\x3ddoc.find(1,!0).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps\x3dsawCollapsedSpans\x26\x26line.markedSpans;if(sps)for(var sp,i\x3d0;i\x3csps.length;++i)if(sp\x3dsps[i],sp.marker.collapsed\x26\x26(null\x3d\x3dsp.from||!sp.marker.widgetNode\x26\x260\x3d\x3dsp.from\x26\x26sp.marker.inclusiveLeft\x26\x26lineIsHiddenInner(doc,\nline,sp)))return!0}function lineIsHiddenInner(doc,line,span){if(null\x3d\x3dspan.to)return line\x3dspan.marker.find(1,!0),lineIsHiddenInner(doc,line.line,getMarkedSpanFor(line.line.markedSpans,span.marker));if(span.marker.inclusiveRight\x26\x26span.to\x3d\x3dline.text.length)return!0;for(var sp,i\x3d0;i\x3cline.markedSpans.length;++i)if(sp\x3dline.markedSpans[i],sp.marker.collapsed\x26\x26!sp.marker.widgetNode\x26\x26sp.from\x3d\x3dspan.to\x26\x26(null\x3d\x3dsp.to||sp.to!\x3dspan.from)\x26\x26(sp.marker.inclusiveLeft||span.marker.inclusiveRight)\x26\x26lineIsHiddenInner(doc,\nline,sp))return!0}function heightAtLine(lineObj){lineObj\x3dvisualLine(lineObj);for(var h\x3d0,chunk\x3dlineObj.parent,i\x3d0;i\x3cchunk.lines.length;++i){var line\x3dchunk.lines[i];if(line\x3d\x3dlineObj)break;else h+\x3dline.height}for(lineObj\x3dchunk.parent;lineObj;chunk\x3dlineObj,lineObj\x3dchunk.parent)for(i\x3d0;i\x3clineObj.children.length\x26\x26(line\x3dlineObj.children[i],line!\x3dchunk);++i)h+\x3dline.height;return h}function lineLength(line){if(0\x3d\x3dline.height)return 0;for(var len\x3dline.text.length,merged,cur\x3dline;merged\x3dcollapsedSpanAtSide(cur,\n!0);)merged\x3dmerged.find(0,!0),cur\x3dmerged.from.line,len+\x3dmerged.from.ch-merged.to.ch;for(cur\x3dline;merged\x3dcollapsedSpanAtSide(cur,!1);)line\x3dmerged.find(0,!0),len-\x3dcur.text.length-line.from.ch,cur\x3dline.to.line,len+\x3dcur.text.length-line.to.ch;return len}function findMaxLine(cm){var d\x3dcm.display;cm\x3dcm.doc;d.maxLine\x3dgetLine(cm,cm.first);d.maxLineLength\x3dlineLength(d.maxLine);d.maxLineChanged\x3d!0;cm.iter(function(line){var len\x3dlineLength(line);len\x3ed.maxLineLength\x26\x26(d.maxLineLength\x3dlen,d.maxLine\x3dline)})}function interpretTokenStyle(style,\noptions){if(!style||/^\\s*$/.test(style))return null;options\x3doptions.addModeClass?styleToClassCacheWithMode:styleToClassCache;return options[style]||(options[style]\x3dstyle.replace(/\\S+/g,\x22cm-$\\x26\x22))}function buildLineContent(cm,lineView){var content\x3deltP(\x22span\x22,null,null,webkit?\x22padding-right: .1px\x22:null);content\x3d{pre:eltP(\x22pre\x22,[content],\x22CodeMirror-line\x22),content,col:0,pos:0,cm,trailingSpace:!1,splitSpaces:cm.getOption(\x22lineWrapping\x22)};lineView.measure\x3d{};for(var i\x3d0;i\x3c\x3d(lineView.rest?lineView.rest.length:\n0);i++){var line\x3di?lineView.rest[i-1]:lineView.line,order\x3dvoid 0;content.pos\x3d0;content.addToken\x3dbuildToken;var JSCompiler_inline_result\x3dcm.display.measure;if(null!\x3dbadBidiRects)JSCompiler_inline_result\x3dbadBidiRects;else{var txt\x3dremoveChildrenAndAdd(JSCompiler_inline_result,document.createTextNode(\x22A\u062eA\x22)),r0\x3drange$jscomp$0(txt,0,1).getBoundingClientRect();txt\x3drange$jscomp$0(txt,1,2).getBoundingClientRect();removeChildren(JSCompiler_inline_result);JSCompiler_inline_result\x3dr0\x26\x26r0.left!\x3dr0.right?badBidiRects\x3d\n3\x3etxt.right-r0.right:!1}JSCompiler_inline_result\x26\x26(order\x3dgetOrder(line,cm.doc.direction))\x26\x26(content.addToken\x3dbuildTokenBadBidi(content.addToken,order));content.map\x3d[];var allowFrontierUpdate\x3dlineView!\x3dcm.display.externalMeasured\x26\x26lineNo(line);a:{var spanEndStyle\x3dtxt\x3dr0\x3dJSCompiler_inline_result\x3dvoid 0,spanStyle\x3dvoid 0,css\x3dvoid 0,style\x3dvoid 0;order\x3dcontent;allowFrontierUpdate\x3dgetLineStyles(cm,line,allowFrontierUpdate);var spans\x3dline.markedSpans,allText\x3dline.text,at\x3d0;if(spans)for(var len\x3dallText.length,\npos\x3d0,i$jscomp$0\x3d1,text\x3d\x22\x22,nextChange\x3d0;;){if(nextChange\x3d\x3dpos){spanStyle\x3dspanEndStyle\x3dtxt\x3dcss\x3d\x22\x22;r0\x3dJSCompiler_inline_result\x3dnull;nextChange\x3dInfinity;for(var foundBookmarks\x3d[],endStyles\x3dvoid 0,j\x3d0;j\x3cspans.length;++j){var sp\x3dspans[j],m\x3dsp.marker;if(\x22bookmark\x22\x3d\x3dm.type\x26\x26sp.from\x3d\x3dpos\x26\x26m.widgetNode)foundBookmarks.push(m);else if(sp.from\x3c\x3dpos\x26\x26(null\x3d\x3dsp.to||sp.to\x3epos||m.collapsed\x26\x26sp.to\x3d\x3dpos\x26\x26sp.from\x3d\x3dpos)){null!\x3dsp.to\x26\x26sp.to!\x3dpos\x26\x26nextChange\x3esp.to\x26\x26(nextChange\x3dsp.to,spanEndStyle\x3d\x22\x22);m.className\x26\x26(spanStyle+\x3d\n\x22 \x22+m.className);m.css\x26\x26(css\x3d(css?css+\x22;\x22:\x22\x22)+m.css);m.startStyle\x26\x26sp.from\x3d\x3dpos\x26\x26(txt+\x3d\x22 \x22+m.startStyle);m.endStyle\x26\x26sp.to\x3d\x3dnextChange\x26\x26(endStyles||(endStyles\x3d[])).push(m.endStyle,sp.to);m.title\x26\x26((JSCompiler_inline_result||(JSCompiler_inline_result\x3d{})).title\x3dm.title);if(m.attributes)for(var attr in m.attributes)(JSCompiler_inline_result||(JSCompiler_inline_result\x3d{}))[attr]\x3dm.attributes[attr];m.collapsed\x26\x26(!r0||0\x3ecompareCollapsedMarkers(r0.marker,m))\x26\x26(r0\x3dsp)}else sp.from\x3epos\x26\x26nextChange\x3esp.from\x26\x26\n(nextChange\x3dsp.from)}if(endStyles)for(j\x3d0;j\x3cendStyles.length;j+\x3d2)endStyles[j+1]\x3d\x3dnextChange\x26\x26(spanEndStyle+\x3d\x22 \x22+endStyles[j]);if(!r0||r0.from\x3d\x3dpos)for(endStyles\x3d0;endStyles\x3cfoundBookmarks.length;++endStyles)buildCollapsedSpan(order,0,foundBookmarks[endStyles]);if(r0\x26\x26(r0.from||0)\x3d\x3dpos){buildCollapsedSpan(order,(null\x3d\x3dr0.to?len+1:r0.to)-pos,r0.marker,null\x3d\x3dr0.from);if(null\x3d\x3dr0.to)break a;r0.to\x3d\x3dpos\x26\x26(r0\x3d!1)}}if(pos\x3e\x3dlen)break;for(foundBookmarks\x3dMath.min(len,nextChange);;){if(text){endStyles\x3dpos+text.length;\nr0||(j\x3dendStyles\x3efoundBookmarks?text.slice(0,foundBookmarks-pos):text,order.addToken(order,j,style?style+spanStyle:spanStyle,txt,pos+j.length\x3d\x3dnextChange?spanEndStyle:\x22\x22,css,JSCompiler_inline_result));if(endStyles\x3e\x3dfoundBookmarks){text\x3dtext.slice(foundBookmarks-pos);pos\x3dfoundBookmarks;break}pos\x3dendStyles;txt\x3d\x22\x22}text\x3dallText.slice(at,at\x3dallowFrontierUpdate[i$jscomp$0++]);style\x3dinterpretTokenStyle(allowFrontierUpdate[i$jscomp$0++],order.cm.options)}}else for(JSCompiler_inline_result\x3d1;JSCompiler_inline_result\x3c\nallowFrontierUpdate.length;JSCompiler_inline_result+\x3d2)order.addToken(order,allText.slice(at,at\x3dallowFrontierUpdate[JSCompiler_inline_result]),interpretTokenStyle(allowFrontierUpdate[JSCompiler_inline_result+1],order.cm.options))}line.styleClasses\x26\x26(line.styleClasses.bgClass\x26\x26(content.bgClass\x3djoinClasses(line.styleClasses.bgClass,content.bgClass||\x22\x22)),line.styleClasses.textClass\x26\x26(content.textClass\x3djoinClasses(line.styleClasses.textClass,content.textClass||\x22\x22)));0\x3d\x3dcontent.map.length\x26\x26content.map.push(0,\n0,content.content.appendChild(zeroWidthElement(cm.display.measure)));0\x3d\x3di?(lineView.measure.map\x3dcontent.map,lineView.measure.cache\x3d{}):((lineView.measure.maps||(lineView.measure.maps\x3d[])).push(content.map),(lineView.measure.caches||(lineView.measure.caches\x3d[])).push({}))}webkit\x26\x26(attr\x3dcontent.content.lastChild,/\\bcm-tab\\b/.test(attr.className)||attr.querySelector\x26\x26attr.querySelector(\x22.cm-tab\x22))\x26\x26(content.content.className\x3d\x22cm-tab-wrap-hack\x22);signal(cm,\x22renderLine\x22,cm,lineView.line,content.pre);content.pre.className\x26\x26\n(content.textClass\x3djoinClasses(content.pre.className,content.textClass||\x22\x22));return content}function defaultSpecialCharPlaceholder(ch){var token\x3delt$jscomp$0(\x22span\x22,\x22\u2022\x22,\x22cm-invalidchar\x22);token.title\x3d\x22\\\\u\x22+ch.charCodeAt(0).toString(16);token.setAttribute(\x22aria-label\x22,token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(text){if(builder.splitSpaces){var JSCompiler_temp\x3dbuilder.trailingSpace;if(1\x3ctext.length\x26\x26!/  /.test(text))JSCompiler_temp\x3dtext;else{for(var result\x3d\n\x22\x22,i\x3d0;i\x3ctext.length;i++){var ch\x3dtext.charAt(i);\x22 \x22!\x3dch||!JSCompiler_temp||i!\x3dtext.length-1\x26\x2632!\x3dtext.charCodeAt(i+1)||(ch\x3d\x22\xa0\x22);result+\x3dch;JSCompiler_temp\x3d\x22 \x22\x3d\x3dch}JSCompiler_temp\x3dresult}}else JSCompiler_temp\x3dtext;result\x3dJSCompiler_temp;i\x3dbuilder.cm.state.specialChars;ch\x3d!1;if(i.test(text)){JSCompiler_temp\x3ddocument.createDocumentFragment();for(var pos\x3d0;;){i.lastIndex\x3dpos;var m\x3di.exec(text),skipped\x3dm?m.index-pos:text.length-pos;if(skipped){var txt\x3ddocument.createTextNode(result.slice(pos,pos+skipped));\nie\x26\x269\x3eie_version?JSCompiler_temp.appendChild(elt$jscomp$0(\x22span\x22,[txt])):JSCompiler_temp.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+\x3dskipped;builder.pos+\x3dskipped}if(!m)break;pos+\x3dskipped+1;\x22\\t\x22\x3d\x3dm[0]?(m\x3dbuilder.cm.options.tabSize,m-\x3dbuilder.col%m,skipped\x3dJSCompiler_temp.appendChild(elt$jscomp$0(\x22span\x22,spaceStr(m),\x22cm-tab\x22)),skipped.setAttribute(\x22role\x22,\x22presentation\x22),skipped.setAttribute(\x22cm-text\x22,\x22\\t\x22),builder.col+\x3dm):(\x22\\r\x22\x3d\x3dm[0]||\x22\\n\x22\x3d\x3dm[0]?(skipped\x3dJSCompiler_temp.appendChild(elt$jscomp$0(\x22span\x22,\n\x22\\r\x22\x3d\x3dm[0]?\x22\u240d\x22:\x22\u2424\x22,\x22cm-invalidchar\x22)),skipped.setAttribute(\x22cm-text\x22,m[0])):(skipped\x3dbuilder.cm.options.specialCharPlaceholder(m[0]),skipped.setAttribute(\x22cm-text\x22,m[0]),ie\x26\x269\x3eie_version?JSCompiler_temp.appendChild(elt$jscomp$0(\x22span\x22,[skipped])):JSCompiler_temp.appendChild(skipped)),builder.col+\x3d1);builder.map.push(builder.pos,builder.pos+1,skipped);builder.pos++}}else builder.col+\x3dtext.length,JSCompiler_temp\x3ddocument.createTextNode(result),builder.map.push(builder.pos,builder.pos+text.length,JSCompiler_temp),\nie\x26\x269\x3eie_version\x26\x26(ch\x3d!0),builder.pos+\x3dtext.length;builder.trailingSpace\x3d32\x3d\x3dresult.charCodeAt(text.length-1);if(style||startStyle||endStyle||ch||css||attributes){text\x3dstyle||\x22\x22;startStyle\x26\x26(text+\x3dstartStyle);endStyle\x26\x26(text+\x3dendStyle);startStyle\x3delt$jscomp$0(\x22span\x22,[JSCompiler_temp],text,css);if(attributes)for(var attr in attributes)attributes.hasOwnProperty(attr)\x26\x26\x22style\x22!\x3dattr\x26\x26\x22class\x22!\x3dattr\x26\x26startStyle.setAttribute(attr,attributes[attr]);return builder.content.appendChild(startStyle)}builder.content.appendChild(JSCompiler_temp)}}\nfunction buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style\x3dstyle?style+\x22 cm-force-border\x22:\x22cm-force-border\x22;for(var start\x3dbuilder.pos,end\x3dstart+text.length;;){for(var part\x3dvoid 0,i\x3d0;i\x3corder.length\x26\x26!(part\x3dorder[i],part.to\x3estart\x26\x26part.from\x3c\x3dstart);i++);if(part.to\x3e\x3dend)return inner(builder,text,style,startStyle,endStyle,css,attributes);inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle\x3dnull;text\x3dtext.slice(part.to-\nstart);start\x3dpart.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget\x3d!ignoreWidget\x26\x26marker.widgetNode;widget\x26\x26builder.map.push(builder.pos,builder.pos+size,widget);!ignoreWidget\x26\x26builder.cm.display.input.needsContentAttribute\x26\x26(widget||(widget\x3dbuilder.content.appendChild(document.createElement(\x22span\x22))),widget.setAttribute(\x22cm-marker\x22,marker.id));widget\x26\x26(builder.cm.display.input.setUneditable(widget),builder.content.appendChild(widget));builder.pos+\x3dsize;builder.trailingSpace\x3d\n!1}function LineView(doc,line$jscomp$0,lineN){for(var line\x3dthis.line\x3dline$jscomp$0,lines;line\x3dcollapsedSpanAtSide(line,!1);)line\x3dline.find(1,!0).line,(lines||(lines\x3d[])).push(line);this.size\x3d(this.rest\x3dlines)?lineNo(lst(this.rest))-lineN+1:1;this.node\x3dthis.text\x3dnull;this.hidden\x3dlineIsHidden(doc,line$jscomp$0)}function buildViewArray(cm,from,to){var array\x3d[],nextPos;for(nextPos\x3dfrom;nextPos\x3cto;)from\x3dnew LineView(cm.doc,getLine(cm.doc,nextPos),nextPos),nextPos+\x3dfrom.size,array.push(from);return array}\nfunction finishOperation(op$jscomp$0,endCb){if(op$jscomp$0\x3dop$jscomp$0.ownsGroup)try{var callbacks\x3dop$jscomp$0.delayedCallbacks,i\x3d0;do{for(;i\x3ccallbacks.length;i++)callbacks[i].call(null);for(var j\x3d0;j\x3cop$jscomp$0.ops.length;j++){var op\x3dop$jscomp$0.ops[j];if(op.cursorActivityHandlers)for(;op.cursorActivityCalled\x3cop.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}while(i\x3ccallbacks.length)}finally{operationGroup\x3dnull,endCb(op$jscomp$0)}}function signalLater(emitter,\ntype){var arr\x3demitter._handlers\x26\x26emitter._handlers[type]||noHandlers;if(arr.length){var args\x3dArray.prototype.slice.call(arguments,2);if(operationGroup)var list\x3doperationGroup.delayedCallbacks;else orphanDelayedCallbacks?list\x3dorphanDelayedCallbacks:(list\x3dorphanDelayedCallbacks\x3d[],setTimeout(fireOrphanDelayed,0));for(var loop\x3dfunction(i){list.push(function(){return arr[i].apply(null,args)})},i$jscomp$0\x3d0;i$jscomp$0\x3carr.length;++i$jscomp$0)loop(i$jscomp$0)}}function fireOrphanDelayed(){var delayed\x3dorphanDelayedCallbacks;\norphanDelayedCallbacks\x3dnull;for(var i\x3d0;i\x3cdelayed.length;++i)delayed[i]()}function updateLineForChanges(cm,lineView$jscomp$0,lineN,dims){for(var j\x3d0;j\x3clineView$jscomp$0.changes.length;j++){var type\x3dlineView$jscomp$0.changes[j];if(\x22text\x22\x3d\x3dtype){type\x3dcm;var lineView\x3dlineView$jscomp$0,cls\x3dlineView.text.className,built\x3dgetLineContent(type,lineView);lineView.text\x3d\x3dlineView.node\x26\x26(lineView.node\x3dbuilt.pre);lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text\x3dbuilt.pre;built.bgClass!\x3d\nlineView.bgClass||built.textClass!\x3dlineView.textClass?(lineView.bgClass\x3dbuilt.bgClass,lineView.textClass\x3dbuilt.textClass,updateLineClasses(type,lineView)):cls\x26\x26(lineView.text.className\x3dcls)}else if(\x22gutter\x22\x3d\x3dtype)updateLineGutter(cm,lineView$jscomp$0,lineN,dims);else if(\x22class\x22\x3d\x3dtype)updateLineClasses(cm,lineView$jscomp$0);else if(\x22widget\x22\x3d\x3dtype){type\x3dcm;lineView\x3dlineView$jscomp$0;cls\x3ddims;lineView.alignable\x26\x26(lineView.alignable\x3dnull);built\x3dclassTest(\x22CodeMirror-linewidget\x22);for(var node\x3dlineView.node.firstChild,\nnext;node;node\x3dnext)next\x3dnode.nextSibling,built.test(node.className)\x26\x26lineView.node.removeChild(node);insertLineWidgets(type,lineView,cls)}}lineView$jscomp$0.changes\x3dnull}function ensureLineWrapped(lineView){lineView.node\x3d\x3dlineView.text\x26\x26(lineView.node\x3delt$jscomp$0(\x22div\x22,null,null,\x22position: relative\x22),lineView.text.parentNode\x26\x26lineView.text.parentNode.replaceChild(lineView.node,lineView.text),lineView.node.appendChild(lineView.text),ie\x26\x268\x3eie_version\x26\x26(lineView.node.style.zIndex\x3d2));return lineView.node}\nfunction getLineContent(cm,lineView){var ext\x3dcm.display.externalMeasured;return ext\x26\x26ext.line\x3d\x3dlineView.line?(cm.display.externalMeasured\x3dnull,lineView.measure\x3dext.measure,ext.built):buildLineContent(cm,lineView)}function updateLineClasses(cm,lineView){var cls\x3dlineView.bgClass?lineView.bgClass+\x22 \x22+(lineView.line.bgClass||\x22\x22):lineView.line.bgClass;cls\x26\x26(cls+\x3d\x22 CodeMirror-linebackground\x22);if(lineView.background)cls?lineView.background.className\x3dcls:(lineView.background.parentNode.removeChild(lineView.background),\nlineView.background\x3dnull);else if(cls){var wrap\x3densureLineWrapped(lineView);lineView.background\x3dwrap.insertBefore(elt$jscomp$0(\x22div\x22,null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}lineView.line.wrapClass?ensureLineWrapped(lineView).className\x3dlineView.line.wrapClass:lineView.node!\x3dlineView.text\x26\x26(lineView.node.className\x3d\x22\x22);lineView.text.className\x3d(lineView.textClass?lineView.textClass+\x22 \x22+(lineView.line.textClass||\x22\x22):lineView.line.textClass)||\x22\x22}function updateLineGutter(cm,\nlineView,lineN,dims){lineView.gutter\x26\x26(lineView.node.removeChild(lineView.gutter),lineView.gutter\x3dnull);lineView.gutterBackground\x26\x26(lineView.node.removeChild(lineView.gutterBackground),lineView.gutterBackground\x3dnull);if(lineView.line.gutterClass){var wrap\x3densureLineWrapped(lineView);lineView.gutterBackground\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-gutter-background \x22+lineView.line.gutterClass,\x22left: \x22+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\x22px; width: \x22+dims.gutterTotalWidth+\x22px\x22);\ncm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}wrap\x3dlineView.line.gutterMarkers;if(cm.options.lineNumbers||wrap){var wrap$1\x3densureLineWrapped(lineView),gutterWrap\x3dlineView.gutter\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-gutter-wrapper\x22,\x22left: \x22+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\x22px\x22);cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);lineView.line.gutterClass\x26\x26(gutterWrap.className+\x3d\n\x22 \x22+lineView.line.gutterClass);!cm.options.lineNumbers||wrap\x26\x26wrap[\x22CodeMirror-linenumbers\x22]||(lineView.lineNumber\x3dgutterWrap.appendChild(elt$jscomp$0(\x22div\x22,lineNumberFor(cm.options,lineN),\x22CodeMirror-linenumber CodeMirror-gutter-elt\x22,\x22left: \x22+dims.gutterLeft[\x22CodeMirror-linenumbers\x22]+\x22px; width: \x22+cm.display.lineNumInnerWidth+\x22px\x22)));if(wrap)for(lineView\x3d0;lineView\x3ccm.display.gutterSpecs.length;++lineView)lineN\x3dcm.display.gutterSpecs[lineView].className,(wrap$1\x3dwrap.hasOwnProperty(lineN)\x26\x26wrap[lineN])\x26\x26\ngutterWrap.appendChild(elt$jscomp$0(\x22div\x22,[wrap$1],\x22CodeMirror-gutter-elt\x22,\x22left: \x22+dims.gutterLeft[lineN]+\x22px; width: \x22+dims.gutterWidth[lineN]+\x22px\x22))}}function buildLineElement(cm,lineView,lineN,dims){var built\x3dgetLineContent(cm,lineView);lineView.text\x3dlineView.node\x3dbuilt.pre;built.bgClass\x26\x26(lineView.bgClass\x3dbuilt.bgClass);built.textClass\x26\x26(lineView.textClass\x3dbuilt.textClass);updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}\nfunction insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0);if(lineView.rest)for(var i\x3d0;i\x3clineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}function insertLineWidgetsFor(cm,line,lineView,dims$jscomp$0,allowAbove){if(line.widgets){var wrap\x3densureLineWrapped(lineView),i\x3d0;for(line\x3dline.widgets;i\x3cline.length;++i){var widget\x3dline[i],node\x3delt$jscomp$0(\x22div\x22,[widget.node],\x22CodeMirror-linewidget\x22+(widget.className?\x22 \x22+widget.className:\n\x22\x22));widget.handleMouseEvents||node.setAttribute(\x22cm-ignore-events\x22,\x22true\x22);var widget$jscomp$0\x3dwidget,node$jscomp$0\x3dnode,dims\x3ddims$jscomp$0;if(widget$jscomp$0.noHScroll){(lineView.alignable||(lineView.alignable\x3d[])).push(node$jscomp$0);var width\x3ddims.wrapperWidth;node$jscomp$0.style.left\x3ddims.fixedPos+\x22px\x22;widget$jscomp$0.coverGutter||(width-\x3ddims.gutterTotalWidth,node$jscomp$0.style.paddingLeft\x3ddims.gutterTotalWidth+\x22px\x22);node$jscomp$0.style.width\x3dwidth+\x22px\x22}widget$jscomp$0.coverGutter\x26\x26(node$jscomp$0.style.zIndex\x3d\n5,node$jscomp$0.style.position\x3d\x22relative\x22,widget$jscomp$0.noHScroll||(node$jscomp$0.style.marginLeft\x3d-dims.gutterTotalWidth+\x22px\x22));cm.display.input.setUneditable(node);allowAbove\x26\x26widget.above?wrap.insertBefore(node,lineView.gutter||lineView.text):wrap.appendChild(node);signalLater(widget,\x22redraw\x22)}}}function widgetHeight(widget){if(null!\x3dwidget.height)return widget.height;var cm\x3dwidget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle\x3d\x22position: relative;\x22;widget.coverGutter\x26\x26\n(parentStyle+\x3d\x22margin-left: -\x22+cm.display.gutters.offsetWidth+\x22px;\x22);widget.noHScroll\x26\x26(parentStyle+\x3d\x22width: \x22+cm.display.wrapper.clientWidth+\x22px;\x22);removeChildrenAndAdd(cm.display.measure,elt$jscomp$0(\x22div\x22,[widget.node],null,parentStyle))}return widget.height\x3dwidget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(e\x3de.target||e.srcElement;e!\x3ddisplay.wrapper;e\x3de.parentNode)if(!e||1\x3d\x3de.nodeType\x26\x26\x22true\x22\x3d\x3de.getAttribute(\x22cm-ignore-events\x22)||e.parentNode\x3d\x3ddisplay.sizer\x26\x26e!\x3ddisplay.mover)return!0}\nfunction paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e\x3dremoveChildrenAndAdd(display.measure,elt$jscomp$0(\x22pre\x22,\x22x\x22,\x22CodeMirror-line-like\x22));e\x3dwindow.getComputedStyle?window.getComputedStyle(e):e.currentStyle;e\x3d{left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};isNaN(e.left)||isNaN(e.right)||(display.cachedPaddingH\x3de);return e}function scrollGap(cm){return 50-\ncm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function mapFromLineView(lineView,line,lineN){if(lineView.line\x3d\x3dline)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i\x3d0;i\x3clineView.rest.length;i++)if(lineView.rest[i]\x3d\x3dline)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(line\x3d\n0;line\x3clineView.rest.length;line++)if(lineNo(lineView.rest[line])\x3elineN)return{map:lineView.measure.maps[line],cache:lineView.measure.caches[line],before:!0}}function findViewForLine(cm,lineN){if(lineN\x3e\x3dcm.display.viewFrom\x26\x26lineN\x3ccm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];if((cm\x3dcm.display.externalMeasured)\x26\x26lineN\x3e\x3dcm.lineN\x26\x26lineN\x3ccm.lineN+cm.size)return cm}function prepareMeasureForLine(cm,line$jscomp$0){var lineN\x3dlineNo(line$jscomp$0),view\x3dfindViewForLine(cm,lineN);view\x26\x26\n!view.text?view\x3dnull:view\x26\x26view.changes\x26\x26(updateLineForChanges(cm,view,lineN,getDimensions(cm)),cm.curOp.forceUpdate\x3d!0);if(!view){var line\x3dvisualLine(line$jscomp$0);view\x3dlineNo(line);line\x3dcm.display.externalMeasured\x3dnew LineView(cm.doc,line,view);line.lineN\x3dview;view\x3dline.built\x3dbuildLineContent(cm,line);line.text\x3dview.pre;removeChildrenAndAdd(cm.display.lineMeasure,view.pre);view\x3dline}cm\x3dmapFromLineView(view,line$jscomp$0,lineN);return{line:line$jscomp$0,view,rect:null,map:cm.map,cache:cm.cache,\nbefore:cm.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){prepared.before\x26\x26(ch\x3d-1);var key\x3dch+(bias||\x22\x22);if(prepared.cache.hasOwnProperty(key))cm\x3dprepared.cache[key];else{prepared.rect||(prepared.rect\x3dprepared.view.text.getBoundingClientRect());if(!prepared.hasHeights){var lineView\x3dprepared.view,rect\x3dprepared.rect,wrapping\x3dcm.options.lineWrapping,curWidth\x3dwrapping\x26\x26displayWidth(cm);if(!lineView.measure.heights||wrapping\x26\x26lineView.measure.width!\x3dcurWidth){var heights\x3d\nlineView.measure.heights\x3d[];if(wrapping)for(lineView.measure.width\x3dcurWidth,lineView\x3dlineView.text.firstChild.getClientRects(),wrapping\x3d0;wrapping\x3clineView.length-1;wrapping++){curWidth\x3dlineView[wrapping];var next\x3dlineView[wrapping+1];2\x3cMath.abs(curWidth.bottom-next.bottom)\x26\x26heights.push((curWidth.bottom+next.top)/2-rect.top)}heights.push(rect.bottom-rect.top)}prepared.hasHeights\x3d!0}heights\x3dbias;lineView\x3dnodeAndOffsetInLineMap(prepared.map,ch,heights);bias\x3dlineView.node;rect\x3dlineView.start;wrapping\x3d\nlineView.end;ch\x3dlineView.collapse;if(3\x3d\x3dbias.nodeType){for(var i$1\x3d0;4\x3ei$1;i$1++){for(;rect\x26\x26isExtendingChar(prepared.line.text.charAt(lineView.coverStart+rect));)--rect;for(;lineView.coverStart+wrapping\x3clineView.coverEnd\x26\x26isExtendingChar(prepared.line.text.charAt(lineView.coverStart+wrapping));)++wrapping;if(ie\x26\x269\x3eie_version\x26\x260\x3d\x3drect\x26\x26wrapping\x3d\x3dlineView.coverEnd-lineView.coverStart)var rect$jscomp$0\x3dbias.parentNode.getBoundingClientRect();else{rect$jscomp$0\x3drange$jscomp$0(bias,rect,wrapping).getClientRects();\nwrapping\x3dnullRect;if(\x22left\x22\x3d\x3dheights)for(curWidth\x3d0;curWidth\x3crect$jscomp$0.length\x26\x26(wrapping\x3drect$jscomp$0[curWidth]).left\x3d\x3dwrapping.right;curWidth++);else for(curWidth\x3drect$jscomp$0.length-1;0\x3c\x3dcurWidth\x26\x26(wrapping\x3drect$jscomp$0[curWidth]).left\x3d\x3dwrapping.right;curWidth--);rect$jscomp$0\x3dwrapping}if(rect$jscomp$0.left||rect$jscomp$0.right||0\x3d\x3drect)break;wrapping\x3drect;--rect;ch\x3d\x22right\x22}ie\x26\x2611\x3eie_version\x26\x26((i$1\x3d!window.screen||null\x3d\x3dscreen.logicalXDPI||screen.logicalXDPI\x3d\x3dscreen.deviceXDPI)||(null!\x3dbadZoomedRects?\ni$1\x3dbadZoomedRects:(heights\x3dremoveChildrenAndAdd(cm.display.measure,elt$jscomp$0(\x22span\x22,\x22x\x22)),i$1\x3dheights.getBoundingClientRect(),heights\x3drange$jscomp$0(heights,0,1).getBoundingClientRect(),i$1\x3dbadZoomedRects\x3d1\x3cMath.abs(i$1.left-heights.left)),i$1\x3d!i$1),i$1||(i$1\x3dscreen.logicalXDPI/screen.deviceXDPI,heights\x3dscreen.logicalYDPI/screen.deviceYDPI,rect$jscomp$0\x3d{left:rect$jscomp$0.left*i$1,right:rect$jscomp$0.right*i$1,top:rect$jscomp$0.top*heights,bottom:rect$jscomp$0.bottom*heights}))}else 0\x3crect\x26\x26\n(ch\x3dheights\x3d\x22right\x22),rect$jscomp$0\x3dcm.options.lineWrapping\x26\x261\x3c(i$1\x3dbias.getClientRects()).length?i$1[\x22right\x22\x3d\x3dheights?i$1.length-1:0]:bias.getBoundingClientRect();!(ie\x26\x269\x3eie_version)||rect||rect$jscomp$0\x26\x26(rect$jscomp$0.left||rect$jscomp$0.right)||(rect$jscomp$0\x3d(rect$jscomp$0\x3dbias.parentNode.getClientRects()[0])?{left:rect$jscomp$0.left,right:rect$jscomp$0.left+charWidth(cm.display),top:rect$jscomp$0.top,bottom:rect$jscomp$0.bottom}:nullRect);bias\x3drect$jscomp$0.top-prepared.rect.top;rect\x3drect$jscomp$0.bottom-\nprepared.rect.top;i$1\x3d(bias+rect)/2;heights\x3dprepared.view.measure.heights;for(lineView\x3d0;lineView\x3cheights.length-1\x26\x26!(i$1\x3cheights[lineView]);lineView++);ch\x3d{left:(\x22right\x22\x3d\x3dch?rect$jscomp$0.right:rect$jscomp$0.left)-prepared.rect.left,right:(\x22left\x22\x3d\x3dch?rect$jscomp$0.left:rect$jscomp$0.right)-prepared.rect.left,top:lineView?heights[lineView-1]:0,bottom:heights[lineView]};rect$jscomp$0.left||rect$jscomp$0.right||(ch.bogus\x3d!0);cm.options.singleCursorHeightPerLine||(ch.rtop\x3dbias,ch.rbottom\x3drect);cm\x3dch;\ncm.bogus||(prepared.cache[key]\x3dcm)}return{left:cm.left,right:cm.right,top:varHeight?cm.rtop:cm.top,bottom:varHeight?cm.rbottom:cm.bottom}}function nodeAndOffsetInLineMap(map,ch,bias){for(var node,start,end,collapse,mStart,mEnd,i\x3d0;i\x3cmap.length;i+\x3d3){mStart\x3dmap[i];mEnd\x3dmap[i+1];if(ch\x3cmStart)start\x3d0,end\x3d1,collapse\x3d\x22left\x22;else if(ch\x3cmEnd)start\x3dch-mStart,end\x3dstart+1;else if(i\x3d\x3dmap.length-3||ch\x3d\x3dmEnd\x26\x26map[i+3]\x3ech)end\x3dmEnd-mStart,start\x3dend-1,ch\x3e\x3dmEnd\x26\x26(collapse\x3d\x22right\x22);if(null!\x3dstart){node\x3dmap[i+2];mStart\x3d\x3d\nmEnd\x26\x26bias\x3d\x3d(node.insertLeft?\x22left\x22:\x22right\x22)\x26\x26(collapse\x3dbias);if(\x22left\x22\x3d\x3dbias\x26\x260\x3d\x3dstart)for(;i\x26\x26map[i-2]\x3d\x3dmap[i-3]\x26\x26map[i-1].insertLeft;)node\x3dmap[(i-\x3d3)+2],collapse\x3d\x22left\x22;if(\x22right\x22\x3d\x3dbias\x26\x26start\x3d\x3dmEnd-mStart)for(;i\x3cmap.length-3\x26\x26map[i+3]\x3d\x3dmap[i+4]\x26\x26!map[i+5].insertLeft;)node\x3dmap[(i+\x3d3)+2],collapse\x3d\x22right\x22;break}}return{node,start,end,collapse,coverStart:mStart,coverEnd:mEnd}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure\x26\x26(lineView.measure.cache\x3d{},lineView.measure.heights\x3dnull,\nlineView.rest))for(var i\x3d0;i\x3clineView.rest.length;i++)lineView.measure.caches[i]\x3d{}}function clearLineMeasurementCache(cm){cm.display.externalMeasure\x3dnull;removeChildren(cm.display.lineMeasure);for(var i\x3d0;i\x3ccm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth\x3dcm.display.cachedTextHeight\x3dcm.display.cachedPaddingH\x3dnull;cm.options.lineWrapping||(cm.display.maxLineChanged\x3d!0);cm.display.lineNumChars\x3d\nnull}function pageScrollX(){return chrome\x26\x26android?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return chrome\x26\x26android?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var height\x3d0;if(lineObj.widgets)for(var i\x3d\n0;i\x3clineObj.widgets.length;++i)lineObj.widgets[i].above\x26\x26(height+\x3dwidgetHeight(lineObj.widgets[i]));return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){includeWidgets||(includeWidgets\x3dwidgetTopHeight(lineObj),rect.top+\x3dincludeWidgets,rect.bottom+\x3dincludeWidgets);if(\x22line\x22\x3d\x3dcontext)return rect;context||(context\x3d\x22local\x22);lineObj\x3dheightAtLine(lineObj);lineObj\x3d\x22local\x22\x3d\x3dcontext?lineObj+cm.display.lineSpace.offsetTop:lineObj-cm.display.viewOffset;if(\x22page\x22\x3d\x3dcontext||\x22window\x22\x3d\x3d\ncontext)cm\x3dcm.display.lineSpace.getBoundingClientRect(),lineObj+\x3dcm.top+(\x22window\x22\x3d\x3dcontext?0:pageScrollY()),context\x3dcm.left+(\x22window\x22\x3d\x3dcontext?0:pageScrollX()),rect.left+\x3dcontext,rect.right+\x3dcontext;rect.top+\x3dlineObj;rect.bottom+\x3dlineObj;return rect}function fromCoordSystem(cm,coords,context){if(\x22div\x22\x3d\x3dcontext)return coords;var left\x3dcoords.left;coords\x3dcoords.top;\x22page\x22\x3d\x3dcontext?(left-\x3dpageScrollX(),coords-\x3dpageScrollY()):\x22local\x22!\x3dcontext\x26\x26context||(context\x3dcm.display.sizer.getBoundingClientRect(),\nleft+\x3dcontext.left,coords+\x3dcontext.top);cm\x3dcm.display.lineSpace.getBoundingClientRect();return{left:left-cm.left,top:coords-cm.top}}function charCoords(cm,pos,context,lineObj,bias){lineObj||(lineObj\x3dgetLine(cm.doc,pos.line));var JSCompiler_temp_const\x3dlineObj;pos\x3dpos.ch;lineObj\x3dmeasureCharPrepared(cm,prepareMeasureForLine(cm,lineObj),pos,bias);return intoCoordSystem(cm,JSCompiler_temp_const,lineObj,context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){ch\x3d\nmeasureCharPrepared(cm,preparedMeasure,ch,right?\x22right\x22:\x22left\x22,varHeight);right?ch.left\x3dch.right:ch.right\x3dch.left;return intoCoordSystem(cm,lineObj,ch,context)}function getBidi(ch,partPos,invert){return get(invert?ch-1:ch,1\x3d\x3dorder[partPos].level!\x3dinvert)}lineObj\x3dlineObj||getLine(cm.doc,pos.line);preparedMeasure||(preparedMeasure\x3dprepareMeasureForLine(cm,lineObj));var order\x3dgetOrder(lineObj,cm.doc.direction),ch$jscomp$0\x3dpos.ch;pos\x3dpos.sticky;ch$jscomp$0\x3e\x3dlineObj.text.length?(ch$jscomp$0\x3dlineObj.text.length,\npos\x3d\x22before\x22):0\x3e\x3dch$jscomp$0\x26\x26(ch$jscomp$0\x3d0,pos\x3d\x22after\x22);if(!order)return get(\x22before\x22\x3d\x3dpos?ch$jscomp$0-1:ch$jscomp$0,\x22before\x22\x3d\x3dpos);var partPos\x3dgetBidiPartAt(order,ch$jscomp$0,pos),other\x3dbidiOther;partPos\x3dgetBidi(ch$jscomp$0,partPos,\x22before\x22\x3d\x3dpos);null!\x3dother\x26\x26(partPos.other\x3dgetBidi(ch$jscomp$0,other,\x22before\x22!\x3dpos));return partPos}function estimateCoords(cm,pos){var left\x3d0;pos\x3dclipPos(cm.doc,pos);cm.options.lineWrapping||(left\x3dcharWidth(cm.display)*pos.ch);pos\x3dgetLine(cm.doc,pos.line);cm\x3dheightAtLine(pos)+\ncm.display.lineSpace.offsetTop;return{left,right:left,top:cm,bottom:cm+pos.height}}function PosWithInfo(line,ch,sticky,outside,xRel){line\x3dPos(line,ch,sticky);line.xRel\x3dxRel;outside\x26\x26(line.outside\x3doutside);return line}function coordsChar(cm,x,y){var doc\x3dcm.doc;y+\x3dcm.display.viewOffset;if(0\x3ey)return PosWithInfo(doc.first,0,null,-1,-1);var lineN\x3dlineAtHeight(doc,y),last\x3ddoc.first+doc.size-1;if(lineN\x3elast)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,1,1);0\x3ex\x26\x26(x\x3d0);for(var lineObj\x3d\ngetLine(doc,lineN);;){last\x3dcoordsCharInner(cm,lineObj,lineN,x,y);var collapsed\x3dvoid 0;var ch\x3dlast.ch+(0\x3clast.xRel||0\x3clast.outside?1:0);if(lineObj\x3dsawCollapsedSpans\x26\x26lineObj.markedSpans)for(var i\x3d0;i\x3clineObj.length;++i){var sp\x3dlineObj[i];sp.marker.collapsed\x26\x26(null\x3d\x3dsp.from||sp.from\x3cch)\x26\x26(null\x3d\x3dsp.to||sp.to\x3ech)\x26\x26(!collapsed||0\x3ecompareCollapsedMarkers(collapsed,sp.marker))\x26\x26(collapsed\x3dsp.marker)}if(!collapsed)return last;last\x3dcollapsed.find(1);if(last.line\x3d\x3dlineN)return last;lineObj\x3dgetLine(doc,lineN\x3d\nlast.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-\x3dwidgetTopHeight(lineObj);lineObj\x3dlineObj.text.length;var begin\x3dfindFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom\x3c\x3dy},lineObj,0);lineObj\x3dfindFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top\x3ey},begin,lineObj);return{begin,end:lineObj}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){preparedMeasure||(preparedMeasure\x3dprepareMeasureForLine(cm,lineObj));target\x3d\nintoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),\x22line\x22).top;return wrappedLineExtent(cm,lineObj,preparedMeasure,target)}function boxIsAfter(box,x,y,left){return box.bottom\x3c\x3dy?!1:box.top\x3ey?!0:(left?box.left:box.right)\x3ex}function coordsCharInner(cm,lineObj,lineNo,x,y){y-\x3dheightAtLine(lineObj);var preparedMeasure\x3dprepareMeasureForLine(cm,lineObj),widgetHeight\x3dwidgetTopHeight(lineObj),begin\x3d0,end\x3dlineObj.text.length,ltr\x3d!0,order\x3dgetOrder(lineObj,cm.doc.direction);order\x26\x26(order\x3d\n(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo,preparedMeasure,order,x,y),begin\x3d(ltr\x3d1!\x3dorder.level)?order.from:order.to-1,end\x3dltr?order.to:order.from-1);var chAround\x3dnull,boxAround\x3dnull;order\x3dfindFirst(function(ch){var box\x3dmeasureCharPrepared(cm,preparedMeasure,ch);box.top+\x3dwidgetHeight;box.bottom+\x3dwidgetHeight;if(!boxIsAfter(box,x,y,!1))return!1;box.top\x3c\x3dy\x26\x26box.left\x3c\x3dx\x26\x26(chAround\x3dch,boxAround\x3dbox);return!0},begin,end);var outside\x3d!1;boxAround?(begin\x3dx-boxAround.left\x3c\nboxAround.right-x,ltr\x3dbegin\x3d\x3dltr,order\x3dchAround+(ltr?0:1),ltr\x3dltr?\x22after\x22:\x22before\x22,begin\x3dbegin?boxAround.left:boxAround.right):(ltr||order!\x3dend\x26\x26order!\x3dbegin||order++,ltr\x3d0\x3d\x3dorder?\x22after\x22:order\x3d\x3dlineObj.text.length?\x22before\x22:measureCharPrepared(cm,preparedMeasure,order-(ltr?1:0)).bottom+widgetHeight\x3c\x3dy\x3d\x3dltr?\x22after\x22:\x22before\x22,outside\x3dcursorCoords(cm,Pos(lineNo,order,ltr),\x22line\x22,lineObj,preparedMeasure),begin\x3doutside.left,outside\x3dy\x3coutside.top?-1:y\x3e\x3doutside.bottom?1:0);order\x3dskipExtendingChars(lineObj.text,\norder,1);return PosWithInfo(lineNo,order,ltr,outside,x-begin)}function coordsBidiPart(cm,lineObj,lineNo,preparedMeasure,order,x,y){var index\x3dfindFirst(function(i){i\x3dorder[i];var ltr\x3d1!\x3di.level;return boxIsAfter(cursorCoords(cm,Pos(lineNo,ltr?i.to:i.from,ltr?\x22before\x22:\x22after\x22),\x22line\x22,lineObj,preparedMeasure),x,y,!0)},0,order.length-1),part\x3dorder[index];if(0\x3cindex){var ltr$jscomp$0\x3d1!\x3dpart.level;ltr$jscomp$0\x3dcursorCoords(cm,Pos(lineNo,ltr$jscomp$0?part.from:part.to,ltr$jscomp$0?\x22after\x22:\x22before\x22),\x22line\x22,\nlineObj,preparedMeasure);boxIsAfter(ltr$jscomp$0,x,y,!0)\x26\x26ltr$jscomp$0.top\x3ey\x26\x26(part\x3dorder[index-1])}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){y\x3dwrappedLineExtent(cm,lineObj,preparedMeasure,y);_lineNo\x3dy.begin;y\x3dy.end;/\\s/.test(lineObj.text.charAt(y-1))\x26\x26y--;for(var closestDist\x3dlineObj\x3dnull,i\x3d0;i\x3corder.length;i++){var p\x3dorder[i];if(!(p.from\x3e\x3dy||p.to\x3c\x3d_lineNo)){var endX\x3dmeasureCharPrepared(cm,preparedMeasure,1!\x3dp.level?Math.min(y,p.to)-1:Math.max(_lineNo,\np.from)).right;endX\x3dendX\x3cx?x-endX+1E9:endX-x;if(!lineObj||closestDist\x3eendX)lineObj\x3dp,closestDist\x3dendX}}lineObj||(lineObj\x3dorder[order.length-1]);lineObj.from\x3c_lineNo\x26\x26(lineObj\x3d{from:_lineNo,to:lineObj.to,level:lineObj.level});lineObj.to\x3ey\x26\x26(lineObj\x3d{from:lineObj.from,to:y,level:lineObj.level});return lineObj}function textHeight(display){if(null!\x3ddisplay.cachedTextHeight)return display.cachedTextHeight;if(null\x3d\x3dmeasureText){measureText\x3delt$jscomp$0(\x22pre\x22,null,\x22CodeMirror-line-like\x22);for(var i\x3d0;49\x3e\ni;++i)measureText.appendChild(document.createTextNode(\x22x\x22)),measureText.appendChild(elt$jscomp$0(\x22br\x22));measureText.appendChild(document.createTextNode(\x22x\x22))}removeChildrenAndAdd(display.measure,measureText);i\x3dmeasureText.offsetHeight/50;3\x3ci\x26\x26(display.cachedTextHeight\x3di);removeChildren(display.measure);return i||1}function charWidth(display){if(null!\x3ddisplay.cachedCharWidth)return display.cachedCharWidth;var anchor\x3delt$jscomp$0(\x22span\x22,\x22xxxxxxxxxx\x22),pre\x3delt$jscomp$0(\x22pre\x22,[anchor],\x22CodeMirror-line-like\x22);\nremoveChildrenAndAdd(display.measure,pre);anchor\x3danchor.getBoundingClientRect();anchor\x3d(anchor.right-anchor.left)/10;2\x3canchor\x26\x26(display.cachedCharWidth\x3danchor);return anchor||10}function getDimensions(cm){for(var d\x3dcm.display,left\x3d{},width\x3d{},gutterLeft\x3dd.gutters.clientLeft,n\x3dd.gutters.firstChild,i\x3d0;n;n\x3dn.nextSibling,++i){var id\x3dcm.display.gutterSpecs[i].className;left[id]\x3dn.offsetLeft+n.clientLeft+gutterLeft;width[id]\x3dn.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,\ngutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th\x3dtextHeight(cm.display),wrapping\x3dcm.options.lineWrapping,perLine\x3dwrapping\x26\x26Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight\x3d0;if(line.widgets)for(var i\x3d0;i\x3cline.widgets.length;i++)line.widgets[i].height\x26\x26\n(widgetsHeight+\x3dline.widgets[i].height);return wrapping?widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th:widgetsHeight+th}}function estimateLineHeights(cm){var doc\x3dcm.doc,est\x3destimateHeight(cm);doc.iter(function(line){var estHeight\x3dest(line);estHeight!\x3dline.height\x26\x26updateLineHeight(line,estHeight)})}function posFromMouse(cm,e,liberal,forRect){var display\x3dcm.display;if(!liberal\x26\x26\x22true\x22\x3d\x3d(e.target||e.srcElement).getAttribute(\x22cm-not-content\x22))return null;liberal\x3ddisplay.lineSpace.getBoundingClientRect();\ntry{var x\x3de.clientX-liberal.left;var y\x3de.clientY-liberal.top}catch(e$1){return null}e\x3dcoordsChar(cm,x,y);var line;forRect\x26\x260\x3ce.xRel\x26\x26(line\x3dgetLine(cm.doc,e.line).text).length\x3d\x3de.ch\x26\x26(forRect\x3dcountColumn(line,line.length,cm.options.tabSize)-line.length,e\x3dPos(e.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-forRect)));return e}function findViewIndex(cm,n){if(n\x3e\x3dcm.display.viewTo)return null;n-\x3dcm.display.viewFrom;if(0\x3en)return null;cm\x3dcm.display.view;for(var i\x3d0;i\x3ccm.length;i++)if(n-\x3d\ncm[i].size,0\x3en)return i}function regChange(cm,from,to,lendiff){null\x3d\x3dfrom\x26\x26(from\x3dcm.doc.first);null\x3d\x3dto\x26\x26(to\x3dcm.doc.first+cm.doc.size);lendiff||(lendiff\x3d0);var display\x3dcm.display;lendiff\x26\x26to\x3cdisplay.viewTo\x26\x26(null\x3d\x3ddisplay.updateLineNumbers||display.updateLineNumbers\x3efrom)\x26\x26(display.updateLineNumbers\x3dfrom);cm.curOp.viewChanged\x3d!0;if(from\x3e\x3ddisplay.viewTo)sawCollapsedSpans\x26\x26visualLineNo(cm.doc,from)\x3cdisplay.viewTo\x26\x26resetView(cm);else if(to\x3c\x3ddisplay.viewFrom)sawCollapsedSpans\x26\x26visualLineEndNo(cm.doc,\nto+lendiff)\x3edisplay.viewFrom?resetView(cm):(display.viewFrom+\x3dlendiff,display.viewTo+\x3dlendiff);else if(from\x3c\x3ddisplay.viewFrom\x26\x26to\x3e\x3ddisplay.viewTo)resetView(cm);else if(from\x3c\x3ddisplay.viewFrom){var cut\x3dviewCuttingPoint(cm,to,to+lendiff,1);cut?(display.view\x3ddisplay.view.slice(cut.index),display.viewFrom\x3dcut.lineN,display.viewTo+\x3dlendiff):resetView(cm)}else if(to\x3e\x3ddisplay.viewTo)(cut\x3dviewCuttingPoint(cm,from,from,-1))?(display.view\x3ddisplay.view.slice(0,cut.index),display.viewTo\x3dcut.lineN):resetView(cm);\nelse{cut\x3dviewCuttingPoint(cm,from,from,-1);var cutBot\x3dviewCuttingPoint(cm,to,to+lendiff,1);cut\x26\x26cutBot?(display.view\x3ddisplay.view.slice(0,cut.index).concat(buildViewArray(cm,cut.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index)),display.viewTo+\x3dlendiff):resetView(cm)}if(cm\x3ddisplay.externalMeasured)to\x3ccm.lineN?cm.lineN+\x3dlendiff:from\x3ccm.lineN+cm.size\x26\x26(display.externalMeasured\x3dnull)}function regLineChange(cm,line,type){cm.curOp.viewChanged\x3d!0;var display\x3dcm.display,ext\x3dcm.display.externalMeasured;\next\x26\x26line\x3e\x3dext.lineN\x26\x26line\x3cext.lineN+ext.size\x26\x26(display.externalMeasured\x3dnull);line\x3cdisplay.viewFrom||line\x3e\x3ddisplay.viewTo||(cm\x3ddisplay.view[findViewIndex(cm,line)],null!\x3dcm.node\x26\x26(cm\x3dcm.changes||(cm.changes\x3d[]),-1\x3d\x3dindexOf(cm,type)\x26\x26cm.push(type)))}function resetView(cm){cm.display.viewFrom\x3dcm.display.viewTo\x3dcm.doc.first;cm.display.view\x3d[];cm.display.viewOffset\x3d0}function viewCuttingPoint(cm,oldN,newN,dir){var index\x3dfindViewIndex(cm,oldN),view\x3dcm.display.view;if(!sawCollapsedSpans||newN\x3d\x3dcm.doc.first+\ncm.doc.size)return{index,lineN:newN};for(var n\x3dcm.display.viewFrom,i\x3d0;i\x3cindex;i++)n+\x3dview[i].size;if(n!\x3doldN){if(0\x3cdir){if(index\x3d\x3dview.length-1)return null;oldN\x3dn+view[index].size-oldN;index++}else oldN\x3dn-oldN;newN+\x3doldN}for(;visualLineNo(cm.doc,newN)!\x3dnewN;){if(index\x3d\x3d(0\x3edir?0:view.length-1))return null;newN+\x3ddir*view[index-(0\x3edir?1:0)].size;index+\x3ddir}return{index,lineN:newN}}function countDirtyView(cm){cm\x3dcm.display.view;for(var dirty\x3d0,i\x3d0;i\x3ccm.length;i++){var lineView\x3dcm[i];lineView.hidden||\nlineView.node\x26\x26!lineView.changes||++dirty}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){void 0\x3d\x3d\x3dprimary\x26\x26(primary\x3d!0);for(var doc\x3dcm.doc,result\x3d{},curFragment\x3dresult.cursors\x3ddocument.createDocumentFragment(),selFragment\x3dresult.selection\x3ddocument.createDocumentFragment(),i\x3d0;i\x3cdoc.sel.ranges.length;i++)if(primary||i!\x3ddoc.sel.primIndex){var range\x3ddoc.sel.ranges[i];if(!(range.from().line\x3e\x3dcm.display.viewTo||\nrange.to().line\x3ccm.display.viewFrom)){var collapsed\x3drange.empty();(collapsed||cm.options.showCursorWhenSelecting)\x26\x26drawSelectionCursor(cm,range.head,curFragment);collapsed||drawSelectionRange(cm,range,selFragment)}}return result}function drawSelectionCursor(cm,head,output){head\x3dcursorCoords(cm,head,\x22div\x22,null,null,!cm.options.singleCursorHeightPerLine);var cursor\x3doutput.appendChild(elt$jscomp$0(\x22div\x22,\x22\xa0\x22,\x22CodeMirror-cursor\x22));cursor.style.left\x3dhead.left+\x22px\x22;cursor.style.top\x3dhead.top+\x22px\x22;cursor.style.height\x3d\nMath.max(0,head.bottom-head.top)*cm.options.cursorHeight+\x22px\x22;head.other\x26\x26(cm\x3doutput.appendChild(elt$jscomp$0(\x22div\x22,\x22\xa0\x22,\x22CodeMirror-cursor CodeMirror-secondarycursor\x22)),cm.style.display\x3d\x22\x22,cm.style.left\x3dhead.other.left+\x22px\x22,cm.style.top\x3dhead.other.top+\x22px\x22,cm.style.height\x3d.85*(head.other.bottom-head.other.top)+\x22px\x22)}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range,output){function add(left,top,width,bottom){0\x3etop\x26\x26(top\x3d0);top\x3dMath.round(top);bottom\x3dMath.round(bottom);\nfragment.appendChild(elt$jscomp$0(\x22div\x22,null,\x22CodeMirror-selected\x22,\x22position: absolute; left: \x22+left+\x22px;\\n                             top: \x22+top+\x22px; width: \x22+(null\x3d\x3dwidth?rightSide-left:width)+\x22px;\\n                             height: \x22+(bottom-top)+\x22px\x22))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return charCoords(cm,Pos(line,ch),\x22div\x22,lineObj,bias)}function wrapX(pos,dir,side){pos\x3dwrappedLineExtentChar(cm,lineObj,null,pos);dir\x3d\x22ltr\x22\x3d\x3ddir\x3d\x3d(\x22after\x22\x3d\x3dside)?\x22left\x22:\x22right\x22;\nside\x3d\x22after\x22\x3d\x3dside?pos.begin:pos.end-(/\\s/.test(lineObj.text.charAt(pos.end-1))?2:1);return coords(side,dir)[dir]}var lineObj\x3dgetLine(doc,line),lineLen\x3dlineObj.text.length,start,end,order\x3dgetOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,null\x3d\x3dtoArg?lineLen:toArg,function(from,to,dir,i){var ltr\x3d\x22ltr\x22\x3d\x3ddir,fromPos\x3dcoords(from,ltr?\x22left\x22:\x22right\x22),toPos\x3dcoords(to-1,ltr?\x22right\x22:\x22left\x22),openStart\x3dnull\x3d\x3dfromArg\x26\x260\x3d\x3dfrom,openEnd\x3dnull\x3d\x3dtoArg\x26\x26to\x3d\x3dlineLen,first\x3d0\x3d\x3di;i\x3d!order||i\x3d\x3dorder.length-\n1;3\x3e\x3dtoPos.top-fromPos.top?(to\x3d(docLTR?openStart:openEnd)\x26\x26first?leftSide:(ltr?fromPos:toPos).left,add(to,fromPos.top,((docLTR?openEnd:openStart)\x26\x26i?rightSide:(ltr?toPos:fromPos).right)-to,fromPos.bottom)):(ltr?(ltr\x3ddocLTR\x26\x26openStart\x26\x26first?leftSide:fromPos.left,openStart\x3ddocLTR?rightSide:wrapX(from,dir,\x22before\x22),from\x3ddocLTR?leftSide:wrapX(to,dir,\x22after\x22),openEnd\x3ddocLTR\x26\x26openEnd\x26\x26i?rightSide:toPos.right):(ltr\x3ddocLTR?wrapX(from,dir,\x22before\x22):leftSide,openStart\x3d!docLTR\x26\x26openStart\x26\x26first?rightSide:fromPos.right,\nfrom\x3d!docLTR\x26\x26openEnd\x26\x26i?leftSide:toPos.left,openEnd\x3ddocLTR?wrapX(to,dir,\x22after\x22):rightSide),add(ltr,fromPos.top,openStart-ltr,fromPos.bottom),fromPos.bottom\x3ctoPos.top\x26\x26add(leftSide,fromPos.bottom,null,toPos.top),add(from,toPos.top,openEnd-from,toPos.bottom));if(!start||0\x3ecmpCoords(fromPos,start))start\x3dfromPos;0\x3ecmpCoords(toPos,start)\x26\x26(start\x3dtoPos);if(!end||0\x3ecmpCoords(fromPos,end))end\x3dfromPos;0\x3ecmpCoords(toPos,end)\x26\x26(end\x3dtoPos)});return{start,end}}var display\x3dcm.display,doc\x3dcm.doc,fragment\x3ddocument.createDocumentFragment(),\npadding\x3dpaddingH(cm.display),leftSide\x3dpadding.left,rightSide\x3dMath.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,docLTR\x3d\x22ltr\x22\x3d\x3ddoc.direction;display\x3drange.from();range\x3drange.to();if(display.line\x3d\x3drange.line)drawForLine(display.line,display.ch,range.ch);else{var fromLine\x3dgetLine(doc,display.line);padding\x3dgetLine(doc,range.line);padding\x3dvisualLine(fromLine)\x3d\x3dvisualLine(padding);display\x3ddrawForLine(display.line,display.ch,padding?fromLine.text.length+1:null).end;range\x3d\ndrawForLine(range.line,padding?0:null,range.ch).start;padding\x26\x26(display.top\x3crange.top-2?(add(display.right,display.top,null,display.bottom),add(leftSide,range.top,range.left,range.bottom)):add(display.right,display.top,range.left-display.right,display.bottom));display.bottom\x3crange.top\x26\x26add(leftSide,display.bottom,null,range.top)}output.appendChild(fragment)}function restartBlink(cm){if(cm.state.focused){var display\x3dcm.display;clearInterval(display.blinker);var on\x3d!0;display.cursorDiv.style.visibility\x3d\n\x22\x22;0\x3ccm.options.cursorBlinkRate?display.blinker\x3dsetInterval(function(){cm.hasFocus()||onBlur(cm);display.cursorDiv.style.visibility\x3d(on\x3d!on)?\x22\x22:\x22hidden\x22},cm.options.cursorBlinkRate):0\x3ecm.options.cursorBlinkRate\x26\x26(display.cursorDiv.style.visibility\x3d\x22hidden\x22)}}function ensureFocus(cm){cm.hasFocus()||(cm.display.input.focus(),cm.state.focused||onFocus(cm))}function delayBlurEvent(cm){cm.state.delayingBlurEvent\x3d!0;setTimeout(function(){cm.state.delayingBlurEvent\x26\x26(cm.state.delayingBlurEvent\x3d!1,cm.state.focused\x26\x26\nonBlur(cm))},100)}function onFocus(cm,e){cm.state.delayingBlurEvent\x26\x26!cm.state.draggingText\x26\x26(cm.state.delayingBlurEvent\x3d!1);\x22nocursor\x22!\x3dcm.options.readOnly\x26\x26(cm.state.focused||(signal(cm,\x22focus\x22,cm,e),cm.state.focused\x3d!0,addClass(cm.display.wrapper,\x22CodeMirror-focused\x22),cm.curOp||cm.display.selForContextMenu\x3d\x3dcm.doc.sel||(cm.display.input.reset(),webkit\x26\x26setTimeout(function(){return cm.display.input.reset(!0)},20)),cm.display.input.receivedFocus()),restartBlink(cm))}function onBlur(cm,e){cm.state.delayingBlurEvent||\n(cm.state.focused\x26\x26(signal(cm,\x22blur\x22,cm,e),cm.state.focused\x3d!1,rmClass(cm.display.wrapper,\x22CodeMirror-focused\x22)),clearInterval(cm.display.blinker),setTimeout(function(){cm.state.focused||(cm.display.shift\x3d!1)},150))}function updateHeightsInViewport(cm){for(var display\x3dcm.display,prevBottom\x3ddisplay.lineDiv.offsetTop,i\x3d0;i\x3cdisplay.view.length;i++){var cur\x3ddisplay.view[i],wrapping\x3dcm.options.lineWrapping,width\x3d0;if(!cur.hidden){if(ie\x26\x268\x3eie_version){wrapping\x3dcur.node.offsetTop+cur.node.offsetHeight;var height\x3d\nwrapping-prevBottom;prevBottom\x3dwrapping}else{var box\x3dcur.node.getBoundingClientRect();height\x3dbox.bottom-box.top;!wrapping\x26\x26cur.text.firstChild\x26\x26(width\x3dcur.text.firstChild.getBoundingClientRect().right-box.left-1)}wrapping\x3dcur.line.height-height;if(.005\x3cwrapping||-.005\x3ewrapping)if(updateLineHeight(cur.line,height),updateWidgetHeight(cur.line),cur.rest)for(height\x3d0;height\x3ccur.rest.length;height++)updateWidgetHeight(cur.rest[height]);width\x3ecm.display.sizerWidth\x26\x26(width\x3dMath.ceil(width/charWidth(cm.display)),\nwidth\x3ecm.display.maxLineLength\x26\x26(cm.display.maxLineLength\x3dwidth,cm.display.maxLine\x3dcur.line,cm.display.maxLineChanged\x3d!0))}}}function updateWidgetHeight(line){if(line.widgets)for(var i\x3d0;i\x3cline.widgets.length;++i){var w\x3dline.widgets[i],parent\x3dw.node.parentNode;parent\x26\x26(w.height\x3dparent.offsetHeight)}}function visibleLines(display,doc,viewport){var top\x3dviewport\x26\x26null!\x3dviewport.top?Math.max(0,viewport.top):display.scroller.scrollTop;top\x3dMath.floor(top-display.lineSpace.offsetTop);var bottom\x3dviewport\x26\x26\nnull!\x3dviewport.bottom?viewport.bottom:top+display.wrapper.clientHeight;top\x3dlineAtHeight(doc,top);bottom\x3dlineAtHeight(doc,bottom);if(viewport\x26\x26viewport.ensure){var ensureFrom\x3dviewport.ensure.from.line;viewport\x3dviewport.ensure.to.line;ensureFrom\x3ctop?(top\x3densureFrom,bottom\x3dlineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)):Math.min(viewport,doc.lastLine())\x3e\x3dbottom\x26\x26(top\x3dlineAtHeight(doc,heightAtLine(getLine(doc,viewport))-display.wrapper.clientHeight),bottom\x3dviewport)}return{from:top,\nto:Math.max(bottom,top+1)}}function calculateScrollPos(cm,rect){var display\x3dcm.display,snapMargin\x3dtextHeight(cm.display);0\x3erect.top\x26\x26(rect.top\x3d0);var screentop\x3dcm.curOp\x26\x26null!\x3dcm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen\x3ddisplayHeight(cm),result\x3d{};rect.bottom-rect.top\x3escreen\x26\x26(rect.bottom\x3drect.top+screen);var docBottom\x3dcm.doc.height+paddingVert(display),atTop\x3drect.top\x3csnapMargin;snapMargin\x3drect.bottom\x3edocBottom-snapMargin;rect.top\x3cscreentop?result.scrollTop\x3datTop?0:rect.top:\nrect.bottom\x3escreentop+screen\x26\x26(screen\x3dMath.min(rect.top,(snapMargin?docBottom:rect.bottom)-screen),screen!\x3dscreentop\x26\x26(result.scrollTop\x3dscreen));screentop\x3dcm.options.fixedGutter?0:display.gutters.offsetWidth;screen\x3dcm.curOp\x26\x26null!\x3dcm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft-screentop;cm\x3ddisplayWidth(cm)-display.gutters.offsetWidth;if(display\x3drect.right-rect.left\x3ecm)rect.right\x3drect.left+cm;10\x3erect.left?result.scrollLeft\x3d0:rect.left\x3cscreen?result.scrollLeft\x3dMath.max(0,rect.left+\nscreentop-(display?0:10)):rect.right\x3ecm+screen-3\x26\x26(result.scrollLeft\x3drect.right+(display?0:10)-cm);return result}function addToScrollTop(cm,top){null!\x3dtop\x26\x26(resolveScrollToPos(cm),cm.curOp.scrollTop\x3d(null\x3d\x3dcm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top)}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur\x3dcm.getCursor();cm.curOp.scrollToPos\x3d{from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){null\x3d\x3dx\x26\x26null\x3d\x3dy||resolveScrollToPos(cm);null!\x3d\nx\x26\x26(cm.curOp.scrollLeft\x3dx);null!\x3dy\x26\x26(cm.curOp.scrollTop\x3dy)}function resolveScrollToPos(cm){var range\x3dcm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos\x3dnull;var from\x3destimateCoords(cm,range.from),to\x3destimateCoords(cm,range.to);scrollToCoordsRange(cm,from,to,range.margin)}}function scrollToCoordsRange(cm,from,to,margin){from\x3dcalculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});\nscrollToCoords(cm,from.scrollLeft,from.scrollTop)}function updateScrollTop(cm,val){2\x3eMath.abs(cm.doc.scrollTop-val)||(gecko||updateDisplaySimple(cm,{top:val}),setScrollTop(cm,val,!0),gecko\x26\x26updateDisplaySimple(cm),startWorker(cm,100))}function setScrollTop(cm,val,forceScroll){val\x3dMath.max(0,Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val));if(cm.display.scroller.scrollTop!\x3dval||forceScroll)cm.doc.scrollTop\x3dval,cm.display.scrollbars.setScrollTop(val),cm.display.scroller.scrollTop!\x3d\nval\x26\x26(cm.display.scroller.scrollTop\x3dval)}function setScrollLeft(cm,val,isScroller,forceScroll){val\x3dMath.max(0,Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth));(isScroller?val\x3d\x3dcm.doc.scrollLeft:2\x3eMath.abs(cm.doc.scrollLeft-val))\x26\x26!forceScroll||(cm.doc.scrollLeft\x3dval,alignHorizontally(cm),cm.display.scroller.scrollLeft!\x3dval\x26\x26(cm.display.scroller.scrollLeft\x3dval),cm.display.scrollbars.setScrollLeft(val))}function measureForScrollbars(cm){var d\x3dcm.display,gutterW\x3dd.gutters.offsetWidth,\ndocH\x3dMath.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function updateScrollbars(cm,measure){measure||(measure\x3dmeasureForScrollbars(cm));var startWidth\x3dcm.display.barWidth,\nstartHeight\x3dcm.display.barHeight;updateScrollbarsInner(cm,measure);for(measure\x3d0;4\x3emeasure\x26\x26startWidth!\x3dcm.display.barWidth||startHeight!\x3dcm.display.barHeight;measure++)startWidth!\x3dcm.display.barWidth\x26\x26cm.options.lineWrapping\x26\x26updateHeightsInViewport(cm),updateScrollbarsInner(cm,measureForScrollbars(cm)),startWidth\x3dcm.display.barWidth,startHeight\x3dcm.display.barHeight}function updateScrollbarsInner(cm,measure){var d\x3dcm.display,sizes\x3dd.scrollbars.update(measure);d.sizer.style.paddingRight\x3d(d.barWidth\x3d\nsizes.right)+\x22px\x22;d.sizer.style.paddingBottom\x3d(d.barHeight\x3dsizes.bottom)+\x22px\x22;d.heightForcer.style.borderBottom\x3dsizes.bottom+\x22px solid transparent\x22;sizes.right\x26\x26sizes.bottom?(d.scrollbarFiller.style.display\x3d\x22block\x22,d.scrollbarFiller.style.height\x3dsizes.bottom+\x22px\x22,d.scrollbarFiller.style.width\x3dsizes.right+\x22px\x22):d.scrollbarFiller.style.display\x3d\x22\x22;sizes.bottom\x26\x26cm.options.coverGutterNextToScrollbar\x26\x26cm.options.fixedGutter?(d.gutterFiller.style.display\x3d\x22block\x22,d.gutterFiller.style.height\x3dsizes.bottom+\n\x22px\x22,d.gutterFiller.style.width\x3dmeasure.gutterWidth+\x22px\x22):d.gutterFiller.style.display\x3d\x22\x22}function initScrollbars(cm){cm.display.scrollbars\x26\x26(cm.display.scrollbars.clear(),cm.display.scrollbars.addClass\x26\x26rmClass(cm.display.wrapper,cm.display.scrollbars.addClass));cm.display.scrollbars\x3dnew scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on$jscomp$0(node,\x22mousedown\x22,function(){cm.state.focused\x26\x26setTimeout(function(){return cm.display.input.focus()},\n0)});node.setAttribute(\x22cm-not-content\x22,\x22true\x22)},function(pos,axis){\x22horizontal\x22\x3d\x3daxis?setScrollLeft(cm,pos):updateScrollTop(cm,pos)},cm);cm.display.scrollbars.addClass\x26\x26addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function startOperation(cm){cm.curOp\x3d{cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,\nfocus:!1,id:++nextOpId};cm\x3dcm.curOp;operationGroup?operationGroup.ops.push(cm):cm.ownsGroup\x3doperationGroup\x3d{ops:[cm],delayedCallbacks:[]}}function endOperation(cm$jscomp$0){(cm$jscomp$0\x3dcm$jscomp$0.curOp)\x26\x26finishOperation(cm$jscomp$0,function(group){for(var i\x3d0;i\x3cgroup.ops.length;i++)group.ops[i].cm.curOp\x3dnull;group\x3dgroup.ops;for(i\x3d0;i\x3cgroup.length;i++){var op\x3dgroup[i],cm\x3dop.cm,display\x3dcm.display,display$jscomp$0\x3dcm.display;!display$jscomp$0.scrollbarsClipped\x26\x26display$jscomp$0.scroller.offsetWidth\x26\x26\n(display$jscomp$0.nativeBarWidth\x3ddisplay$jscomp$0.scroller.offsetWidth-display$jscomp$0.scroller.clientWidth,display$jscomp$0.heightForcer.style.height\x3dscrollGap(cm)+\x22px\x22,display$jscomp$0.sizer.style.marginBottom\x3d-display$jscomp$0.nativeBarWidth+\x22px\x22,display$jscomp$0.sizer.style.borderRightWidth\x3dscrollGap(cm)+\x22px\x22,display$jscomp$0.scrollbarsClipped\x3d!0);op.updateMaxLine\x26\x26findMaxLine(cm);op.mustUpdate\x3dop.viewChanged||op.forceUpdate||null!\x3dop.scrollTop||op.scrollToPos\x26\x26(op.scrollToPos.from.line\x3cdisplay.viewFrom||\nop.scrollToPos.to.line\x3e\x3ddisplay.viewTo)||display.maxLineChanged\x26\x26cm.options.lineWrapping;op.update\x3dop.mustUpdate\x26\x26new DisplayUpdate(cm,op.mustUpdate\x26\x26{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}for(i\x3d0;i\x3cgroup.length;i++)op\x3dgroup[i],op.updatedDisplay\x3dop.mustUpdate\x26\x26updateDisplayIfNeeded(op.cm,op.update);for(i\x3d0;i\x3cgroup.length;i++)if(op\x3dgroup[i],cm\x3dop.cm,display\x3dcm.display,op.updatedDisplay\x26\x26updateHeightsInViewport(cm),op.barMeasure\x3dmeasureForScrollbars(cm),display.maxLineChanged\x26\x26!cm.options.lineWrapping\x26\x26\n(display$jscomp$0\x3ddisplay.maxLine.text.length,display$jscomp$0\x3dmeasureCharPrepared(cm,prepareMeasureForLine(cm,display.maxLine),display$jscomp$0,void 0),op.adjustWidthTo\x3ddisplay$jscomp$0.left+3,cm.display.sizerWidth\x3dop.adjustWidthTo,op.barMeasure.scrollWidth\x3dMath.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth),op.maxScrollLeft\x3dMath.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))),op.updatedDisplay||op.selectionChanged)op.preparedSelection\x3d\ndisplay.input.prepareSelection();for(i\x3d0;i\x3cgroup.length;i++)op\x3dgroup[i],cm\x3dop.cm,null!\x3dop.adjustWidthTo\x26\x26(cm.display.sizer.style.minWidth\x3dop.adjustWidthTo+\x22px\x22,op.maxScrollLeft\x3ccm.doc.scrollLeft\x26\x26setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0),cm.display.maxLineChanged\x3d!1),display\x3dop.focus\x26\x26op.focus\x3d\x3dactiveElt(),op.preparedSelection\x26\x26cm.display.input.showSelection(op.preparedSelection,display),(op.updatedDisplay||op.startHeight!\x3dcm.doc.height)\x26\x26updateScrollbars(cm,op.barMeasure),\nop.updatedDisplay\x26\x26setDocumentHeight(cm,op.barMeasure),op.selectionChanged\x26\x26restartBlink(cm),cm.state.focused\x26\x26op.updateInput\x26\x26cm.display.input.reset(op.typing),display\x26\x26ensureFocus(op.cm);for(i\x3d0;i\x3cgroup.length;i++){var rect\x3dvoid 0;op\x3dgroup[i];cm\x3dop.cm;display\x3dcm.display;display$jscomp$0\x3dcm.doc;op.updatedDisplay\x26\x26postUpdateDisplay(cm,op.update);null\x3d\x3ddisplay.wheelStartX||null\x3d\x3dop.scrollTop\x26\x26null\x3d\x3dop.scrollLeft\x26\x26!op.scrollToPos||(display.wheelStartX\x3ddisplay.wheelStartY\x3dnull);null!\x3dop.scrollTop\x26\x26setScrollTop(cm,\nop.scrollTop,op.forceScroll);null!\x3dop.scrollLeft\x26\x26setScrollLeft(cm,op.scrollLeft,!0,!0);if(op.scrollToPos){var pos\x3dclipPos(display$jscomp$0,op.scrollToPos.from);var rect$jscomp$0\x3dclipPos(display$jscomp$0,op.scrollToPos.to);var margin\x3dop.scrollToPos.margin;null\x3d\x3dmargin\x26\x26(margin\x3d0);cm.options.lineWrapping||pos!\x3drect$jscomp$0||(pos\x3dpos.ch?Pos(pos.line,\x22before\x22\x3d\x3dpos.sticky?pos.ch-1:pos.ch,\x22after\x22):pos,rect$jscomp$0\x3d\x22before\x22\x3d\x3dpos.sticky?Pos(pos.line,pos.ch+1,\x22before\x22):pos);for(var limit\x3d0;5\x3elimit;limit++){var changed\x3d\n!1;rect\x3dcursorCoords(cm,pos);var endCoords\x3drect$jscomp$0\x26\x26rect$jscomp$0!\x3dpos?cursorCoords(cm,rect$jscomp$0):rect;rect\x3d{left:Math.min(rect.left,endCoords.left),top:Math.min(rect.top,endCoords.top)-margin,right:Math.max(rect.left,endCoords.left),bottom:Math.max(rect.bottom,endCoords.bottom)+margin};endCoords\x3dcalculateScrollPos(cm,rect);var startTop\x3dcm.doc.scrollTop,startLeft\x3dcm.doc.scrollLeft;null!\x3dendCoords.scrollTop\x26\x26(updateScrollTop(cm,endCoords.scrollTop),1\x3cMath.abs(cm.doc.scrollTop-startTop)\x26\x26\n(changed\x3d!0));null!\x3dendCoords.scrollLeft\x26\x26(setScrollLeft(cm,endCoords.scrollLeft),1\x3cMath.abs(cm.doc.scrollLeft-startLeft)\x26\x26(changed\x3d!0));if(!changed)break}rect$jscomp$0\x3drect;signalDOMEvent(cm,\x22scrollCursorIntoView\x22)||(margin\x3dcm.display,limit\x3dmargin.sizer.getBoundingClientRect(),pos\x3dnull,0\x3erect$jscomp$0.top+limit.top?pos\x3d!0:rect$jscomp$0.bottom+limit.top\x3e(window.innerHeight||document.documentElement.clientHeight)\x26\x26(pos\x3d!1),null\x3d\x3dpos||phantom||(rect$jscomp$0\x3delt$jscomp$0(\x22div\x22,\x22\u200b\x22,null,\x22position: absolute;\\n                         top: \x22+\n(rect$jscomp$0.top-margin.viewOffset-cm.display.lineSpace.offsetTop)+\x22px;\\n                         height: \x22+(rect$jscomp$0.bottom-rect$jscomp$0.top+scrollGap(cm)+margin.barHeight)+\x22px;\\n                         left: \x22+rect$jscomp$0.left+\x22px; width: \x22+Math.max(2,rect$jscomp$0.right-rect$jscomp$0.left)+\x22px;\x22),cm.display.lineSpace.appendChild(rect$jscomp$0),rect$jscomp$0.scrollIntoView(pos),cm.display.lineSpace.removeChild(rect$jscomp$0)))}rect$jscomp$0\x3dop.maybeHiddenMarkers;pos\x3dop.maybeUnhiddenMarkers;\nif(rect$jscomp$0)for(margin\x3d0;margin\x3crect$jscomp$0.length;++margin)rect$jscomp$0[margin].lines.length||signal(rect$jscomp$0[margin],\x22hide\x22);if(pos)for(rect$jscomp$0\x3d0;rect$jscomp$0\x3cpos.length;++rect$jscomp$0)pos[rect$jscomp$0].lines.length\x26\x26signal(pos[rect$jscomp$0],\x22unhide\x22);display.wrapper.offsetHeight\x26\x26(display$jscomp$0.scrollTop\x3dcm.display.scroller.scrollTop);op.changeObjs\x26\x26signal(cm,\x22changes\x22,cm,op.changeObjs);op.update\x26\x26op.update.finish()}})}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);\ntry{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm\x3dthis.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,\narguments)}finally{endOperation(cm)}}}function startWorker(cm,time){cm.doc.highlightFrontier\x3ccm.display.viewTo\x26\x26cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc\x3dcm.doc;if(!(doc.highlightFrontier\x3e\x3dcm.display.viewTo)){var end\x3d+new Date+cm.options.workTime,context\x3dgetContextBefore(cm,doc.highlightFrontier),changedLines\x3d[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line\x3e\x3dcm.display.viewFrom){var oldStyles\x3d\nline.styles,resetState\x3dline.text.length\x3ecm.options.maxHighlightLength?copyState(doc.mode,context.state):null,highlighted\x3dhighlightLine(cm,line,context,!0);resetState\x26\x26(context.state\x3dresetState);line.styles\x3dhighlighted.styles;resetState\x3dline.styleClasses;(highlighted\x3dhighlighted.classes)?line.styleClasses\x3dhighlighted:resetState\x26\x26(line.styleClasses\x3dnull);highlighted\x3d!oldStyles||oldStyles.length!\x3dline.styles.length||resetState!\x3dhighlighted\x26\x26(!resetState||!highlighted||resetState.bgClass!\x3dhighlighted.bgClass||\nresetState.textClass!\x3dhighlighted.textClass);for(resetState\x3d0;!highlighted\x26\x26resetState\x3coldStyles.length;++resetState)highlighted\x3doldStyles[resetState]!\x3dline.styles[resetState];highlighted\x26\x26changedLines.push(context.line);line.stateAfter\x3dcontext.save()}else line.text.length\x3c\x3dcm.options.maxHighlightLength\x26\x26processLine(cm,line.text,context),line.stateAfter\x3d0\x3d\x3dcontext.line%5?context.save():null;context.nextLine();if(+new Date\x3eend)return startWorker(cm,cm.options.workDelay),!0});doc.highlightFrontier\x3d\ncontext.line;doc.modeFrontier\x3dMath.max(doc.modeFrontier,context.line);changedLines.length\x26\x26runInOp(cm,function(){for(var i\x3d0;i\x3cchangedLines.length;i++)regLineChange(cm,changedLines[i],\x22text\x22)})}}function updateDisplayIfNeeded(cm,update){var display\x3dcm.display,doc\x3dcm.doc;if(update.editorIsHidden)return resetView(cm),!1;if(!update.force\x26\x26update.visible.from\x3e\x3ddisplay.viewFrom\x26\x26update.visible.to\x3c\x3ddisplay.viewTo\x26\x26(null\x3d\x3ddisplay.updateLineNumbers||display.updateLineNumbers\x3e\x3ddisplay.viewTo)\x26\x26display.renderedView\x3d\x3d\ndisplay.view\x26\x260\x3d\x3dcountDirtyView(cm))return!1;maybeUpdateLineNumberWidth(cm)\x26\x26(resetView(cm),update.dims\x3dgetDimensions(cm));var end\x3ddoc.first+doc.size,from\x3dMath.max(update.visible.from-cm.options.viewportMargin,doc.first),to\x3dMath.min(end,update.visible.to+cm.options.viewportMargin);display.viewFrom\x3cfrom\x26\x2620\x3efrom-display.viewFrom\x26\x26(from\x3dMath.max(doc.first,display.viewFrom));display.viewTo\x3eto\x26\x2620\x3edisplay.viewTo-to\x26\x26(to\x3dMath.min(end,display.viewTo));sawCollapsedSpans\x26\x26(from\x3dvisualLineNo(cm.doc,from),\nto\x3dvisualLineEndNo(cm.doc,to));doc\x3dfrom!\x3ddisplay.viewFrom||to!\x3ddisplay.viewTo||display.lastWrapHeight!\x3dupdate.wrapperHeight||display.lastWrapWidth!\x3dupdate.wrapperWidth;end\x3dcm.display;0\x3d\x3dend.view.length||from\x3e\x3dend.viewTo||to\x3c\x3dend.viewFrom?(end.view\x3dbuildViewArray(cm,from,to),end.viewFrom\x3dfrom):(end.viewFrom\x3efrom?end.view\x3dbuildViewArray(cm,from,end.viewFrom).concat(end.view):end.viewFrom\x3cfrom\x26\x26(end.view\x3dend.view.slice(findViewIndex(cm,from))),end.viewFrom\x3dfrom,end.viewTo\x3cto?end.view\x3dend.view.concat(buildViewArray(cm,\nend.viewTo,to)):end.viewTo\x3eto\x26\x26(end.view\x3dend.view.slice(0,findViewIndex(cm,to))));end.viewTo\x3dto;display.viewOffset\x3dheightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top\x3ddisplay.viewOffset+\x22px\x22;to\x3dcountDirtyView(cm);if(!doc\x26\x260\x3d\x3dto\x26\x26!update.force\x26\x26display.renderedView\x3d\x3ddisplay.view\x26\x26(null\x3d\x3ddisplay.updateLineNumbers||display.updateLineNumbers\x3e\x3ddisplay.viewTo))return!1;cm.hasFocus()?from\x3dnull:(from\x3dactiveElt())\x26\x26contains(cm.display.lineDiv,from)?(from\x3d{activeElt:from},window.getSelection\x26\x26\n(end\x3dwindow.getSelection(),end.anchorNode\x26\x26end.extend\x26\x26contains(cm.display.lineDiv,end.anchorNode)\x26\x26(from.anchorNode\x3dend.anchorNode,from.anchorOffset\x3dend.anchorOffset,from.focusNode\x3dend.focusNode,from.focusOffset\x3dend.focusOffset))):from\x3dnull;4\x3cto\x26\x26(display.lineDiv.style.display\x3d\x22none\x22);patchDisplay(cm,display.updateLineNumbers,update.dims);4\x3cto\x26\x26(display.lineDiv.style.display\x3d\x22\x22);display.renderedView\x3ddisplay.view;(to\x3dfrom)\x26\x26to.activeElt\x26\x26to.activeElt!\x3dactiveElt()\x26\x26(to.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(to.activeElt.nodeName)\x26\x26\nto.anchorNode\x26\x26contains(document.body,to.anchorNode)\x26\x26contains(document.body,to.focusNode)\x26\x26(from\x3dwindow.getSelection(),end\x3ddocument.createRange(),end.setEnd(to.anchorNode,to.anchorOffset),end.collapse(!1),from.removeAllRanges(),from.addRange(end),from.extend(to.focusNode,to.focusOffset)));removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height\x3ddisplay.sizer.style.minHeight\x3d0;doc\x26\x26(display.lastWrapHeight\x3dupdate.wrapperHeight,display.lastWrapWidth\x3dupdate.wrapperWidth,\nstartWorker(cm,400));display.updateLineNumbers\x3dnull;return!0}function postUpdateDisplay(cm,update){for(var viewport\x3dupdate.viewport,first\x3d!0;;first\x3d!1){if(first\x26\x26cm.options.lineWrapping\x26\x26update.oldDisplayWidth!\x3ddisplayWidth(cm))first\x26\x26(update.visible\x3dvisibleLines(cm.display,cm.doc,viewport));else if(viewport\x26\x26null!\x3dviewport.top\x26\x26(viewport\x3d{top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}),update.visible\x3dvisibleLines(cm.display,cm.doc,viewport),update.visible.from\x3e\x3d\ncm.display.viewFrom\x26\x26update.visible.to\x3c\x3dcm.display.viewTo)break;if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);first\x3dmeasureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,first);setDocumentHeight(cm,first);update.force\x3d!1}update.signal(cm,\x22update\x22,cm);if(cm.display.viewFrom!\x3dcm.display.reportedViewFrom||cm.display.viewTo!\x3dcm.display.reportedViewTo)update.signal(cm,\x22viewportChange\x22,cm,cm.display.viewFrom,cm.display.viewTo),cm.display.reportedViewFrom\x3dcm.display.viewFrom,\ncm.display.reportedViewTo\x3dcm.display.viewTo}function updateDisplaySimple(cm,viewport){viewport\x3dnew DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,viewport)){updateHeightsInViewport(cm);postUpdateDisplay(cm,viewport);var barMeasure\x3dmeasureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);viewport.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next\x3dnode.nextSibling;webkit\x26\x26mac\x26\x26cm.display.currentWheelTarget\x3d\x3d\nnode?node.style.display\x3d\x22none\x22:node.parentNode.removeChild(node);return next}var display\x3dcm.display,lineNumbers\x3dcm.options.lineNumbers,container\x3ddisplay.lineDiv,cur\x3dcontainer.firstChild,view\x3ddisplay.view;display\x3ddisplay.viewFrom;for(var i\x3d0;i\x3cview.length;i++){var lineView\x3dview[i];if(!lineView.hidden)if(lineView.node\x26\x26lineView.node.parentNode\x3d\x3dcontainer){for(;cur!\x3dlineView.node;)cur\x3drm(cur);cur\x3dlineNumbers\x26\x26null!\x3dupdateNumbersFrom\x26\x26updateNumbersFrom\x3c\x3ddisplay\x26\x26lineView.lineNumber;lineView.changes\x26\x26\n(-1\x3cindexOf(lineView.changes,\x22gutter\x22)\x26\x26(cur\x3d!1),updateLineForChanges(cm,lineView,display,dims));cur\x26\x26(removeChildren(lineView.lineNumber),lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,display))));cur\x3dlineView.node.nextSibling}else{var node$jscomp$0\x3dbuildLineElement(cm,lineView,display,dims);container.insertBefore(node$jscomp$0,cur)}display+\x3dlineView.size}for(;cur;)cur\x3drm(cur)}function updateGutterSpace(display){display.sizer.style.marginLeft\x3ddisplay.gutters.offsetWidth+\n\x22px\x22}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight\x3dmeasure.docHeight+\x22px\x22;cm.display.heightForcer.style.top\x3dmeasure.docHeight+\x22px\x22;cm.display.gutters.style.height\x3dmeasure.docHeight+cm.display.barHeight+scrollGap(cm)+\x22px\x22}function alignHorizontally(cm){var display\x3dcm.display,view\x3ddisplay.view;if(display.alignWidgets||display.gutters.firstChild\x26\x26cm.options.fixedGutter){for(var comp\x3dcompensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW\x3ddisplay.gutters.offsetWidth,\nleft\x3dcomp+\x22px\x22,i\x3d0;i\x3cview.length;i++)if(!view[i].hidden){cm.options.fixedGutter\x26\x26(view[i].gutter\x26\x26(view[i].gutter.style.left\x3dleft),view[i].gutterBackground\x26\x26(view[i].gutterBackground.style.left\x3dleft));var align\x3dview[i].alignable;if(align)for(var j\x3d0;j\x3calign.length;j++)align[j].style.left\x3dleft}cm.options.fixedGutter\x26\x26(display.gutters.style.left\x3dcomp+gutterW+\x22px\x22)}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return!1;var doc\x3dcm.doc;doc\x3dlineNumberFor(cm.options,doc.first+doc.size-\n1);var display\x3dcm.display;if(doc.length!\x3ddisplay.lineNumChars){var test\x3ddisplay.measure.appendChild(elt$jscomp$0(\x22div\x22,[elt$jscomp$0(\x22div\x22,doc)],\x22CodeMirror-linenumber CodeMirror-gutter-elt\x22)),innerW\x3dtest.firstChild.offsetWidth;test\x3dtest.offsetWidth-innerW;display.lineGutter.style.width\x3d\x22\x22;display.lineNumInnerWidth\x3dMath.max(innerW,display.lineGutter.offsetWidth-test)+1;display.lineNumWidth\x3ddisplay.lineNumInnerWidth+test;display.lineNumChars\x3ddisplay.lineNumInnerWidth?doc.length:-1;display.lineGutter.style.width\x3d\ndisplay.lineNumWidth+\x22px\x22;updateGutterSpace(cm.display);return!0}return!1}function getGutters(gutters,lineNumbers){for(var result\x3d[],sawLineNumbers\x3d!1,i\x3d0;i\x3cgutters.length;i++){var name\x3dgutters[i],style\x3dnull;\x22string\x22!\x3dtypeof name\x26\x26(style\x3dname.style,name\x3dname.className);if(\x22CodeMirror-linenumbers\x22\x3d\x3dname)if(lineNumbers)sawLineNumbers\x3d!0;else continue;result.push({className:name,style})}lineNumbers\x26\x26!sawLineNumbers\x26\x26result.push({className:\x22CodeMirror-linenumbers\x22,style:null});return result}function renderGutters(display){var gutters\x3d\ndisplay.gutters,specs\x3ddisplay.gutterSpecs;removeChildren(gutters);display.lineGutter\x3dnull;for(var i\x3d0;i\x3cspecs.length;++i){var ref\x3dspecs[i],className\x3dref.className;ref\x3dref.style;var gElt\x3dgutters.appendChild(elt$jscomp$0(\x22div\x22,null,\x22CodeMirror-gutter \x22+className));ref\x26\x26(gElt.style.cssText\x3dref);\x22CodeMirror-linenumbers\x22\x3d\x3dclassName\x26\x26(display.lineGutter\x3dgElt,gElt.style.width\x3d(display.lineNumWidth||1)+\x22px\x22)}gutters.style.display\x3dspecs.length?\x22\x22:\x22none\x22;updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display);\nregChange(cm);alignHorizontally(cm)}function Display(place,doc,input,options){this.input\x3dinput;this.scrollbarFiller\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-scrollbar-filler\x22);this.scrollbarFiller.setAttribute(\x22cm-not-content\x22,\x22true\x22);this.gutterFiller\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-gutter-filler\x22);this.gutterFiller.setAttribute(\x22cm-not-content\x22,\x22true\x22);this.lineDiv\x3deltP(\x22div\x22,null,\x22CodeMirror-code\x22);this.selectionDiv\x3delt$jscomp$0(\x22div\x22,null,null,\x22position: relative; z-index: 1\x22);this.cursorDiv\x3delt$jscomp$0(\x22div\x22,\nnull,\x22CodeMirror-cursors\x22);this.measure\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-measure\x22);this.lineMeasure\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-measure\x22);this.lineSpace\x3deltP(\x22div\x22,[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,\x22position: relative; outline: none\x22);var lines\x3deltP(\x22div\x22,[this.lineSpace],\x22CodeMirror-lines\x22);this.mover\x3delt$jscomp$0(\x22div\x22,[lines],null,\x22position: relative\x22);this.sizer\x3delt$jscomp$0(\x22div\x22,[this.mover],\x22CodeMirror-sizer\x22);this.sizerWidth\x3dnull;\nthis.heightForcer\x3delt$jscomp$0(\x22div\x22,null,null,\x22position: absolute; height: 50px; width: 1px;\x22);this.gutters\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-gutters\x22);this.lineGutter\x3dnull;this.scroller\x3delt$jscomp$0(\x22div\x22,[this.sizer,this.heightForcer,this.gutters],\x22CodeMirror-scroll\x22);this.scroller.setAttribute(\x22tabIndex\x22,\x22-1\x22);this.wrapper\x3delt$jscomp$0(\x22div\x22,[this.scrollbarFiller,this.gutterFiller,this.scroller],\x22CodeMirror\x22);ie\x26\x268\x3eie_version\x26\x26(this.gutters.style.zIndex\x3d-1,this.scroller.style.paddingRight\x3d0);\nwebkit||gecko\x26\x26mobile||(this.scroller.draggable\x3d!0);place\x26\x26(place.appendChild?place.appendChild(this.wrapper):place(this.wrapper));this.reportedViewFrom\x3dthis.reportedViewTo\x3dthis.viewFrom\x3dthis.viewTo\x3ddoc.first;this.view\x3d[];this.externalMeasured\x3dthis.renderedView\x3dnull;this.lastWrapHeight\x3dthis.lastWrapWidth\x3dthis.viewOffset\x3d0;this.updateLineNumbers\x3dnull;this.nativeBarWidth\x3dthis.barHeight\x3dthis.barWidth\x3d0;this.scrollbarsClipped\x3d!1;this.lineNumWidth\x3dthis.lineNumInnerWidth\x3dthis.lineNumChars\x3dnull;this.alignWidgets\x3d\n!1;this.maxLine\x3dthis.cachedCharWidth\x3dthis.cachedTextHeight\x3dthis.cachedPaddingH\x3dnull;this.maxLineLength\x3d0;this.maxLineChanged\x3d!1;this.wheelDX\x3dthis.wheelDY\x3dthis.wheelStartX\x3dthis.wheelStartY\x3dnull;this.shift\x3d!1;this.activeTouch\x3dthis.selForContextMenu\x3dnull;this.gutterSpecs\x3dgetGutters(options.gutters,options.lineNumbers);renderGutters(this);input.init(this)}function wheelEventDelta(e){var dx\x3de.wheelDeltaX,dy\x3de.wheelDeltaY;null\x3d\x3ddx\x26\x26e.detail\x26\x26e.axis\x3d\x3de.HORIZONTAL_AXIS\x26\x26(dx\x3de.detail);null\x3d\x3ddy\x26\x26e.detail\x26\x26\ne.axis\x3d\x3de.VERTICAL_AXIS?dy\x3de.detail:null\x3d\x3ddy\x26\x26(dy\x3de.wheelDelta);return{x:dx,y:dy}}function wheelEventPixels(e){e\x3dwheelEventDelta(e);e.x*\x3dwheelPixelsPerUnit;e.y*\x3dwheelPixelsPerUnit;return e}function onScrollWheel(cm,e){var delta\x3dwheelEventDelta(e),dx\x3ddelta.x;delta\x3ddelta.y;var display\x3dcm.display,scroll\x3ddisplay.scroller,canScrollX\x3dscroll.scrollWidth\x3escroll.clientWidth,canScrollY\x3dscroll.scrollHeight\x3escroll.clientHeight;if(dx\x26\x26canScrollX||delta\x26\x26canScrollY){if(delta\x26\x26mac\x26\x26webkit){canScrollX\x3de.target;var view\x3d\ndisplay.view;a:for(;canScrollX!\x3dscroll;canScrollX\x3dcanScrollX.parentNode)for(var i\x3d0;i\x3cview.length;i++)if(view[i].node\x3d\x3dcanScrollX){cm.display.currentWheelTarget\x3dcanScrollX;break a}}!dx||gecko||presto||null\x3d\x3dwheelPixelsPerUnit?(delta\x26\x26null!\x3dwheelPixelsPerUnit\x26\x26(e\x3ddelta*wheelPixelsPerUnit,canScrollY\x3dcm.doc.scrollTop,canScrollX\x3dcanScrollY+display.wrapper.clientHeight,0\x3ee?canScrollY\x3dMath.max(0,canScrollY+e-50):canScrollX\x3dMath.min(cm.doc.height,canScrollX+e+50),updateDisplaySimple(cm,{top:canScrollY,bottom:canScrollX})),\n20\x3ewheelSamples\x26\x26(null\x3d\x3ddisplay.wheelStartX?(display.wheelStartX\x3dscroll.scrollLeft,display.wheelStartY\x3dscroll.scrollTop,display.wheelDX\x3ddx,display.wheelDY\x3ddelta,setTimeout(function(){if(null!\x3ddisplay.wheelStartX){var movedX\x3dscroll.scrollLeft-display.wheelStartX,movedY\x3dscroll.scrollTop-display.wheelStartY;movedX\x3dmovedY\x26\x26display.wheelDY\x26\x26movedY/display.wheelDY||movedX\x26\x26display.wheelDX\x26\x26movedX/display.wheelDX;display.wheelStartX\x3ddisplay.wheelStartY\x3dnull;movedX\x26\x26(wheelPixelsPerUnit\x3d(wheelPixelsPerUnit*\nwheelSamples+movedX)/(wheelSamples+1),++wheelSamples)}},200)):(display.wheelDX+\x3ddx,display.wheelDY+\x3ddelta))):(delta\x26\x26canScrollY\x26\x26updateScrollTop(cm,Math.max(0,scroll.scrollTop+delta*wheelPixelsPerUnit)),setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*wheelPixelsPerUnit)),(!delta||delta\x26\x26canScrollY)\x26\x26e_preventDefault(e),display.wheelStartX\x3dnull)}}function normalizeSelection(cm,ranges,primIndex){cm\x3dcm\x26\x26cm.options.selectionsMayTouch;primIndex\x3dranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),\nb.from())});primIndex\x3dindexOf(ranges,primIndex);for(var i\x3d1;i\x3cranges.length;i++){var cur\x3dranges[i],prev\x3dranges[i-1],diff\x3dcmp(prev.to(),cur.from());if(cm\x26\x26!cur.empty()?0\x3cdiff:0\x3c\x3ddiff){diff\x3dminPos(prev.from(),cur.from());var to\x3dmaxPos(prev.to(),cur.to());cur\x3dprev.empty()?cur.from()\x3d\x3dcur.head:prev.from()\x3d\x3dprev.head;i\x3c\x3dprimIndex\x26\x26--primIndex;ranges.splice(--i,2,new Range(cur?to:diff,cur?diff:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,\nhead||anchor)],0)}function changeEnd(change){return change.text?Pos(change.from.line+change.text.length-1,lst(change.text).length+(1\x3d\x3dchange.text.length?change.from.ch:0)):change.to}function adjustForChange(pos,change){if(0\x3ecmp(pos,change.from))return pos;if(0\x3e\x3dcmp(pos,change.to))return changeEnd(change);var line\x3dpos.line+change.text.length-(change.to.line-change.from.line)-1,ch\x3dpos.ch;pos.line\x3d\x3dchange.to.line\x26\x26(ch+\x3dchangeEnd(change).ch-change.to.ch);return Pos(line,ch)}function computeSelAfterChange(doc,\nchange){for(var out\x3d[],i\x3d0;i\x3cdoc.sel.ranges.length;i++){var range\x3ddoc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){return pos.line\x3d\x3dold.line?Pos(nw.line,pos.ch-old.ch+nw.ch):Pos(nw.line+(pos.line-old.line),pos.ch)}function loadMode(cm){cm.doc.mode\x3dgetMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){line.stateAfter\x26\x26\n(line.stateAfter\x3dnull);line.styles\x26\x26(line.styles\x3dnull)});cm.doc.modeFrontier\x3dcm.doc.highlightFrontier\x3dcm.doc.first;startWorker(cm,100);cm.state.modeGen++;cm.curOp\x26\x26regChange(cm)}function isWholeLineUpdate(doc,change){return 0\x3d\x3dchange.from.ch\x26\x260\x3d\x3dchange.to.ch\x26\x26\x22\x22\x3d\x3dlst(change.text)\x26\x26(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function update(line,text,spans){line.text\x3dtext;line.stateAfter\x26\x26(line.stateAfter\x3dnull);line.styles\x26\x26(line.styles\x3d\nnull);null!\x3dline.order\x26\x26(line.order\x3dnull);detachMarkedSpans(line);attachMarkedSpans(line,spans);text\x3destimateHeight?estimateHeight(line):1;text!\x3dline.height\x26\x26updateLineHeight(line,text);signalLater(line,\x22change\x22,line,change)}function linesFor(start,end){for(var result\x3d[];start\x3cend;++start)result.push(new Line(text$jscomp$0[start],markedSpans?markedSpans[start]:null,estimateHeight));return result}var from\x3dchange.from,to\x3dchange.to,text$jscomp$0\x3dchange.text,firstLine\x3dgetLine(doc,from.line),lastLine\x3d\ngetLine(doc,to.line),lastText\x3dlst(text$jscomp$0),lastSpans\x3dmarkedSpans?markedSpans[text$jscomp$0.length-1]:null,nlines\x3dto.line-from.line;change.full?(doc.insert(0,linesFor(0,text$jscomp$0.length)),doc.remove(text$jscomp$0.length,doc.size-text$jscomp$0.length)):isWholeLineUpdate(doc,change)?(to\x3dlinesFor(0,text$jscomp$0.length-1),update(lastLine,lastLine.text,lastSpans),nlines\x26\x26doc.remove(from.line,nlines),to.length\x26\x26doc.insert(from.line,to)):firstLine\x3d\x3dlastLine?1\x3d\x3dtext$jscomp$0.length?update(firstLine,\nfirstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans):(nlines\x3dlinesFor(1,text$jscomp$0.length-1),nlines.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight)),update(firstLine,firstLine.text.slice(0,from.ch)+text$jscomp$0[0],markedSpans?markedSpans[0]:null),doc.insert(from.line+1,nlines)):1\x3d\x3dtext$jscomp$0.length?(update(firstLine,firstLine.text.slice(0,from.ch)+text$jscomp$0[0]+lastLine.text.slice(to.ch),markedSpans?markedSpans[0]:null),doc.remove(from.line+\n1,nlines)):(update(firstLine,firstLine.text.slice(0,from.ch)+text$jscomp$0[0],markedSpans?markedSpans[0]:null),update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans),lastSpans\x3dlinesFor(1,text$jscomp$0.length-1),1\x3cnlines\x26\x26doc.remove(from.line+1,nlines-1),doc.insert(from.line+1,lastSpans));signalLater(doc,\x22change\x22,doc,change)}function linkedDocs(doc$jscomp$0,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i\x3d0;i\x3cdoc.linked.length;++i){var rel\x3ddoc.linked[i];if(rel.doc!\x3d\nskip){var shared\x3dsharedHist\x26\x26rel.sharedHist;if(!sharedHistOnly||shared)f(rel.doc,shared),propagate(rel.doc,doc,shared)}}}propagate(doc$jscomp$0,null,!0)}function attachDoc(cm,doc){if(doc.cm)throw Error(\x22This document is already in use.\x22);cm.doc\x3ddoc;doc.cm\x3dcm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);cm.options.lineWrapping||findMaxLine(cm);cm.options.mode\x3ddoc.modeOption;regChange(cm)}function setDirectionClass(cm){(\x22rtl\x22\x3d\x3dcm.doc.direction?addClass:rmClass)(cm.display.lineDiv,\x22CodeMirror-rtl\x22)}\nfunction directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(prev){this.done\x3d[];this.undone\x3d[];this.undoDepth\x3dprev?prev.undoDepth:Infinity;this.lastModTime\x3dthis.lastSelTime\x3d0;this.lastOrigin\x3dthis.lastSelOrigin\x3dthis.lastOp\x3dthis.lastSelOp\x3dnull;this.generation\x3dthis.maxGeneration\x3dprev?prev.maxGeneration:1}function historyChangeFromChange(doc$jscomp$0,change){var histChange\x3d{from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc$jscomp$0,change.from,\nchange.to)};attachLocalSpans(doc$jscomp$0,histChange,change.from.line,change.to.line+1);linkedDocs(doc$jscomp$0,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0);return histChange}function clearSelectionEvents(array){for(;array.length;)if(lst(array).ranges)array.pop();else break}function addChangeToHistory(doc,change,selAfter,opId){var hist\x3ddoc.history;hist.undone.length\x3d0;var time\x3d+new Date,JSCompiler_temp;if(JSCompiler_temp\x3dhist.lastOp\x3d\x3dopId||hist.lastOrigin\x3d\x3d\nchange.origin\x26\x26change.origin\x26\x26(\x22+\x22\x3d\x3dchange.origin.charAt(0)\x26\x26hist.lastModTime\x3etime-(doc.cm?doc.cm.options.historyEventDelay:500)||\x22*\x22\x3d\x3dchange.origin.charAt(0))){if(hist.lastOp\x3d\x3dopId){clearSelectionEvents(hist.done);var cur\x3dlst(hist.done)}else hist.done.length\x26\x26!lst(hist.done).ranges?cur\x3dlst(hist.done):1\x3chist.done.length\x26\x26!hist.done[hist.done.length-2].ranges?(hist.done.pop(),cur\x3dlst(hist.done)):cur\x3dvoid 0;JSCompiler_temp\x3dcur}if(JSCompiler_temp){var last\x3dlst(cur.changes);0\x3d\x3dcmp(change.from,change.to)\x26\x26\n0\x3d\x3dcmp(change.from,last.to)?last.to\x3dchangeEnd(change):cur.changes.push(historyChangeFromChange(doc,change))}else for((cur\x3dlst(hist.done))\x26\x26cur.ranges||pushSelectionToHistory(doc.sel,hist.done),cur\x3d{changes:[historyChangeFromChange(doc,change)],generation:hist.generation},hist.done.push(cur);hist.done.length\x3ehist.undoDepth;)hist.done.shift(),hist.done[0].ranges||hist.done.shift();hist.done.push(selAfter);hist.generation\x3d++hist.maxGeneration;hist.lastModTime\x3dhist.lastSelTime\x3dtime;hist.lastOp\x3dhist.lastSelOp\x3d\nopId;hist.lastOrigin\x3dhist.lastSelOrigin\x3dchange.origin;last||signal(doc,\x22historyAdded\x22)}function pushSelectionToHistory(sel,dest){var top\x3dlst(dest);top\x26\x26top.ranges\x26\x26top.equals(sel)||dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing\x3dchange[\x22spans_\x22+doc.id],n\x3d0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){line.markedSpans\x26\x26((existing||(existing\x3dchange[\x22spans_\x22+doc.id]\x3d{}))[n]\x3dline.markedSpans);++n})}function removeClearedSpans(spans){if(!spans)return null;\nfor(var out,i\x3d0;i\x3cspans.length;++i)spans[i].marker.explicitlyCleared?out||(out\x3dspans.slice(0,i)):out\x26\x26out.push(spans[i]);return out?out.length?out:null:spans}function mergeOldSpans(doc,change){var old;if(old\x3dchange[\x22spans_\x22+doc.id]){for(var nw\x3d[],i\x3d0;i\x3cchange.text.length;++i)nw.push(removeClearedSpans(old[i]));old\x3dnw}else old\x3dnull;doc\x3dstretchSpansOverChange(doc,change);if(!old)return doc;if(!doc)return old;for(change\x3d0;change\x3cold.length;++change)if(nw\x3dold[change],i\x3ddoc[change],nw\x26\x26i){var j\x3d0;a:for(;j\x3c\ni.length;++j){for(var span\x3di[j],k\x3d0;k\x3cnw.length;++k)if(nw[k].marker\x3d\x3dspan.marker)continue a;nw.push(span)}}else i\x26\x26(old[change]\x3di);return old}function copyHistoryArray(events,newGroup,instantiateSel){for(var copy\x3d[],i\x3d0;i\x3cevents.length;++i){var event\x3devents[i];if(event.ranges)copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);else{event\x3devent.changes;var newChanges\x3d[];copy.push({changes:newChanges});for(var j\x3d0;j\x3cevent.length;++j){var change\x3devent[j],m;newChanges.push({from:change.from,\nto:change.to,text:change.text});if(newGroup)for(var prop in change)(m\x3dprop.match(/^spans_(\\d+)$/))\x26\x26-1\x3cindexOf(newGroup,Number(m[1]))\x26\x26(lst(newChanges)[prop]\x3dchange[prop],delete change[prop])}}}return copy}function extendRange(range,head,other,extend){return extend?(range\x3drange.anchor,other\x26\x26(extend\x3d0\x3ecmp(head,range),extend!\x3d0\x3ecmp(other,range)?(range\x3dhead,head\x3dother):extend!\x3d0\x3ecmp(head,other)\x26\x26(head\x3dother)),new Range(range,head)):new Range(other||head,head)}function extendSelection(doc,head,other,\noptions,extend){null\x3d\x3dextend\x26\x26(extend\x3ddoc.cm\x26\x26(doc.cm.display.shift||doc.extend));setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){for(var out\x3d[],extend\x3ddoc.cm\x26\x26(doc.cm.display.shift||doc.extend),i\x3d0;i\x3cdoc.sel.ranges.length;i++)out[i]\x3dextendRange(doc.sel.ranges[i],heads[i],null,extend);heads\x3dnormalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,heads,options)}function replaceOneSelection(doc,i,range,\noptions){var ranges\x3ddoc.sel.ranges.slice(0);ranges[i]\x3drange;setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options)}function filterSelectionChange(doc,sel,options){options\x3d{ranges:sel.ranges,update:function(ranges){this.ranges\x3d[];for(var i\x3d0;i\x3cranges.length;i++)this.ranges[i]\x3dnew Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))},origin:options\x26\x26options.origin};signal(doc,\x22beforeSelectionChange\x22,doc,options);doc.cm\x26\x26signal(doc.cm,\x22beforeSelectionChange\x22,doc.cm,\noptions);return options.ranges!\x3dsel.ranges?normalizeSelection(doc.cm,options.ranges,options.ranges.length-1):sel}function setSelectionReplaceHistory(doc,sel,options){var done\x3ddoc.history.done,last\x3dlst(done);last\x26\x26last.ranges?(done[done.length-1]\x3dsel,setSelectionNoUndo(doc,sel,options)):setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);sel\x3ddoc.sel;var opId\x3ddoc.cm?doc.cm.curOp.id:NaN,hist\x3ddoc.history,origin\x3doptions\x26\x26options.origin,JSCompiler_temp;\nif(!(JSCompiler_temp\x3dopId\x3d\x3dhist.lastSelOp)\x26\x26(JSCompiler_temp\x3dorigin\x26\x26hist.lastSelOrigin\x3d\x3dorigin)\x26\x26!(JSCompiler_temp\x3dhist.lastModTime\x3d\x3dhist.lastSelTime\x26\x26hist.lastOrigin\x3d\x3dorigin)){JSCompiler_temp\x3dlst(hist.done);var ch\x3dorigin.charAt(0);JSCompiler_temp\x3d\x22*\x22\x3d\x3dch||\x22+\x22\x3d\x3dch\x26\x26JSCompiler_temp.ranges.length\x3d\x3dsel.ranges.length\x26\x26JSCompiler_temp.somethingSelected()\x3d\x3dsel.somethingSelected()\x26\x26new Date-doc.history.lastSelTime\x3c\x3d(doc.cm?doc.cm.options.historyEventDelay:500)}JSCompiler_temp?hist.done[hist.done.length-\n1]\x3dsel:pushSelectionToHistory(sel,hist.done);hist.lastSelTime\x3d+new Date;hist.lastSelOrigin\x3dorigin;hist.lastSelOp\x3dopId;options\x26\x26!1!\x3d\x3doptions.clearRedo\x26\x26clearSelectionEvents(hist.undone)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,\x22beforeSelectionChange\x22)||doc.cm\x26\x26hasHandler(doc.cm,\x22beforeSelectionChange\x22))sel\x3dfilterSelectionChange(doc,sel,options);var bias\x3doptions\x26\x26options.bias||(0\x3ecmp(sel.primary().head,doc.sel.primary().head)?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,\nsel,bias,!0));options\x26\x26!1\x3d\x3d\x3doptions.scroll||!doc.cm||\x22nocursor\x22\x3d\x3ddoc.cm.getOption(\x22readOnly\x22)||ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){sel.equals(doc.sel)||(doc.sel\x3dsel,doc.cm\x26\x26(doc.cm.curOp.updateInput\x3d1,doc.cm.curOp.selectionChanged\x3d!0,signalCursorActivity(doc.cm)),signalLater(doc,\x22cursorActivity\x22,doc))}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1))}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i\x3d0;i\x3csel.ranges.length;i++){var range\x3d\nsel.ranges[i],old\x3dsel.ranges.length\x3d\x3ddoc.sel.ranges.length\x26\x26doc.sel.ranges[i],newAnchor\x3dskipAtomic(doc,range.anchor,old\x26\x26old.anchor,bias,mayClear);old\x3dskipAtomic(doc,range.head,old\x26\x26old.head,bias,mayClear);if(out||newAnchor!\x3drange.anchor||old!\x3drange.head)out||(out\x3dsel.ranges.slice(0,i)),out[i]\x3dnew Range(newAnchor,old)}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line\x3dgetLine(doc,pos.line);if(line.markedSpans)for(var i\x3d0;i\x3cline.markedSpans.length;++i){var sp\x3d\nline.markedSpans[i],m\x3dsp.marker,preventCursorLeft\x3d\x22selectLeft\x22in m?!m.selectLeft:m.inclusiveLeft,preventCursorRight\x3d\x22selectRight\x22in m?!m.selectRight:m.inclusiveRight;if((null\x3d\x3dsp.from||(preventCursorLeft?sp.from\x3c\x3dpos.ch:sp.from\x3cpos.ch))\x26\x26(null\x3d\x3dsp.to||(preventCursorRight?sp.to\x3e\x3dpos.ch:sp.to\x3epos.ch))){if(mayClear\x26\x26(signal(m,\x22beforeCursorEnter\x22),m.explicitlyCleared))if(line.markedSpans){--i;continue}else break;if(m.atomic){if(oldPos){i\x3dm.find(0\x3edir?1:-1);sp\x3dvoid 0;if(0\x3edir?preventCursorRight:preventCursorLeft)i\x3d\nmovePos(doc,i,-dir,i\x26\x26i.line\x3d\x3dpos.line?line:null);if(i\x26\x26i.line\x3d\x3dpos.line\x26\x26(sp\x3dcmp(i,oldPos))\x26\x26(0\x3edir?0\x3esp:0\x3csp))return skipAtomicInner(doc,i,pos,dir,mayClear)}oldPos\x3dm.find(0\x3edir?-1:1);if(0\x3edir?preventCursorLeft:preventCursorRight)oldPos\x3dmovePos(doc,oldPos,dir,oldPos.line\x3d\x3dpos.line?line:null);return oldPos?skipAtomicInner(doc,oldPos,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){bias\x3dbias||1;pos\x3dskipAtomicInner(doc,pos,oldPos,bias,mayClear)||!mayClear\x26\x26skipAtomicInner(doc,\npos,oldPos,bias,!0)||skipAtomicInner(doc,pos,oldPos,-bias,mayClear)||!mayClear\x26\x26skipAtomicInner(doc,pos,oldPos,-bias,!0);return pos?pos:(doc.cantEdit\x3d!0,Pos(doc.first,0))}function movePos(doc,pos,dir,line){return 0\x3edir\x26\x260\x3d\x3dpos.ch?pos.line\x3edoc.first?clipPos(doc,Pos(pos.line-1)):null:0\x3cdir\x26\x26pos.ch\x3d\x3d(line||getLine(doc,pos.line)).text.length?pos.line\x3cdoc.first+doc.size-1?Pos(pos.line+1,0):null:new Pos(pos.line,pos.ch+dir)}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),\nsel_dontScroll)}function filterChange(doc,change,update){var obj\x3d{canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled\x3d!0}};update\x26\x26(obj.update\x3dfunction(from,to,text,origin){from\x26\x26(obj.from\x3dclipPos(doc,from));to\x26\x26(obj.to\x3dclipPos(doc,to));text\x26\x26(obj.text\x3dtext);void 0!\x3d\x3dorigin\x26\x26(obj.origin\x3dorigin)});signal(doc,\x22beforeChange\x22,doc,obj);doc.cm\x26\x26signal(doc.cm,\x22beforeChange\x22,doc.cm,obj);return obj.canceled?(doc.cm\x26\x26(doc.cm.curOp.updateInput\x3d\n2),null):{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(hasHandler(doc,\x22beforeChange\x22)||doc.cm\x26\x26hasHandler(doc.cm,\x22beforeChange\x22))if(change\x3dfilterChange(doc,change,!0),!change)return;if(ignoreReadOnly\x3dsawReadOnlySpans\x26\x26!ignoreReadOnly\x26\x26removeReadOnlyRanges(doc,change.from,change.to))for(var i\x3dignoreReadOnly.length-\n1;0\x3c\x3di;--i)makeChangeInner(doc,{from:ignoreReadOnly[i].from,to:ignoreReadOnly[i].to,text:i?[\x22\x22]:change.text,origin:change.origin});else makeChangeInner(doc,change)}function makeChangeInner(doc$jscomp$0,change){if(1!\x3dchange.text.length||\x22\x22!\x3dchange.text[0]||0!\x3dcmp(change.from,change.to)){var selAfter\x3dcomputeSelAfterChange(doc$jscomp$0,change);addChangeToHistory(doc$jscomp$0,change,selAfter,doc$jscomp$0.cm?doc$jscomp$0.cm.curOp.id:NaN);makeChangeSingleDoc(doc$jscomp$0,change,selAfter,stretchSpansOverChange(doc$jscomp$0,\nchange));var rebased\x3d[];linkedDocs(doc$jscomp$0,function(doc,sharedHist){sharedHist||-1!\x3dindexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history));makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}}function makeChangeFromHistory(doc$jscomp$0,type,allowSelectionOnly){var suppress\x3ddoc$jscomp$0.cm\x26\x26doc$jscomp$0.cm.state.suppressEdits;if(!suppress||allowSelectionOnly){for(var hist\x3ddoc$jscomp$0.history,event,selAfter\x3ddoc$jscomp$0.sel,source\x3d\x22undo\x22\x3d\x3d\ntype?hist.done:hist.undone,dest\x3d\x22undo\x22\x3d\x3dtype?hist.undone:hist.done,i$jscomp$0\x3d0;i$jscomp$0\x3csource.length\x26\x26(event\x3dsource[i$jscomp$0],allowSelectionOnly?!event.ranges||event.equals(doc$jscomp$0.sel):event.ranges);i$jscomp$0++);if(i$jscomp$0!\x3dsource.length){for(hist.lastOrigin\x3dhist.lastSelOrigin\x3dnull;;)if(event\x3dsource.pop(),event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly\x26\x26!event.equals(doc$jscomp$0.sel)){setSelection(doc$jscomp$0,event,{clearRedo:!1});return}selAfter\x3devent}else{if(suppress){source.push(event);\nreturn}break}var antiChanges\x3d[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation\x3devent.generation||++hist.maxGeneration;var filter\x3dhasHandler(doc$jscomp$0,\x22beforeChange\x22)||doc$jscomp$0.cm\x26\x26hasHandler(doc$jscomp$0.cm,\x22beforeChange\x22);allowSelectionOnly\x3dfunction(i){var change\x3devent.changes[i];change.origin\x3dtype;if(filter\x26\x26!filterChange(doc$jscomp$0,change,!1))return source.length\x3d0,{};antiChanges.push(historyChangeFromChange(doc$jscomp$0,\nchange));var after\x3di?computeSelAfterChange(doc$jscomp$0,change):lst(source);makeChangeSingleDoc(doc$jscomp$0,change,after,mergeOldSpans(doc$jscomp$0,change));!i\x26\x26doc$jscomp$0.cm\x26\x26doc$jscomp$0.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased\x3d[];linkedDocs(doc$jscomp$0,function(doc,sharedHist){sharedHist||-1!\x3dindexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history));makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};for(suppress\x3devent.changes.length-\n1;0\x3c\x3dsuppress;--suppress)if(hist\x3dallowSelectionOnly(suppress))return hist.v}}}function shiftDoc(doc,distance){if(0!\x3ddistance\x26\x26(doc.first+\x3ddistance,doc.sel\x3dnew Selection(map$jscomp$0(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex),doc.cm)){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d\x3ddoc.cm.display,l\x3dd.viewFrom;l\x3cd.viewTo;l++)regLineChange(doc.cm,l,\x22gutter\x22)}}function makeChangeSingleDoc(doc,\nchange,selAfter,spans){if(doc.cm\x26\x26!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line\x3cdoc.first)shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));else if(!(change.from.line\x3edoc.lastLine())){if(change.from.line\x3cdoc.first){var shift\x3dchange.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change\x3d{from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}shift\x3ddoc.lastLine();\nchange.to.line\x3eshift\x26\x26(change\x3d{from:change.from,to:Pos(shift,getLine(doc,shift).text.length),text:[change.text[0]],origin:change.origin});change.removed\x3dgetBetween(doc,change.from,change.to);selAfter||(selAfter\x3dcomputeSelAfterChange(doc,change));doc.cm?makeChangeSingleDocInEditor(doc.cm,change,spans):updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);doc.cantEdit\x26\x26skipAtomic(doc,Pos(doc.firstLine(),0))\x26\x26(doc.cantEdit\x3d!1)}}function makeChangeSingleDocInEditor(cm,change,spans){var doc\x3d\ncm.doc,display\x3dcm.display,from\x3dchange.from,to\x3dchange.to,recomputeMaxLength\x3d!1,checkWidthStart\x3dfrom.line;cm.options.lineWrapping||(checkWidthStart\x3dlineNo(visualLine(getLine(doc,from.line))),doc.iter(checkWidthStart,to.line+1,function(line){if(line\x3d\x3ddisplay.maxLine)return recomputeMaxLength\x3d!0}));-1\x3cdoc.sel.contains(change.from,change.to)\x26\x26signalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));cm.options.lineWrapping||(doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len\x3d\nlineLength(line);len\x3edisplay.maxLineLength\x26\x26(display.maxLine\x3dline,display.maxLineLength\x3dlen,display.maxLineChanged\x3d!0,recomputeMaxLength\x3d!1)}),recomputeMaxLength\x26\x26(cm.curOp.updateMaxLine\x3d!0));retreatFrontier(doc,from.line);startWorker(cm,400);spans\x3dchange.text.length-(to.line-from.line)-1;change.full?regChange(cm):from.line!\x3dto.line||1!\x3dchange.text.length||isWholeLineUpdate(cm.doc,change)?regChange(cm,from.line,to.line+1,spans):regLineChange(cm,from.line,\x22text\x22);spans\x3dhasHandler(cm,\x22changes\x22);if((doc\x3d\nhasHandler(cm,\x22change\x22))||spans)change\x3d{from,to,text:change.text,removed:change.removed,origin:change.origin},doc\x26\x26signalLater(cm,\x22change\x22,cm,change),spans\x26\x26(cm.curOp.changeObjs||(cm.curOp.changeObjs\x3d[])).push(change);cm.display.selForContextMenu\x3dnull}function replaceRange(doc,code,from,to,origin){to||(to\x3dfrom);0\x3ecmp(to,from)\x26\x26(to\x3d[to,from],from\x3dto[0],to\x3dto[1]);\x22string\x22\x3d\x3dtypeof code\x26\x26(code\x3ddoc.splitLines(code));makeChange(doc,{from,to,text:code,origin})}function rebaseHistSelSingle(pos,from,to,diff){to\x3c\npos.line?pos.line+\x3ddiff:from\x3cpos.line\x26\x26(pos.line\x3dfrom,pos.ch\x3d0)}function rebaseHistArray(array,from,to,diff){for(var i\x3d0;i\x3carray.length;++i){var sub\x3darray[i],ok\x3d!0;if(sub.ranges)for(sub.copied||(sub\x3darray[i]\x3dsub.deepCopy(),sub.copied\x3d!0),ok\x3d0;ok\x3csub.ranges.length;ok++)rebaseHistSelSingle(sub.ranges[ok].anchor,from,to,diff),rebaseHistSelSingle(sub.ranges[ok].head,from,to,diff);else{for(var j$1\x3d0;j$1\x3csub.changes.length;++j$1){var cur\x3dsub.changes[j$1];if(to\x3ccur.from.line)cur.from\x3dPos(cur.from.line+diff,\ncur.from.ch),cur.to\x3dPos(cur.to.line+diff,cur.to.ch);else if(from\x3c\x3dcur.to.line){ok\x3d!1;break}}ok||(array.splice(0,i+1),i\x3d0)}}}function rebaseHist(hist,change){var from\x3dchange.from.line,to\x3dchange.to.line;change\x3dchange.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,change);rebaseHistArray(hist.undone,from,to,change)}function changeLine(doc,handle,changeType,op){var no\x3dhandle,line\x3dhandle;\x22number\x22\x3d\x3dtypeof handle?line\x3dgetLine(doc,Math.max(doc.first,Math.min(handle,doc.first+doc.size-1))):no\x3dlineNo(handle);\nif(null\x3d\x3dno)return null;op(line,no)\x26\x26doc.cm\x26\x26regLineChange(doc.cm,no,changeType);return line}function LeafChunk(lines){this.lines\x3dlines;this.parent\x3dnull;for(var height\x3d0,i\x3d0;i\x3clines.length;++i)lines[i].parent\x3dthis,height+\x3dlines[i].height;this.height\x3dheight}function BranchChunk(children){this.children\x3dchildren;for(var size\x3d0,height\x3d0,i\x3d0;i\x3cchildren.length;++i){var ch\x3dchildren[i];size+\x3dch.chunkSize();height+\x3dch.height;ch.parent\x3dthis}this.size\x3dsize;this.height\x3dheight;this.parent\x3dnull}function addLineWidget(doc,\nhandle,node,options){var widget\x3dnew LineWidget(doc,node,options),cm\x3ddoc.cm;cm\x26\x26widget.noHScroll\x26\x26(cm.display.alignWidgets\x3d!0);changeLine(doc,handle,\x22widget\x22,function(line){var widgets\x3dline.widgets||(line.widgets\x3d[]);null\x3d\x3dwidget.insertAt?widgets.push(widget):widgets.splice(Math.min(widgets.length,Math.max(0,widget.insertAt)),0,widget);widget.line\x3dline;cm\x26\x26!lineIsHidden(doc,line)\x26\x26(widgets\x3dheightAtLine(line)\x3cdoc.scrollTop,updateLineHeight(line,line.height+widgetHeight(widget)),widgets\x26\x26addToScrollTop(cm,\nwidget.height),cm.curOp.forceUpdate\x3d!0);return!0});cm\x26\x26signalLater(cm,\x22lineWidgetAdded\x22,cm,widget,\x22number\x22\x3d\x3dtypeof handle?handle:lineNo(handle));return widget}function markText(doc,from,to,options,type){if(options\x26\x26options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm\x26\x26!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker\x3dnew TextMarker(doc,type);type\x3dcmp(from,to);options\x26\x26copyObj(options,marker,!1);if(0\x3ctype||0\x3d\x3dtype\x26\x26!1!\x3d\x3dmarker.clearWhenEmpty)return marker;\nmarker.replacedWith\x26\x26(marker.collapsed\x3d!0,marker.widgetNode\x3deltP(\x22span\x22,[marker.replacedWith],\x22CodeMirror-widget\x22),options.handleMouseEvents||marker.widgetNode.setAttribute(\x22cm-ignore-events\x22,\x22true\x22),options.insertLeft\x26\x26(marker.widgetNode.insertLeft\x3d!0));if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!\x3dto.line\x26\x26conflictingCollapsedRange(doc,to.line,from,to,marker))throw Error(\x22Inserting collapsed marker partially overlapping an existing one\x22);sawCollapsedSpans\x3d\n!0}marker.addToHistory\x26\x26addChangeToHistory(doc,{from,to,origin:\x22markText\x22},doc.sel,NaN);var curLine\x3dfrom.line,cm\x3ddoc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){cm\x26\x26marker.collapsed\x26\x26!cm.options.lineWrapping\x26\x26visualLine(line)\x3d\x3dcm.display.maxLine\x26\x26(updateMaxLine\x3d!0);marker.collapsed\x26\x26curLine!\x3dfrom.line\x26\x26updateLineHeight(line,0);var span\x3dnew MarkedSpan(marker,curLine\x3d\x3dfrom.line?from.ch:null,curLine\x3d\x3dto.line?to.ch:null);line.markedSpans\x3dline.markedSpans?line.markedSpans.concat([span]):\n[span];span.marker.attachLine(line);++curLine});marker.collapsed\x26\x26doc.iter(from.line,to.line+1,function(line){lineIsHidden(doc,line)\x26\x26updateLineHeight(line,0)});marker.clearOnEnter\x26\x26on$jscomp$0(marker,\x22beforeCursorEnter\x22,function(){return marker.clear()});marker.readOnly\x26\x26(sawReadOnlySpans\x3d!0,(doc.history.done.length||doc.history.undone.length)\x26\x26doc.clearHistory());marker.collapsed\x26\x26(marker.id\x3d++nextMarkerId,marker.atomic\x3d!0);if(cm){updateMaxLine\x26\x26(cm.curOp.updateMaxLine\x3d!0);if(marker.collapsed)regChange(cm,\nfrom.line,to.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title)for(options\x3dfrom.line;options\x3c\x3dto.line;options++)regLineChange(cm,options,\x22text\x22);marker.atomic\x26\x26reCheckSelection(cm.doc);signalLater(cm,\x22markerAdded\x22,cm,marker)}return marker}function markTextShared(doc$jscomp$0,from,to,options,type){options\x3dcopyObj(options);options.shared\x3d!1;var markers\x3d[markText(doc$jscomp$0,from,to,options,type)],primary\x3dmarkers[0],widget\x3doptions.widgetNode;\nlinkedDocs(doc$jscomp$0,function(doc){widget\x26\x26(options.widgetNode\x3dwidget.cloneNode(!0));markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i\x3d0;i\x3cdoc.linked.length;++i)if(doc.linked[i].isParent)return;primary\x3dlst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function detachSharedMarkers(markers){for(var loop\x3dfunction(i){i\x3dmarkers[i];\nvar linked\x3d[i.primary.doc];linkedDocs(i.primary.doc,function(d){return linked.push(d)});for(var j\x3d0;j\x3ci.markers.length;j++){var subMarker\x3di.markers[j];-1\x3d\x3dindexOf(linked,subMarker.doc)\x26\x26(subMarker.parent\x3dnull,i.markers.splice(j--,1))}},i$jscomp$0\x3d0;i$jscomp$0\x3cmarkers.length;i$jscomp$0++)loop(i$jscomp$0)}function onDrop(e){var cm\x3dthis;clearDragCursor(cm);if(!signalDOMEvent(cm,e)\x26\x26!eventInWidget(cm.display,e)){e_preventDefault(e);ie\x26\x26(lastDrop\x3d+new Date);var pos\x3dposFromMouse(cm,e,!0),files\x3de.dataTransfer.files;\nif(pos\x26\x26!cm.isReadOnly())if(files\x26\x26files.length\x26\x26window.FileReader\x26\x26window.File)for(var n\x3dfiles.length,text\x3dArray(n),read\x3d0,markAsReadAndPasteIfAllFilesAreRead\x3dfunction(){++read\x3d\x3dn\x26\x26operation(cm,function(){pos\x3dclipPos(cm.doc,pos);var change\x3d{from:pos,to:pos,text:cm.doc.splitLines(text.filter(function(t){return null!\x3dt}).join(cm.doc.lineSeparator())),origin:\x22paste\x22};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(clipPos(cm.doc,pos),clipPos(cm.doc,changeEnd(change))))})()},\nreadTextFromFile\x3dfunction(file,i){if(cm.options.allowDropFileTypes\x26\x26-1\x3d\x3dindexOf(cm.options.allowDropFileTypes,file.type))markAsReadAndPasteIfAllFilesAreRead();else{var reader\x3dnew FileReader;reader.onerror\x3dfunction(){return markAsReadAndPasteIfAllFilesAreRead()};reader.onload\x3dfunction(){var content\x3dreader.result;/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)||(text[i]\x3dcontent);markAsReadAndPasteIfAllFilesAreRead()};reader.readAsText(file)}},i$jscomp$0\x3d0;i$jscomp$0\x3cfiles.length;i$jscomp$0++)readTextFromFile(files[i$jscomp$0],\ni$jscomp$0);else if(cm.state.draggingText\x26\x26-1\x3ccm.doc.sel.contains(pos))cm.state.draggingText(e),setTimeout(function(){return cm.display.input.focus()},20);else try{if(readTextFromFile\x3de.dataTransfer.getData(\x22Text\x22)){cm.state.draggingText\x26\x26!cm.state.draggingText.copy\x26\x26(i$jscomp$0\x3dcm.listSelections());setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(i$jscomp$0)for(files\x3d0;files\x3ci$jscomp$0.length;++files)replaceRange(cm.doc,\x22\x22,i$jscomp$0[files].anchor,i$jscomp$0[files].head,\x22drag\x22);cm.replaceSelection(readTextFromFile,\n\x22around\x22,\x22paste\x22);cm.display.input.focus()}}catch(e$1){}}}function clearDragCursor(cm){cm.display.dragCursor\x26\x26(cm.display.lineSpace.removeChild(cm.display.dragCursor),cm.display.dragCursor\x3dnull)}function forEachCodeMirror(f){if(document.getElementsByClassName){for(var byClass\x3ddocument.getElementsByClassName(\x22CodeMirror\x22),editors\x3d[],i$jscomp$0\x3d0;i$jscomp$0\x3cbyClass.length;i$jscomp$0++){var cm\x3dbyClass[i$jscomp$0].CodeMirror;cm\x26\x26editors.push(cm)}editors.length\x26\x26editors[0].operation(function(){for(var i\x3d\n0;i\x3ceditors.length;i++)f(editors[i])})}}function registerGlobalHandlers(){var resizeTimer;on$jscomp$0(window,\x22resize\x22,function(){null\x3d\x3dresizeTimer\x26\x26(resizeTimer\x3dsetTimeout(function(){resizeTimer\x3dnull;forEachCodeMirror(onResize)},100))});on$jscomp$0(window,\x22blur\x22,function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d\x3dcm.display;d.cachedCharWidth\x3dd.cachedTextHeight\x3dd.cachedPaddingH\x3dnull;d.scrollbarsClipped\x3d!1;cm.setSize()}function normalizeKeyName(name){var parts\x3dname.split(/-(?!$)/);\nname\x3dparts[parts.length-1];for(var alt,ctrl,shift,cmd,i\x3d0;i\x3cparts.length-1;i++){var mod\x3dparts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd\x3d!0;else if(/^a(lt)?$/i.test(mod))alt\x3d!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl\x3d!0;else if(/^s(hift)?$/i.test(mod))shift\x3d!0;else throw Error(\x22Unrecognized modifier name: \x22+mod);}alt\x26\x26(name\x3d\x22Alt-\x22+name);ctrl\x26\x26(name\x3d\x22Ctrl-\x22+name);cmd\x26\x26(name\x3d\x22Cmd-\x22+name);shift\x26\x26(name\x3d\x22Shift-\x22+name);return name}function normalizeKeyMap(keymap){var copy\x3d{},keyname;for(keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value\x3d\nkeymap[keyname];if(!/^(name|fallthrough|(de|at)tach)$/.test(keyname)){if(\x22...\x22!\x3dvalue)for(var keys\x3dmap$jscomp$0(keyname.split(\x22 \x22),normalizeKeyName),i\x3d0;i\x3ckeys.length;i++){if(i\x3d\x3dkeys.length-1){var name\x3dkeys.join(\x22 \x22);var val\x3dvalue}else name\x3dkeys.slice(0,i+1).join(\x22 \x22),val\x3d\x22...\x22;var prev\x3dcopy[name];if(!prev)copy[name]\x3dval;else if(prev!\x3dval)throw Error(\x22Inconsistent bindings for \x22+name);}delete keymap[keyname]}}for(var prop in copy)keymap[prop]\x3dcopy[prop];return keymap}function lookupKey(key,map,handle,\ncontext){map\x3dgetKeyMap(map);var found\x3dmap.call?map.call(key,context):map[key];if(!1\x3d\x3d\x3dfound)return\x22nothing\x22;if(\x22...\x22\x3d\x3d\x3dfound)return\x22multi\x22;if(null!\x3dfound\x26\x26handle(found))return\x22handled\x22;if(map.fallthrough){if(\x22[object Array]\x22!\x3dObject.prototype.toString.call(map.fallthrough))return lookupKey(key,map.fallthrough,handle,context);for(found\x3d0;found\x3cmap.fallthrough.length;found++){var result\x3dlookupKey(key,map.fallthrough[found],handle,context);if(result)return result}}}function isModifierKey(value){value\x3d\n\x22string\x22\x3d\x3dtypeof value?value:keyNames[value.keyCode];return\x22Ctrl\x22\x3d\x3dvalue||\x22Alt\x22\x3d\x3dvalue||\x22Shift\x22\x3d\x3dvalue||\x22Mod\x22\x3d\x3dvalue}function addModifierNames(name,event,noShift){var base\x3dname;event.altKey\x26\x26\x22Alt\x22!\x3dbase\x26\x26(name\x3d\x22Alt-\x22+name);(flipCtrlCmd?event.metaKey:event.ctrlKey)\x26\x26\x22Ctrl\x22!\x3dbase\x26\x26(name\x3d\x22Ctrl-\x22+name);(flipCtrlCmd?event.ctrlKey:event.metaKey)\x26\x26\x22Mod\x22!\x3dbase\x26\x26(name\x3d\x22Cmd-\x22+name);!noShift\x26\x26event.shiftKey\x26\x26\x22Shift\x22!\x3dbase\x26\x26(name\x3d\x22Shift-\x22+name);return name}function keyName(event,noShift){if(presto\x26\x2634\x3d\x3devent.keyCode\x26\x26\nevent[\x22char\x22])return!1;var name\x3dkeyNames[event.keyCode];if(null\x3d\x3dname||event.altGraphKey)return!1;3\x3d\x3devent.keyCode\x26\x26event.code\x26\x26(name\x3devent.code);return addModifierNames(name,event,noShift)}function getKeyMap(val){return\x22string\x22\x3d\x3dtypeof val?keyMap[val]:val}function deleteNearSelection(cm,compute){for(var ranges\x3dcm.doc.sel.ranges,kill\x3d[],i$jscomp$0\x3d0;i$jscomp$0\x3cranges.length;i$jscomp$0++){for(var toKill\x3dcompute(ranges[i$jscomp$0]);kill.length\x26\x260\x3e\x3dcmp(toKill.from,lst(kill).to);){var replaced\x3dkill.pop();\nif(0\x3ecmp(replaced.from,toKill.from)){toKill.from\x3dreplaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i\x3dkill.length-1;0\x3c\x3di;i--)replaceRange(cm.doc,\x22\x22,kill[i].from,kill[i].to,\x22+delete\x22);ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){ch\x3dskipExtendingChars(line.text,ch+dir,dir);return 0\x3ech||ch\x3eline.text.length?null:ch}function moveLogically(line,start,dir){line\x3dmoveCharLogically(line,start.ch,dir);return null\x3d\x3dline?null:new Pos(start.line,line,0\x3edir?\x22after\x22:\x22before\x22)}\nfunction endOfLine(visually,cm,lineObj,lineNo,dir){if(visually\x26\x26(\x22rtl\x22\x3d\x3dcm.doc.direction\x26\x26(dir\x3d-dir),visually\x3dgetOrder(lineObj,cm.doc.direction))){visually\x3d0\x3edir?lst(visually):visually[0];var sticky\x3d0\x3edir\x3d\x3d(1\x3d\x3dvisually.level)?\x22after\x22:\x22before\x22;if(0\x3cvisually.level||\x22rtl\x22\x3d\x3dcm.doc.direction){var prep\x3dprepareMeasureForLine(cm,lineObj);var ch$jscomp$0\x3d0\x3edir?lineObj.text.length-1:0;var targetTop\x3dmeasureCharPrepared(cm,prep,ch$jscomp$0).top;ch$jscomp$0\x3dfindFirst(function(ch){return measureCharPrepared(cm,\nprep,ch).top\x3d\x3dtargetTop},0\x3edir\x3d\x3d(1\x3d\x3dvisually.level)?visually.from:visually.to-1,ch$jscomp$0);\x22before\x22\x3d\x3dsticky\x26\x26(ch$jscomp$0\x3dmoveCharLogically(lineObj,ch$jscomp$0,1))}else ch$jscomp$0\x3d0\x3edir?visually.to:visually.from;return new Pos(lineNo,ch$jscomp$0,sticky)}return new Pos(lineNo,0\x3edir?lineObj.text.length:0,0\x3edir?\x22before\x22:\x22after\x22)}function moveVisually(cm,line,start,dir$jscomp$0){var bidi\x3dgetOrder(line,cm.doc.direction);if(!bidi)return moveLogically(line,start,dir$jscomp$0);start.ch\x3e\x3dline.text.length?\n(start.ch\x3dline.text.length,start.sticky\x3d\x22before\x22):0\x3e\x3dstart.ch\x26\x26(start.ch\x3d0,start.sticky\x3d\x22after\x22);var partPos$jscomp$0\x3dgetBidiPartAt(bidi,start.ch,start.sticky),part$jscomp$0\x3dbidi[partPos$jscomp$0];if(\x22ltr\x22\x3d\x3dcm.doc.direction\x26\x260\x3d\x3dpart$jscomp$0.level%2\x26\x26(0\x3cdir$jscomp$0?part$jscomp$0.to\x3estart.ch:part$jscomp$0.from\x3cstart.ch))return moveLogically(line,start,dir$jscomp$0);var mv\x3dfunction(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)},prep,getWrappedLineExtent\x3dfunction(ch){if(!cm.options.lineWrapping)return{begin:0,\nend:line.text.length};prep\x3dprep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)},wrappedLineExtent$jscomp$0\x3dgetWrappedLineExtent(\x22before\x22\x3d\x3dstart.sticky?mv(start,-1):start.ch);if(\x22rtl\x22\x3d\x3dcm.doc.direction||1\x3d\x3dpart$jscomp$0.level){var moveInStorageOrder$jscomp$2\x3d1\x3d\x3dpart$jscomp$0.level\x3d\x3d0\x3edir$jscomp$0,ch$jscomp$1\x3dmv(start,moveInStorageOrder$jscomp$2?1:-1);if(null!\x3dch$jscomp$1\x26\x26(moveInStorageOrder$jscomp$2?ch$jscomp$1\x3c\x3dpart$jscomp$0.to\x26\x26ch$jscomp$1\x3c\x3dwrappedLineExtent$jscomp$0.end:\nch$jscomp$1\x3e\x3dpart$jscomp$0.from\x26\x26ch$jscomp$1\x3e\x3dwrappedLineExtent$jscomp$0.begin))return new Pos(start.line,ch$jscomp$1,moveInStorageOrder$jscomp$2?\x22before\x22:\x22after\x22)}part$jscomp$0\x3dfunction(partPos,dir,wrappedLineExtent){for(var getRes\x3dfunction(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),\x22before\x22):new Pos(start.line,ch,\x22after\x22)};0\x3c\x3dpartPos\x26\x26partPos\x3cbidi.length;partPos+\x3ddir){var part\x3dbidi[partPos],moveInStorageOrder$jscomp$0\x3d0\x3cdir\x3d\x3d(1!\x3dpart.level),ch$jscomp$0\x3dmoveInStorageOrder$jscomp$0?\nwrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from\x3c\x3dch$jscomp$0\x26\x26ch$jscomp$0\x3cpart.to)return getRes(ch$jscomp$0,moveInStorageOrder$jscomp$0);ch$jscomp$0\x3dmoveInStorageOrder$jscomp$0?part.from:mv(part.to,-1);if(wrappedLineExtent.begin\x3c\x3dch$jscomp$0\x26\x26ch$jscomp$0\x3cwrappedLineExtent.end)return getRes(ch$jscomp$0,moveInStorageOrder$jscomp$0)}};if(partPos$jscomp$0\x3dpart$jscomp$0(partPos$jscomp$0+dir$jscomp$0,dir$jscomp$0,wrappedLineExtent$jscomp$0))return partPos$jscomp$0;wrappedLineExtent$jscomp$0\x3d\n0\x3cdir$jscomp$0?wrappedLineExtent$jscomp$0.end:mv(wrappedLineExtent$jscomp$0.begin,-1);return null\x3d\x3dwrappedLineExtent$jscomp$0||0\x3cdir$jscomp$0\x26\x26wrappedLineExtent$jscomp$0\x3d\x3dline.text.length||!(partPos$jscomp$0\x3dpart$jscomp$0(0\x3cdir$jscomp$0?0:bidi.length-1,dir$jscomp$0,getWrappedLineExtent(wrappedLineExtent$jscomp$0)))?null:partPos$jscomp$0}function lineStart(cm,lineN){var line\x3dgetLine(cm.doc,lineN),visual\x3dvisualLine(line);visual!\x3dline\x26\x26(lineN\x3dlineNo(visual));return endOfLine(!0,cm,visual,lineN,1)}function lineStartSmart(cm,\npos){var start\x3dlineStart(cm,pos.line),line\x3dgetLine(cm.doc,start.line);cm\x3dgetOrder(line,cm.doc.direction);return cm\x26\x260!\x3dcm[0].level?start:(line\x3dMath.max(start.ch,line.text.search(/\\S/)),Pos(start.line,pos.line\x3d\x3dstart.line\x26\x26pos.ch\x3c\x3dline\x26\x26pos.ch?0:line,start.sticky))}function doHandleBinding(cm,bound,dropShift){if(\x22string\x22\x3d\x3dtypeof bound\x26\x26(bound\x3dcommands[bound],!bound))return!1;cm.display.input.ensurePolled();var prevShift\x3dcm.display.shift,done\x3d!1;try{cm.isReadOnly()\x26\x26(cm.state.suppressEdits\x3d!0),dropShift\x26\x26\n(cm.display.shift\x3d!1),done\x3dbound(cm)!\x3dPass}finally{cm.display.shift\x3dprevShift,cm.state.suppressEdits\x3d!1}return done}function dispatchKey(cm,name,e,handle){var seq\x3dcm.state.keySeq;if(seq){if(isModifierKey(name))return\x22handled\x22;/\x27$/.test(name)?cm.state.keySeq\x3dnull:stopSeq.set(50,function(){cm.state.keySeq\x3d\x3dseq\x26\x26(cm.state.keySeq\x3dnull,cm.display.input.reset())});if(dispatchKeyInner(cm,seq+\x22 \x22+name,e,handle))return!0}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){a:{for(var i\x3d\n0;i\x3ccm.state.keyMaps.length;i++){var result\x3dlookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){handle\x3dresult;break a}}handle\x3dcm.options.extraKeys\x26\x26lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}\x22multi\x22\x3d\x3dhandle\x26\x26(cm.state.keySeq\x3dname);\x22handled\x22\x3d\x3dhandle\x26\x26signalLater(cm,\x22keyHandled\x22,cm,name,e);if(\x22handled\x22\x3d\x3dhandle||\x22multi\x22\x3d\x3dhandle)e_preventDefault(e),restartBlink(cm);return!!handle}function handleKeyBinding(cm,e){var name\x3dkeyName(e,!0);return name?e.shiftKey\x26\x26\n!cm.state.keySeq?dispatchKey(cm,\x22Shift-\x22+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if(\x22string\x22\x3d\x3dtypeof b?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)}):dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)}):!1}function handleCharBinding(cm,e,ch){return dispatchKey(cm,\x22\x27\x22+ch+\x22\x27\x22,e,function(b){return doHandleBinding(cm,b,!0)})}function onKeyDown(e){if(!e.target||e.target\x3d\x3dthis.display.input.getField())if(this.curOp.focus\x3dactiveElt(),\n!signalDOMEvent(this,e)){ie\x26\x2611\x3eie_version\x26\x2627\x3d\x3de.keyCode\x26\x26(e.returnValue\x3d!1);var code\x3de.keyCode;this.display.shift\x3d16\x3d\x3dcode||e.shiftKey;var handled\x3dhandleKeyBinding(this,e);presto\x26\x26(lastStoppedKey\x3dhandled?code:null,!handled\x26\x2688\x3d\x3dcode\x26\x26!hasCopyEvent\x26\x26(mac?e.metaKey:e.ctrlKey)\x26\x26this.replaceSelection(\x22\x22,null,\x22cut\x22));gecko\x26\x26!mac\x26\x26!handled\x26\x2646\x3d\x3dcode\x26\x26e.shiftKey\x26\x26!e.ctrlKey\x26\x26document.execCommand\x26\x26document.execCommand(\x22cut\x22);18!\x3dcode||/\\bCodeMirror-crosshair\\b/.test(this.display.lineDiv.className)||showCrossHair(this)}}\nfunction showCrossHair(cm){function up(e){18!\x3de.keyCode\x26\x26e.altKey||(rmClass(lineDiv,\x22CodeMirror-crosshair\x22),off$jscomp$0(document,\x22keyup\x22,up),off$jscomp$0(document,\x22mouseover\x22,up))}var lineDiv\x3dcm.display.lineDiv;addClass(lineDiv,\x22CodeMirror-crosshair\x22);on$jscomp$0(document,\x22keyup\x22,up);on$jscomp$0(document,\x22mouseover\x22,up)}function onKeyUp(e){16\x3d\x3de.keyCode\x26\x26(this.doc.sel.shift\x3d!1);signalDOMEvent(this,e)}function onKeyPress(e){if(!(e.target\x26\x26e.target!\x3dthis.display.input.getField()||eventInWidget(this.display,\ne)||signalDOMEvent(this,e)||e.ctrlKey\x26\x26!e.altKey||mac\x26\x26e.metaKey)){var keyCode\x3de.keyCode,charCode\x3de.charCode;if(presto\x26\x26keyCode\x3d\x3dlastStoppedKey)lastStoppedKey\x3dnull,e_preventDefault(e);else if(!presto||e.which\x26\x26!(10\x3ee.which)||!handleKeyBinding(this,e))if(keyCode\x3dString.fromCharCode(null\x3d\x3dcharCode?keyCode:charCode),\x22\\b\x22!\x3dkeyCode\x26\x26!handleCharBinding(this,e,keyCode))this.display.input.onKeyPress(e)}}function clickRepeat(pos,button){var now\x3d+new Date;if(lastDoubleClick\x26\x26lastDoubleClick.compare(now,pos,\nbutton))return lastClick\x3dlastDoubleClick\x3dnull,\x22triple\x22;if(lastClick\x26\x26lastClick.compare(now,pos,button))return lastDoubleClick\x3dnew PastClick(now,pos,button),lastClick\x3dnull,\x22double\x22;lastClick\x3dnew PastClick(now,pos,button);lastDoubleClick\x3dnull;return\x22single\x22}function onMouseDown(e){var display\x3dthis.display;if(!(signalDOMEvent(this,e)||display.activeTouch\x26\x26display.input.supportsTouch()))if(display.input.ensurePolled(),display.shift\x3de.shiftKey,eventInWidget(display,e))webkit||(display.scroller.draggable\x3d\n!1,setTimeout(function(){return display.scroller.draggable\x3d!0},100));else if(!gutterEvent(this,e,\x22gutterClick\x22,!0)){var pos\x3dposFromMouse(this,e),button\x3de_button(e),repeat\x3dpos?clickRepeat(pos,button):\x22single\x22;window.focus();1\x3d\x3dbutton\x26\x26this.state.selectingText\x26\x26this.state.selectingText(e);if(!pos||!handleMappedButton(this,button,pos,repeat,e))if(1\x3d\x3dbutton)pos?leftButtonDown(this,pos,repeat,e):(e.target||e.srcElement)\x3d\x3ddisplay.scroller\x26\x26e_preventDefault(e);else if(2\x3d\x3dbutton)pos\x26\x26extendSelection(this.doc,\npos),setTimeout(function(){return display.input.focus()},20);else if(3\x3d\x3dbutton)if(captureRightClick)this.display.input.onContextMenu(e);else delayBlurEvent(this)}}function handleMappedButton(cm,button,pos,repeat,event){var name\x3d\x22Click\x22;\x22double\x22\x3d\x3drepeat?name\x3d\x22Double\x22+name:\x22triple\x22\x3d\x3drepeat\x26\x26(name\x3d\x22Triple\x22+name);return dispatchKey(cm,addModifierNames((1\x3d\x3dbutton?\x22Left\x22:2\x3d\x3dbutton?\x22Middle\x22:\x22Right\x22)+name,event),event,function(bound){\x22string\x22\x3d\x3dtypeof bound\x26\x26(bound\x3dcommands[bound]);if(!bound)return!1;var done\x3d\n!1;try{cm.isReadOnly()\x26\x26(cm.state.suppressEdits\x3d!0),done\x3dbound(cm,pos)!\x3dPass}finally{cm.state.suppressEdits\x3d!1}return done})}function leftButtonDown(cm,pos,repeat,event){ie?setTimeout(bind(ensureFocus,cm),0):cm.curOp.focus\x3dactiveElt();var option\x3dcm.getOption(\x22configureMouse\x22);option\x3doption?option(cm,repeat,event):{};null\x3d\x3doption.unit\x26\x26(option.unit\x3d(chromeOS?event.shiftKey\x26\x26event.metaKey:event.altKey)?\x22rectangle\x22:\x22single\x22\x3d\x3drepeat?\x22char\x22:\x22double\x22\x3d\x3drepeat?\x22word\x22:\x22line\x22);if(null\x3d\x3doption.extend||cm.doc.extend)option.extend\x3d\ncm.doc.extend||event.shiftKey;null\x3d\x3doption.addNew\x26\x26(option.addNew\x3dmac?event.metaKey:event.ctrlKey);null\x3d\x3doption.moveOnDrag\x26\x26(option.moveOnDrag\x3d!(mac?event.altKey:event.ctrlKey));var sel\x3dcm.doc.sel,contained;cm.options.dragDrop\x26\x26dragAndDrop\x26\x26!cm.isReadOnly()\x26\x26\x22single\x22\x3d\x3drepeat\x26\x26-1\x3c(contained\x3dsel.contains(pos))\x26\x26(0\x3ecmp((contained\x3dsel.ranges[contained]).from(),pos)||0\x3cpos.xRel)\x26\x26(0\x3ccmp(contained.to(),pos)||0\x3epos.xRel)?leftButtonStartDrag(cm,event,pos,option):leftButtonSelect(cm,event,pos,option)}function leftButtonStartDrag(cm,\nevent,pos,behavior){var display\x3dcm.display,moved\x3d!1,dragEnd\x3doperation(cm,function(e){webkit\x26\x26(display.scroller.draggable\x3d!1);cm.state.draggingText\x3d!1;cm.state.delayingBlurEvent\x26\x26(cm.hasFocus()?cm.state.delayingBlurEvent\x3d!1:delayBlurEvent(cm));off$jscomp$0(display.wrapper.ownerDocument,\x22mouseup\x22,dragEnd);off$jscomp$0(display.wrapper.ownerDocument,\x22mousemove\x22,mouseMove);off$jscomp$0(display.scroller,\x22dragstart\x22,dragStart);off$jscomp$0(display.scroller,\x22drop\x22,dragEnd);moved||(e_preventDefault(e),behavior.addNew||\nextendSelection(cm.doc,pos,null,null,behavior.extend),webkit\x26\x26!safari||ie\x26\x269\x3d\x3die_version?setTimeout(function(){display.wrapper.ownerDocument.body.focus({preventScroll:!0});display.input.focus()},20):display.input.focus())}),mouseMove\x3dfunction(e2){moved\x3dmoved||10\x3c\x3dMath.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)},dragStart\x3dfunction(){return moved\x3d!0};webkit\x26\x26(display.scroller.draggable\x3d!0);cm.state.draggingText\x3ddragEnd;dragEnd.copy\x3d!behavior.moveOnDrag;on$jscomp$0(display.wrapper.ownerDocument,\n\x22mouseup\x22,dragEnd);on$jscomp$0(display.wrapper.ownerDocument,\x22mousemove\x22,mouseMove);on$jscomp$0(display.scroller,\x22dragstart\x22,dragStart);on$jscomp$0(display.scroller,\x22drop\x22,dragEnd);cm.state.delayingBlurEvent\x3d!0;setTimeout(function(){return display.input.focus()},20);display.scroller.dragDrop\x26\x26display.scroller.dragDrop()}function rangeForUnit(cm,pos,unit){if(\x22char\x22\x3d\x3dunit)return new Range(pos,pos);if(\x22word\x22\x3d\x3dunit)return cm.findWordAt(pos);if(\x22line\x22\x3d\x3dunit)return new Range(Pos(pos.line,0),clipPos(cm.doc,\nPos(pos.line+1,0)));cm\x3dunit(cm,pos);return new Range(cm.from,cm.to)}function leftButtonSelect(cm,event,start,behavior){function extendTo(pos){if(0!\x3dcmp(lastPos,pos))if(lastPos\x3dpos,\x22rectangle\x22\x3d\x3dbehavior.unit){var ranges\x3d[],tabSize\x3dcm.options.tabSize,startCol\x3dcountColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol\x3dcountColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left\x3dMath.min(startCol,posCol);startCol\x3dMath.max(startCol,posCol);posCol\x3dMath.min(start.line,pos.line);for(var end\x3dMath.min(cm.lastLine(),\nMath.max(start.line,pos.line));posCol\x3c\x3dend;posCol++){var text\x3dgetLine(doc,posCol).text,leftPos\x3dfindColumn(text,left,tabSize);left\x3d\x3dstartCol?ranges.push(new Range(Pos(posCol,leftPos),Pos(posCol,leftPos))):text.length\x3eleftPos\x26\x26ranges.push(new Range(Pos(posCol,leftPos),Pos(posCol,findColumn(text,startCol,tabSize))))}ranges.length||ranges.push(new Range(start,start));setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:\x22*mouse\x22,scroll:!1});cm.scrollIntoView(pos)}else ranges\x3d\nourRange,left\x3drangeForUnit(cm,pos,behavior.unit),pos\x3dranges.anchor,0\x3ccmp(left.anchor,pos)?(tabSize\x3dleft.head,pos\x3dminPos(ranges.from(),left.anchor)):(tabSize\x3dleft.anchor,pos\x3dmaxPos(ranges.to(),left.head)),ranges\x3dstartSel.ranges.slice(0),ranges[ourIndex]\x3dbidiSimplify(cm,new Range(clipPos(doc,pos),tabSize)),setSelection(doc,normalizeSelection(cm,ranges,ourIndex),sel_mouse)}function extend(e){var curCount\x3d++counter,cur\x3dposFromMouse(cm,e,!0,\x22rectangle\x22\x3d\x3dbehavior.unit);if(cur)if(0!\x3dcmp(cur,lastPos)){cm.curOp.focus\x3d\nactiveElt();extendTo(cur);var visible\x3dvisibleLines(display,doc);(cur.line\x3e\x3dvisible.to||cur.line\x3cvisible.from)\x26\x26setTimeout(operation(cm,function(){counter\x3d\x3dcurCount\x26\x26extend(e)}),150)}else{var outside\x3de.clientY\x3ceditorSize.top?-20:e.clientY\x3eeditorSize.bottom?20:0;outside\x26\x26setTimeout(operation(cm,function(){counter\x3d\x3dcurCount\x26\x26(display.scroller.scrollTop+\x3doutside,extend(e))}),50)}}function done(e){cm.state.selectingText\x3d!1;counter\x3dInfinity;e\x26\x26(e_preventDefault(e),display.input.focus());off$jscomp$0(display.wrapper.ownerDocument,\n\x22mousemove\x22,move);off$jscomp$0(display.wrapper.ownerDocument,\x22mouseup\x22,up);doc.history.lastSelOrigin\x3dnull}ie\x26\x26delayBlurEvent(cm);var display\x3dcm.display,doc\x3dcm.doc;e_preventDefault(event);var startSel\x3ddoc.sel,ranges$jscomp$0\x3dstartSel.ranges;if(behavior.addNew\x26\x26!behavior.extend){var ourIndex\x3ddoc.sel.contains(start);var ourRange\x3d-1\x3courIndex?ranges$jscomp$0[ourIndex]:new Range(start,start)}else ourRange\x3ddoc.sel.primary(),ourIndex\x3ddoc.sel.primIndex;\x22rectangle\x22\x3d\x3dbehavior.unit?(behavior.addNew||(ourRange\x3d\nnew Range(start,start)),start\x3dposFromMouse(cm,event,!0,!0),ourIndex\x3d-1):(event\x3drangeForUnit(cm,start,behavior.unit),ourRange\x3dbehavior.extend?extendRange(ourRange,event.anchor,event.head,behavior.extend):event);behavior.addNew?-1\x3d\x3dourIndex?(ourIndex\x3dranges$jscomp$0.length,setSelection(doc,normalizeSelection(cm,ranges$jscomp$0.concat([ourRange]),ourIndex),{scroll:!1,origin:\x22*mouse\x22})):1\x3cranges$jscomp$0.length\x26\x26ranges$jscomp$0[ourIndex].empty()\x26\x26\x22char\x22\x3d\x3dbehavior.unit\x26\x26!behavior.extend?(setSelection(doc,\nnormalizeSelection(cm,ranges$jscomp$0.slice(0,ourIndex).concat(ranges$jscomp$0.slice(ourIndex+1)),0),{scroll:!1,origin:\x22*mouse\x22}),startSel\x3ddoc.sel):replaceOneSelection(doc,ourIndex,ourRange,sel_mouse):(ourIndex\x3d0,setSelection(doc,new Selection([ourRange],0),sel_mouse),startSel\x3ddoc.sel);var lastPos\x3dstart,editorSize\x3ddisplay.wrapper.getBoundingClientRect(),counter\x3d0,move\x3doperation(cm,function(e){0!\x3d\x3de.buttons\x26\x26e_button(e)?extend(e):done(e)}),up\x3doperation(cm,done);cm.state.selectingText\x3dup;on$jscomp$0(display.wrapper.ownerDocument,\n\x22mousemove\x22,move);on$jscomp$0(display.wrapper.ownerDocument,\x22mouseup\x22,up)}function bidiSimplify(cm,range){var anchor\x3drange.anchor,head\x3drange.head,anchorLine\x3dgetLine(cm.doc,anchor.line);if(0\x3d\x3dcmp(anchor,head)\x26\x26anchor.sticky\x3d\x3dhead.sticky)return range;anchorLine\x3dgetOrder(anchorLine);if(!anchorLine)return range;var index\x3dgetBidiPartAt(anchorLine,anchor.ch,anchor.sticky),part\x3danchorLine[index];if(part.from!\x3danchor.ch\x26\x26part.to!\x3danchor.ch)return range;var boundary\x3dindex+(part.from\x3d\x3danchor.ch\x3d\x3d(1!\x3dpart.level)?\n0:1);if(0\x3d\x3dboundary||boundary\x3d\x3danchorLine.length)return range;head.line!\x3danchor.line?cm\x3d0\x3c(head.line-anchor.line)*(\x22ltr\x22\x3d\x3dcm.doc.direction?1:-1):(cm\x3dgetBidiPartAt(anchorLine,head.ch,head.sticky),index\x3dcm-index||(head.ch-anchor.ch)*(1\x3d\x3dpart.level?-1:1),cm\x3dcm\x3d\x3dboundary-1||cm\x3d\x3dboundary?0\x3eindex:0\x3cindex);anchorLine\x3danchorLine[boundary+(cm?-1:0)];anchorLine\x3d(boundary\x3dcm\x3d\x3d(1\x3d\x3danchorLine.level))?anchorLine.from:anchorLine.to;boundary\x3dboundary?\x22after\x22:\x22before\x22;return anchor.ch\x3d\x3danchorLine\x26\x26anchor.sticky\x3d\x3d\nboundary?range:new Range(new Pos(anchor.line,anchorLine,boundary),head)}function gutterEvent(cm,e,type,prevent){if(e.touches){var mX\x3de.touches[0].clientX;var mY\x3de.touches[0].clientY}else try{mX\x3de.clientX,mY\x3de.clientY}catch(e$1){return!1}if(mX\x3e\x3dMath.floor(cm.display.gutters.getBoundingClientRect().right))return!1;prevent\x26\x26e_preventDefault(e);prevent\x3dcm.display;var lineBox\x3dprevent.lineDiv.getBoundingClientRect();if(mY\x3elineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-\x3dlineBox.top-\nprevent.viewOffset;for(lineBox\x3d0;lineBox\x3ccm.display.gutterSpecs.length;++lineBox){var g\x3dprevent.gutters.childNodes[lineBox];if(g\x26\x26g.getBoundingClientRect().right\x3e\x3dmX)return mX\x3dlineAtHeight(cm.doc,mY),signal(cm,type,cm,mX,cm.display.gutterSpecs[lineBox].className,e),e_defaultPrevented(e)}}function onContextMenu(cm,e){var JSCompiler_temp;(JSCompiler_temp\x3deventInWidget(cm.display,e))||(JSCompiler_temp\x3dhasHandler(cm,\x22gutterContextMenu\x22)?gutterEvent(cm,e,\x22gutterContextMenu\x22,!1):!1);if(!JSCompiler_temp\x26\x26\n!signalDOMEvent(cm,e,\x22contextmenu\x22)\x26\x26!captureRightClick)cm.display.input.onContextMenu(e)}function themeChanged(cm){cm.display.wrapper.className\x3dcm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\x22\x22)+cm.options.theme.replace(/(^|\\s)\\s*/g,\x22 cm-s-\x22);clearCaches(cm)}function dragDropChanged(cm,value,old){!value!\x3d!(old\x26\x26old!\x3dInit)\x26\x26(old\x3dcm.display.dragFunctions,value\x3dvalue?on$jscomp$0:off$jscomp$0,value(cm.display.scroller,\x22dragstart\x22,old.start),value(cm.display.scroller,\x22dragenter\x22,old.enter),value(cm.display.scroller,\n\x22dragover\x22,old.over),value(cm.display.scroller,\x22dragleave\x22,old.leave),value(cm.display.scroller,\x22drop\x22,old.drop))}function wrappingChanged(cm){cm.options.lineWrapping?(addClass(cm.display.wrapper,\x22CodeMirror-wrap\x22),cm.display.sizer.style.minWidth\x3d\x22\x22,cm.display.sizerWidth\x3dnull):(rmClass(cm.display.wrapper,\x22CodeMirror-wrap\x22),findMaxLine(cm));estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror$jscomp$0(place,options){var this$1\x3d\nthis;if(!(this instanceof CodeMirror$jscomp$0))return new CodeMirror$jscomp$0(place,options);this.options\x3doptions\x3doptions?copyObj(options):{};copyObj(defaults,options,!1);var doc\x3doptions.value;\x22string\x22\x3d\x3dtypeof doc?doc\x3dnew Doc(doc,options.mode,null,options.lineSeparator,options.direction):options.mode\x26\x26(doc.modeOption\x3doptions.mode);this.doc\x3ddoc;var input\x3dnew CodeMirror$jscomp$0.inputStyles[options.inputStyle](this);place\x3dthis.display\x3dnew Display(place,doc,input,options);place.wrapper.CodeMirror\x3dthis;\nthemeChanged(this);options.lineWrapping\x26\x26(this.display.wrapper.className+\x3d\x22 CodeMirror-wrap\x22);initScrollbars(this);this.state\x3d{keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};options.autofocus\x26\x26!mobile\x26\x26place.input.focus();ie\x26\x2611\x3eie_version\x26\x26setTimeout(function(){return this$1.display.input.reset(!0)},20);registerEventHandlers(this);globalsRegistered||\n(registerGlobalHandlers(),globalsRegistered\x3d!0);startOperation(this);this.curOp.forceUpdate\x3d!0;attachDoc(this,doc);options.autofocus\x26\x26!mobile||this.hasFocus()?setTimeout(function(){this$1.hasFocus()\x26\x26!this$1.state.focused\x26\x26onFocus(this$1)},20):onBlur(this);for(var opt in optionHandlers)if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this);options.finishInit\x26\x26options.finishInit(this);for(doc\x3d0;doc\x3cinitHooks.length;++doc)initHooks[doc](this);\nendOperation(this);webkit\x26\x26options.lineWrapping\x26\x26\x22optimizelegibility\x22\x3d\x3dgetComputedStyle(place.lineDiv).textRendering\x26\x26(place.lineDiv.style.textRendering\x3d\x22auto\x22)}function registerEventHandlers(cm){function finishTouch(){d.activeTouch\x26\x26(touchFinished\x3dsetTimeout(function(){return d.activeTouch\x3dnull},1E3),prevTouch\x3dd.activeTouch,prevTouch.end\x3d+new Date)}function farAway(touch,other){if(null\x3d\x3dother.left)return!0;var dx\x3dother.left-touch.left;touch\x3dother.top-touch.top;return 400\x3cdx*dx+touch*touch}var d\x3d\ncm.display;on$jscomp$0(d.scroller,\x22mousedown\x22,operation(cm,onMouseDown));ie\x26\x2611\x3eie_version?on$jscomp$0(d.scroller,\x22dblclick\x22,operation(cm,function(e){if(!signalDOMEvent(cm,e)){var pos\x3dposFromMouse(cm,e);!pos||gutterEvent(cm,e,\x22gutterClick\x22,!0)||eventInWidget(cm.display,e)||(e_preventDefault(e),e\x3dcm.findWordAt(pos),extendSelection(cm.doc,e.anchor,e.head))}})):on$jscomp$0(d.scroller,\x22dblclick\x22,function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)});on$jscomp$0(d.scroller,\x22contextmenu\x22,function(e){return onContextMenu(cm,\ne)});on$jscomp$0(d.input.getField(),\x22contextmenu\x22,function(e){d.scroller.contains(e.target)||onContextMenu(cm,e)});var touchFinished,prevTouch\x3d{end:0};on$jscomp$0(d.scroller,\x22touchstart\x22,function(e){var JSCompiler_temp;if(JSCompiler_temp\x3d!signalDOMEvent(cm,e))1!\x3de.touches.length?JSCompiler_temp\x3d!1:(JSCompiler_temp\x3de.touches[0],JSCompiler_temp\x3d1\x3e\x3dJSCompiler_temp.radiusX\x26\x261\x3e\x3dJSCompiler_temp.radiusY),JSCompiler_temp\x3d!JSCompiler_temp;JSCompiler_temp\x26\x26!gutterEvent(cm,e,\x22gutterClick\x22,!0)\x26\x26(d.input.ensurePolled(),\nclearTimeout(touchFinished),JSCompiler_temp\x3d+new Date,d.activeTouch\x3d{start:JSCompiler_temp,moved:!1,prev:300\x3e\x3dJSCompiler_temp-prevTouch.end?prevTouch:null},1\x3d\x3de.touches.length\x26\x26(d.activeTouch.left\x3de.touches[0].pageX,d.activeTouch.top\x3de.touches[0].pageY))});on$jscomp$0(d.scroller,\x22touchmove\x22,function(){d.activeTouch\x26\x26(d.activeTouch.moved\x3d!0)});on$jscomp$0(d.scroller,\x22touchend\x22,function(e){var touch\x3dd.activeTouch;if(touch\x26\x26!eventInWidget(d,e)\x26\x26null!\x3dtouch.left\x26\x26!touch.moved\x26\x26300\x3enew Date-touch.start){var pos\x3d\ncm.coordsChar(d.activeTouch,\x22page\x22);touch\x3d!touch.prev||farAway(touch,touch.prev)?new Range(pos,pos):!touch.prev.prev||farAway(touch,touch.prev.prev)?cm.findWordAt(pos):new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(touch.anchor,touch.head);cm.focus();e_preventDefault(e)}finishTouch()});on$jscomp$0(d.scroller,\x22touchcancel\x22,finishTouch);on$jscomp$0(d.scroller,\x22scroll\x22,function(){d.scroller.clientHeight\x26\x26(updateScrollTop(cm,d.scroller.scrollTop),setScrollLeft(cm,d.scroller.scrollLeft,\n!0),signal(cm,\x22scroll\x22,cm))});on$jscomp$0(d.scroller,\x22mousewheel\x22,function(e){return onScrollWheel(cm,e)});on$jscomp$0(d.scroller,\x22DOMMouseScroll\x22,function(e){return onScrollWheel(cm,e)});on$jscomp$0(d.wrapper,\x22scroll\x22,function(){return d.wrapper.scrollTop\x3dd.wrapper.scrollLeft\x3d0});d.dragFunctions\x3d{enter:function(e){signalDOMEvent(cm,e)||e_stop(e)},over:function(e){if(!signalDOMEvent(cm,e)){var pos\x3dposFromMouse(cm,e);if(pos){var frag\x3ddocument.createDocumentFragment();drawSelectionCursor(cm,pos,frag);\ncm.display.dragCursor||(cm.display.dragCursor\x3delt$jscomp$0(\x22div\x22,null,\x22CodeMirror-cursors CodeMirror-dragcursors\x22),cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv));removeChildrenAndAdd(cm.display.dragCursor,frag)}e_stop(e)}},start:function(e){if(ie\x26\x26(!cm.state.draggingText||100\x3e+new Date-lastDrop))e_stop(e);else if(!signalDOMEvent(cm,e)\x26\x26!eventInWidget(cm.display,e)\x26\x26(e.dataTransfer.setData(\x22Text\x22,cm.getSelection()),e.dataTransfer.effectAllowed\x3d\x22copyMove\x22,e.dataTransfer.setDragImage\x26\x26\n!safari)){var img\x3delt$jscomp$0(\x22img\x22,null,null,\x22position: fixed; left: 0; top: 0;\x22);img.src\x3d\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\\x3d\\x3d\x22;presto\x26\x26(img.width\x3dimg.height\x3d1,cm.display.wrapper.appendChild(img),img._top\x3dimg.offsetTop);e.dataTransfer.setDragImage(img,0,0);presto\x26\x26img.parentNode.removeChild(img)}},drop:operation(cm,onDrop),leave:function(e){signalDOMEvent(cm,e)||clearDragCursor(cm)}};var inp\x3dd.input.getField();on$jscomp$0(inp,\x22keyup\x22,function(e){return onKeyUp.call(cm,\ne)});on$jscomp$0(inp,\x22keydown\x22,operation(cm,onKeyDown));on$jscomp$0(inp,\x22keypress\x22,operation(cm,onKeyPress));on$jscomp$0(inp,\x22focus\x22,function(e){return onFocus(cm,e)});on$jscomp$0(inp,\x22blur\x22,function(e){return onBlur(cm,e)})}function indentLine(cm,n,how,aggressive){var doc\x3dcm.doc,state;null\x3d\x3dhow\x26\x26(how\x3d\x22add\x22);\x22smart\x22\x3d\x3dhow\x26\x26(doc.mode.indent?state\x3dgetContextBefore(cm,n).state:how\x3d\x22prev\x22);var tabSize\x3dcm.options.tabSize,line\x3dgetLine(doc,n),curSpace\x3dcountColumn(line.text,null,tabSize);line.stateAfter\x26\x26\n(line.stateAfter\x3dnull);var curSpaceString\x3dline.text.match(/^\\s*/)[0];if(!aggressive\x26\x26!/\\S/.test(line.text)){var indentation\x3d0;how\x3d\x22not\x22}else if(\x22smart\x22\x3d\x3dhow\x26\x26(indentation\x3ddoc.mode.indent(state,line.text.slice(curSpaceString.length),line.text),indentation\x3d\x3dPass||150\x3cindentation)){if(!aggressive)return;how\x3d\x22prev\x22}\x22prev\x22\x3d\x3dhow?indentation\x3dn\x3edoc.first?countColumn(getLine(doc,n-1).text,null,tabSize):0:\x22add\x22\x3d\x3dhow?indentation\x3dcurSpace+cm.options.indentUnit:\x22subtract\x22\x3d\x3dhow?indentation\x3dcurSpace-cm.options.indentUnit:\n\x22number\x22\x3d\x3dtypeof how\x26\x26(indentation\x3dcurSpace+how);indentation\x3dMath.max(0,indentation);how\x3d\x22\x22;aggressive\x3d0;if(cm.options.indentWithTabs)for(cm\x3dMath.floor(indentation/tabSize);cm;--cm)aggressive+\x3dtabSize,how+\x3d\x22\\t\x22;aggressive\x3cindentation\x26\x26(how+\x3dspaceStr(indentation-aggressive));if(how!\x3dcurSpaceString)return replaceRange(doc,how,Pos(n,0),Pos(n,curSpaceString.length),\x22+input\x22),line.stateAfter\x3dnull,!0;for(tabSize\x3d0;tabSize\x3cdoc.sel.ranges.length;tabSize++)if(line\x3ddoc.sel.ranges[tabSize],line.head.line\x3d\x3dn\x26\x26\nline.head.ch\x3ccurSpaceString.length){n\x3dPos(n,curSpaceString.length);replaceOneSelection(doc,tabSize,new Range(n,n));break}}function applyTextInput(cm,inserted,deleted,sel,origin){var doc\x3dcm.doc;cm.display.shift\x3d!1;sel||(sel\x3ddoc.sel);var recent\x3d+new Date-200,paste\x3d\x22paste\x22\x3d\x3dorigin||cm.state.pasteIncoming\x3erecent,textLines\x3dsplitLinesAuto(inserted),multiPaste\x3dnull;if(paste\x26\x261\x3csel.ranges.length)if(lastCopied\x26\x26lastCopied.text.join(\x22\\n\x22)\x3d\x3dinserted){if(0\x3d\x3dsel.ranges.length%lastCopied.text.length){multiPaste\x3d\n[];for(var i\x3d0;i\x3clastCopied.text.length;i++)multiPaste.push(doc.splitLines(lastCopied.text[i]))}}else textLines.length\x3d\x3dsel.ranges.length\x26\x26cm.options.pasteLinesPerSelection\x26\x26(multiPaste\x3dmap$jscomp$0(textLines,function(l){return[l]}));i\x3dcm.curOp.updateInput;for(var i$1\x3dsel.ranges.length-1;0\x3c\x3di$1;i$1--){var range\x3dsel.ranges[i$1],from\x3drange.from(),to\x3drange.to();range.empty()\x26\x26(deleted\x26\x260\x3cdeleted?from\x3dPos(from.line,from.ch-deleted):cm.state.overwrite\x26\x26!paste?to\x3dPos(to.line,Math.min(getLine(doc,to.line).text.length,\nto.ch+lst(textLines).length)):paste\x26\x26lastCopied\x26\x26lastCopied.lineWise\x26\x26lastCopied.text.join(\x22\\n\x22)\x3d\x3dtextLines.join(\x22\\n\x22)\x26\x26(from\x3dto\x3dPos(from.line,0)));range\x3d{from,to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?\x22paste\x22:cm.state.cutIncoming\x3erecent?\x22cut\x22:\x22+input\x22)};makeChange(cm.doc,range);signalLater(cm,\x22inputRead\x22,cm,range)}inserted\x26\x26!paste\x26\x26triggerElectric(cm,inserted);ensureCursorVisible(cm);2\x3ecm.curOp.updateInput\x26\x26(cm.curOp.updateInput\x3di);cm.curOp.typing\x3d!0;cm.state.pasteIncoming\x3d\ncm.state.cutIncoming\x3d-1}function handlePaste(e,cm){var pasted\x3de.clipboardData\x26\x26e.clipboardData.getData(\x22Text\x22);if(pasted)return e.preventDefault(),cm.isReadOnly()||cm.options.disableInput||runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,\x22paste\x22)}),!0}function triggerElectric(cm,inserted){if(cm.options.electricChars\x26\x26cm.options.smartIndent)for(var sel\x3dcm.doc.sel,i\x3dsel.ranges.length-1;0\x3c\x3di;i--){var range\x3dsel.ranges[i];if(!(100\x3crange.head.ch||i\x26\x26sel.ranges[i-1].head.line\x3d\x3drange.head.line)){var mode\x3d\ncm.getModeAt(range.head),indented\x3d!1;if(mode.electricChars)for(var j\x3d0;j\x3cmode.electricChars.length;j++){if(-1\x3cinserted.indexOf(mode.electricChars.charAt(j))){indented\x3dindentLine(cm,range.head.line,\x22smart\x22);break}}else mode.electricInput\x26\x26mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch))\x26\x26(indented\x3dindentLine(cm,range.head.line,\x22smart\x22));indented\x26\x26signalLater(cm,\x22electricInput\x22,cm,range.head.line)}}}function copyableRanges(cm){for(var text\x3d[],ranges\x3d[],i\x3d0;i\x3ccm.doc.sel.ranges.length;i++){var line\x3d\ncm.doc.sel.ranges[i].head.line;line\x3d{anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(line);text.push(cm.getRange(line.anchor,line.head))}return{text,ranges}}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute(\x22autocorrect\x22,autocorrect?\x22\x22:\x22off\x22);field.setAttribute(\x22autocapitalize\x22,autocapitalize?\x22\x22:\x22off\x22);field.setAttribute(\x22spellcheck\x22,!!spellcheck)}function hiddenTextarea(){var te\x3delt$jscomp$0(\x22textarea\x22,null,null,\x22position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\x22),\ndiv\x3delt$jscomp$0(\x22div\x22,[te],null,\x22overflow: hidden; position: relative; width: 3px; height: 0px;\x22);webkit?te.style.width\x3d\x221000px\x22:te.setAttribute(\x22wrap\x22,\x22off\x22);ios\x26\x26(te.style.border\x3d\x221px solid black\x22);disableBrowserMagic(te);return div}function findPosH(doc,pos,dir,unit,visually){function moveOnce(boundToLine){if(\x22codepoint\x22\x3d\x3dunit){var next\x3dlineObj.text.charCodeAt(pos.ch+(0\x3cdir?0:-1));next\x3disNaN(next)?null:new Pos(pos.line,Math.max(0,Math.min(lineObj.text.length,pos.ch+dir*((0\x3cdir?55296\x3c\x3dnext\x26\x2656320\x3e\nnext:56320\x3c\x3dnext\x26\x2657343\x3enext)?2:1))),-dir)}else next\x3dvisually?moveVisually(doc.cm,lineObj,pos,dir):moveLogically(lineObj,pos,dir);if(null\x3d\x3dnext){if(boundToLine\x3d!boundToLine)boundToLine\x3dpos.line+lineDir,boundToLine\x3cdoc.first||boundToLine\x3e\x3ddoc.first+doc.size?boundToLine\x3d!1:(pos\x3dnew Pos(boundToLine,pos.ch,pos.sticky),boundToLine\x3dlineObj\x3dgetLine(doc,boundToLine));if(boundToLine)pos\x3dendOfLine(visually,doc.cm,lineObj,pos.line,lineDir);else return!1}else pos\x3dnext;return!0}var oldPos\x3dpos,origDir\x3ddir,lineObj\x3d\ngetLine(doc,pos.line),lineDir\x3dvisually\x26\x26\x22rtl\x22\x3d\x3ddoc.direction?-dir:dir;if(\x22char\x22\x3d\x3dunit||\x22codepoint\x22\x3d\x3dunit)moveOnce();else if(\x22column\x22\x3d\x3dunit)moveOnce(!0);else if(\x22word\x22\x3d\x3dunit||\x22group\x22\x3d\x3dunit)for(var sawType\x3dnull,group\x3d\x22group\x22\x3d\x3dunit,helper\x3ddoc.cm\x26\x26doc.cm.getHelper(pos,\x22wordChars\x22),first\x3d!0;!(0\x3edir)||moveOnce(!first);first\x3d!1){var cur\x3dlineObj.text.charAt(pos.ch)||\x22\\n\x22;cur\x3disWordChar(cur,helper)?\x22w\x22:group\x26\x26\x22\\n\x22\x3d\x3dcur?\x22n\x22:!group||/\\s/.test(cur)?null:\x22p\x22;!group||first||cur||(cur\x3d\x22s\x22);if(sawType\x26\x26sawType!\x3d\ncur){0\x3edir\x26\x26(dir\x3d1,moveOnce(),pos.sticky\x3d\x22after\x22);break}cur\x26\x26(sawType\x3dcur);if(0\x3cdir\x26\x26!moveOnce(!first))break}origDir\x3dskipAtomic(doc,pos,oldPos,origDir,!0);equalCursorPos(oldPos,origDir)\x26\x26(origDir.hitSide\x3d!0);return origDir}function findPosV(cm,pos,dir,unit){var doc\x3dcm.doc,x\x3dpos.left;if(\x22page\x22\x3d\x3dunit){var y\x3dMath.max(Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*textHeight(cm.display),3);y\x3d(0\x3cdir?pos.bottom:pos.top)+dir*y}else\x22line\x22\x3d\x3dunit\x26\x26(y\x3d\n0\x3cdir?pos.bottom+3:pos.top-3);for(;;){pos\x3dcoordsChar(cm,x,y);if(!pos.outside)break;if(0\x3edir?0\x3e\x3dy:y\x3e\x3ddoc.height){pos.hitSide\x3d!0;break}y+\x3d5*dir}return pos}function posToDOM(cm,pos){var view\x3dfindViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line\x3dgetLine(cm.doc,pos.line);view\x3dmapFromLineView(view,line,pos.line);cm\x3dgetOrder(line,cm.doc.direction);line\x3d\x22left\x22;cm\x26\x26(line\x3dgetBidiPartAt(cm,pos.ch)%2?\x22right\x22:\x22left\x22);pos\x3dnodeAndOffsetInLineMap(view.map,pos.ch,line);pos.offset\x3d\x22right\x22\x3d\x3dpos.collapse?\npos.end:pos.start;return pos}function isInGutter(node){for(;node;node\x3dnode.parentNode)if(/CodeMirror-gutter-wrapper/.test(node.className))return!0;return!1}function badPos(pos,bad){bad\x26\x26(pos.bad\x3d!0);return pos}function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id\x3d\x3did}}function close(){closing\x26\x26(text+\x3dlineSep,extraLinebreak\x26\x26(text+\x3dlineSep),closing\x3dextraLinebreak\x3d!1)}function addText(str){str\x26\x26(close(),text+\x3dstr)}function walk(node){if(1\x3d\x3d\nnode.nodeType){var cmText\x3dnode.getAttribute(\x22cm-text\x22);if(cmText)addText(cmText);else{cmText\x3dnode.getAttribute(\x22cm-marker\x22);var range;if(cmText)node\x3dcm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+cmText)),node.length\x26\x26(range\x3dnode[0].find(0))\x26\x26addText(getBetween(cm.doc,range.from,range.to).join(lineSep));else if(\x22false\x22!\x3dnode.getAttribute(\x22contenteditable\x22)\x26\x26(range\x3d/^(pre|div|p|li|table|br)$/i.test(node.nodeName),/^br$/i.test(node.nodeName)||0!\x3dnode.textContent.length)){range\x26\x26close();\nfor(cmText\x3d0;cmText\x3cnode.childNodes.length;cmText++)walk(node.childNodes[cmText]);/^(pre|p)$/i.test(node.nodeName)\x26\x26(extraLinebreak\x3d!0);range\x26\x26(closing\x3d!0)}}}else 3\x3d\x3dnode.nodeType\x26\x26addText(node.nodeValue.replace(/\\u200b/g,\x22\x22).replace(/\\u00a0/g,\x22 \x22))}for(var text\x3d\x22\x22,closing\x3d!1,lineSep\x3dcm.doc.lineSeparator(),extraLinebreak\x3d!1;;){walk(from);if(from\x3d\x3dto)break;from\x3dfrom.nextSibling;extraLinebreak\x3d!1}return text}function domToPos(cm,node,offset){if(node\x3d\x3dcm.display.lineDiv){var lineNode\x3dcm.display.lineDiv.childNodes[offset];\nif(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0);node\x3dnull;offset\x3d0}else for(lineNode\x3dnode;;lineNode\x3dlineNode.parentNode){if(!lineNode||lineNode\x3d\x3dcm.display.lineDiv)return null;if(lineNode.parentNode\x26\x26lineNode.parentNode\x3d\x3dcm.display.lineDiv)break}for(var i\x3d0;i\x3ccm.display.view.length;i++){var lineView\x3dcm.display.view[i];if(lineView.node\x3d\x3dlineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset$jscomp$0){function find(textNode,\ntopNode,offset){for(var i\x3d-1;i\x3c(maps?maps.length:0);i++)for(var map\x3d0\x3ei?measure.map:maps[i],j\x3d0;j\x3cmap.length;j+\x3d3){var curNode\x3dmap[j+2];if(curNode\x3d\x3dtextNode||curNode\x3d\x3dtopNode){topNode\x3dlineNo(0\x3ei?lineView.line:lineView.rest[i]);i\x3dmap[j]+offset;if(0\x3eoffset||curNode!\x3dtextNode)i\x3dmap[j+(offset?1:0)];return Pos(topNode,i)}}}var wrapper\x3dlineView.text.firstChild,bad\x3d!1;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),!0);if(node\x3d\x3dwrapper\x26\x26(bad\x3d!0,node\x3dwrapper.childNodes[offset$jscomp$0],\noffset$jscomp$0\x3d0,!node))return offset$jscomp$0\x3dlineView.rest?lst(lineView.rest):lineView.line,badPos(Pos(lineNo(offset$jscomp$0),offset$jscomp$0.text.length),bad);var textNode$jscomp$0\x3d3\x3d\x3dnode.nodeType?node:null,topNode\x3dnode;textNode$jscomp$0||1!\x3dnode.childNodes.length||3!\x3dnode.firstChild.nodeType||(textNode$jscomp$0\x3dnode.firstChild,offset$jscomp$0\x26\x26(offset$jscomp$0\x3dtextNode$jscomp$0.nodeValue.length));for(;topNode.parentNode!\x3dwrapper;)topNode\x3dtopNode.parentNode;var measure\x3dlineView.measure,maps\x3d\nmeasure.maps;if(node\x3dfind(textNode$jscomp$0,topNode,offset$jscomp$0))return badPos(node,bad);wrapper\x3dtopNode.nextSibling;for(textNode$jscomp$0\x3dtextNode$jscomp$0?textNode$jscomp$0.nodeValue.length-offset$jscomp$0:0;wrapper;wrapper\x3dwrapper.nextSibling){if(node\x3dfind(wrapper,wrapper.firstChild,0))return badPos(Pos(node.line,node.ch-textNode$jscomp$0),bad);textNode$jscomp$0+\x3dwrapper.textContent.length}for(topNode\x3dtopNode.previousSibling;topNode;topNode\x3dtopNode.previousSibling){if(node\x3dfind(topNode,topNode.firstChild,\n-1))return badPos(Pos(node.line,node.ch+offset$jscomp$0),bad);offset$jscomp$0+\x3dtopNode.textContent.length}}var userAgent\x3dnavigator.userAgent,platform\x3dnavigator.platform,gecko\x3d/gecko\\/\\d/i.test(userAgent),ie_upto10\x3d/MSIE \\d/.test(userAgent),ie_11up\x3d/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent),edge\x3d/Edge\\/(\\d+)/.exec(userAgent),ie\x3die_upto10||ie_11up||edge,ie_version\x3die\x26\x26(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]),webkit\x3d!edge\x26\x26/WebKit\\//.test(userAgent),qtwebkit\x3dwebkit\x26\x26/Qt\\/\\d+\\.\\d+/.test(userAgent),\nchrome\x3d!edge\x26\x26/Chrome\\//.test(userAgent),presto\x3d/Opera\\//.test(userAgent),safari\x3d/Apple Computer/.test(navigator.vendor),mac_geMountainLion\x3d/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent),phantom\x3d/PhantomJS/.test(userAgent),ios\x3dsafari\x26\x26(/Mobile\\/\\w+/.test(userAgent)||2\x3cnavigator.maxTouchPoints),android\x3d/Android/.test(userAgent),mobile\x3dios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac\x3dios||/Mac/.test(platform),chromeOS\x3d/\\bCrOS\\b/.test(userAgent),windows\x3d/win/i.test(platform),\npresto_version\x3dpresto\x26\x26userAgent.match(/Version\\/(\\d*\\.\\d*)/);presto_version\x26\x26(presto_version\x3dNumber(presto_version[1]));presto_version\x26\x2615\x3c\x3dpresto_version\x26\x26(presto\x3d!1,webkit\x3d!0);var flipCtrlCmd\x3dmac\x26\x26(qtwebkit||presto\x26\x26(null\x3d\x3dpresto_version||12.11\x3epresto_version)),captureRightClick\x3dgecko||ie\x26\x269\x3c\x3die_version,rmClass\x3dfunction(node,cls){var current\x3dnode.className;if(cls\x3dclassTest(cls).exec(current)){var after\x3dcurrent.slice(cls.index+cls[0].length);node.className\x3dcurrent.slice(0,cls.index)+(after?cls[1]+\nafter:\x22\x22)}};var range$jscomp$0\x3ddocument.createRange?function(node,start,end,endNode){var r\x3ddocument.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}:function(node,start,end){var r\x3ddocument.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(!0);r.moveEnd(\x22character\x22,end);r.moveStart(\x22character\x22,start);return r};var selectInput\x3dfunction(node){node.select()};ios?selectInput\x3dfunction(node){node.selectionStart\x3d0;node.selectionEnd\x3dnode.value.length}:\nie\x26\x26(selectInput\x3dfunction(node){try{node.select()}catch(_e){}});var Delayed\x3dfunction(){this.f\x3dthis.id\x3dnull;this.time\x3d0;this.handler\x3dbind(this.onTimeout,this)};Delayed.prototype.onTimeout\x3dfunction(self){self.id\x3d0;self.time\x3c\x3d+new Date?self.f():setTimeout(self.handler,self.time-+new Date)};Delayed.prototype.set\x3dfunction(ms,f){this.f\x3df;f\x3d+new Date+ms;if(!this.id||f\x3cthis.time)clearTimeout(this.id),this.id\x3dsetTimeout(this.handler,ms),this.time\x3df};var Pass\x3d{toString:function(){return\x22CodeMirror.Pass\x22}},\nsel_dontScroll\x3d{scroll:!1},sel_mouse\x3d{origin:\x22*mouse\x22},sel_move\x3d{origin:\x22+move\x22},spaceStrs\x3d[\x22\x22],nonASCIISingleCaseWordChar\x3d/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/,extendingChars\x3d/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/,\nbidiOther\x3dnull,bidiOrdering\x3dfunction(){function charType(code){return 247\x3e\x3dcode?\x22bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\x22.charAt(code):1424\x3c\x3dcode\x26\x261524\x3e\x3dcode?\x22R\x22:1536\x3c\x3dcode\x26\x261785\x3e\x3dcode?\x22nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\x22.charAt(code-\n1536):1774\x3c\x3dcode\x26\x262220\x3e\x3dcode?\x22r\x22:8192\x3c\x3dcode\x26\x268203\x3e\x3dcode?\x22w\x22:8204\x3d\x3dcode?\x22b\x22:\x22L\x22}function BidiSpan(level,from,to){this.level\x3dlevel;this.from\x3dfrom;this.to\x3dto}var bidiRE\x3d/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,isNeutral\x3d/[stwN]/,isStrong\x3d/[LRr]/,countsAsLeft\x3d/[Lb1n]/,countsAsNum\x3d/[1n]/;return function(str,direction){var outerType\x3d\x22ltr\x22\x3d\x3ddirection?\x22L\x22:\x22R\x22;if(0\x3d\x3dstr.length||\x22ltr\x22\x3d\x3ddirection\x26\x26!bidiRE.test(str))return!1;for(var len\x3dstr.length,types\x3d[],i\x3d0;i\x3clen;++i)types.push(charType(str.charCodeAt(i)));\ni\x3d0;for(var prev\x3douterType;i\x3clen;++i){var type\x3dtypes[i];\x22m\x22\x3d\x3dtype?types[i]\x3dprev:prev\x3dtype}i\x3d0;for(prev\x3douterType;i\x3clen;++i)type\x3dtypes[i],\x221\x22\x3d\x3dtype\x26\x26\x22r\x22\x3d\x3dprev?types[i]\x3d\x22n\x22:isStrong.test(type)\x26\x26(prev\x3dtype,\x22r\x22\x3d\x3dtype\x26\x26(types[i]\x3d\x22R\x22));i\x3d1;for(prev\x3dtypes[0];i\x3clen-1;++i)type\x3dtypes[i],\x22+\x22\x3d\x3dtype\x26\x26\x221\x22\x3d\x3dprev\x26\x26\x221\x22\x3d\x3dtypes[i+1]?types[i]\x3d\x221\x22:\x22,\x22!\x3dtype||prev!\x3dtypes[i+1]||\x221\x22!\x3dprev\x26\x26\x22n\x22!\x3dprev||(types[i]\x3dprev),prev\x3dtype;for(i\x3d0;i\x3clen;++i)if(prev\x3dtypes[i],\x22,\x22\x3d\x3dprev)types[i]\x3d\x22N\x22;else if(\x22%\x22\x3d\x3dprev){for(prev\x3di+1;prev\x3c\nlen\x26\x26\x22%\x22\x3d\x3dtypes[prev];++prev);for(type\x3di\x26\x26\x22!\x22\x3d\x3dtypes[i-1]||prev\x3clen\x26\x26\x221\x22\x3d\x3dtypes[prev]?\x221\x22:\x22N\x22;i\x3cprev;++i)types[i]\x3dtype;i\x3dprev-1}i\x3d0;for(prev\x3douterType;i\x3clen;++i)type\x3dtypes[i],\x22L\x22\x3d\x3dprev\x26\x26\x221\x22\x3d\x3dtype?types[i]\x3d\x22L\x22:isStrong.test(type)\x26\x26(prev\x3dtype);for(prev\x3d0;prev\x3clen;++prev)if(isNeutral.test(types[prev])){for(i\x3dprev+1;i\x3clen\x26\x26isNeutral.test(types[i]);++i);type\x3d\x22L\x22\x3d\x3d(prev?types[prev-1]:outerType);for(type\x3dtype\x3d\x3d(\x22L\x22\x3d\x3d(i\x3clen?types[i]:outerType))?type?\x22L\x22:\x22R\x22:outerType;prev\x3ci;++prev)types[prev]\x3dtype;prev\x3di-\n1}outerType\x3d[];var m;for(i\x3d0;i\x3clen;)if(countsAsLeft.test(types[i])){prev\x3di;for(++i;i\x3clen\x26\x26countsAsLeft.test(types[i]);++i);outerType.push(new BidiSpan(0,prev,i))}else{var pos\x3di;prev\x3douterType.length;type\x3d\x22rtl\x22\x3d\x3ddirection?1:0;for(++i;i\x3clen\x26\x26\x22L\x22!\x3dtypes[i];++i);for(var j$2\x3dpos;j$2\x3ci;)if(countsAsNum.test(types[j$2])){pos\x3cj$2\x26\x26(outerType.splice(prev,0,new BidiSpan(1,pos,j$2)),prev+\x3dtype);pos\x3dj$2;for(++j$2;j$2\x3ci\x26\x26countsAsNum.test(types[j$2]);++j$2);outerType.splice(prev,0,new BidiSpan(2,pos,j$2));prev+\x3d\ntype;pos\x3dj$2}else++j$2;pos\x3ci\x26\x26outerType.splice(prev,0,new BidiSpan(1,pos,i))}\x22ltr\x22\x3d\x3ddirection\x26\x26(1\x3d\x3douterType[0].level\x26\x26(m\x3dstr.match(/^\\s+/))\x26\x26(outerType[0].from\x3dm[0].length,outerType.unshift(new BidiSpan(0,0,m[0].length))),1\x3d\x3dlst(outerType).level\x26\x26(m\x3dstr.match(/\\s+$/))\x26\x26(lst(outerType).to-\x3dm[0].length,outerType.push(new BidiSpan(0,len-m[0].length,len))));return\x22rtl\x22\x3d\x3ddirection?outerType.reverse():outerType}}(),noHandlers\x3d[],on$jscomp$0\x3dfunction(emitter,type,f){emitter.addEventListener?emitter.addEventListener(type,\nf,!1):emitter.attachEvent?emitter.attachEvent(\x22on\x22+type,f):(emitter\x3demitter._handlers||(emitter._handlers\x3d{}),emitter[type]\x3d(emitter[type]||noHandlers).concat(f))},dragAndDrop\x3dfunction(){if(ie\x26\x269\x3eie_version)return!1;var div\x3delt$jscomp$0(\x22div\x22);return\x22draggable\x22in div||\x22dragDrop\x22in div}(),zwspSupported,badBidiRects,splitLinesAuto\x3d3!\x3d\x22\\n\\nb\x22.split(/\\n/).length?function(string){for(var pos\x3d0,result\x3d[],l\x3dstring.length;pos\x3c\x3dl;){var nl\x3dstring.indexOf(\x22\\n\x22,pos);-1\x3d\x3dnl\x26\x26(nl\x3dstring.length);var line\x3dstring.slice(pos,\n\x22\\r\x22\x3d\x3dstring.charAt(nl-1)?nl-1:nl),rt\x3dline.indexOf(\x22\\r\x22);-1!\x3drt?(result.push(line.slice(0,rt)),pos+\x3drt+1):(result.push(line),pos\x3dnl+1)}return result}:function(string){return string.split(/\\r\\n?|\\n/)},hasSelection\x3dwindow.getSelection?function(te){try{return te.selectionStart!\x3dte.selectionEnd}catch(e){return!1}}:function(te){try{var range\x3dte.ownerDocument.selection.createRange()}catch(e){}return range\x26\x26range.parentElement()\x3d\x3dte?0!\x3drange.compareEndPoints(\x22StartToEnd\x22,range):!1},hasCopyEvent\x3dfunction(){var e\x3d\nelt$jscomp$0(\x22div\x22);if(\x22oncopy\x22in e)return!0;e.setAttribute(\x22oncopy\x22,\x22return;\x22);return\x22function\x22\x3d\x3dtypeof e.oncopy}(),badZoomedRects\x3dnull,modes\x3d{},mimeModes\x3d{},modeExtensions\x3d{},StringStream\x3dfunction(string,tabSize,lineOracle){this.pos\x3dthis.start\x3d0;this.string\x3dstring;this.tabSize\x3dtabSize||8;this.lineStart\x3dthis.lastColumnPos\x3dthis.lastColumnValue\x3d0;this.lineOracle\x3dlineOracle};StringStream.prototype.eol\x3dfunction(){return this.pos\x3e\x3dthis.string.length};StringStream.prototype.sol\x3dfunction(){return this.pos\x3d\x3d\nthis.lineStart};StringStream.prototype.peek\x3dfunction(){return this.string.charAt(this.pos)||void 0};StringStream.prototype.next\x3dfunction(){if(this.pos\x3cthis.string.length)return this.string.charAt(this.pos++)};StringStream.prototype.eat\x3dfunction(match){var ch\x3dthis.string.charAt(this.pos);if(\x22string\x22\x3d\x3dtypeof match?ch\x3d\x3dmatch:ch\x26\x26(match.test?match.test(ch):match(ch)))return++this.pos,ch};StringStream.prototype.eatWhile\x3dfunction(match){for(var start\x3dthis.pos;this.eat(match););return this.pos\x3estart};StringStream.prototype.eatSpace\x3d\nfunction(){for(var start\x3dthis.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos\x3estart};StringStream.prototype.skipToEnd\x3dfunction(){this.pos\x3dthis.string.length};StringStream.prototype.skipTo\x3dfunction(ch){ch\x3dthis.string.indexOf(ch,this.pos);if(-1\x3cch)return this.pos\x3dch,!0};StringStream.prototype.backUp\x3dfunction(n){this.pos-\x3dn};StringStream.prototype.column\x3dfunction(){this.lastColumnPos\x3cthis.start\x26\x26(this.lastColumnValue\x3dcountColumn(this.string,this.start,this.tabSize,this.lastColumnPos,\nthis.lastColumnValue),this.lastColumnPos\x3dthis.start);return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation\x3dfunction(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match\x3dfunction(pattern,consume,caseInsensitive){if(\x22string\x22\x3d\x3dtypeof pattern){var cased\x3dfunction(str){return caseInsensitive?str.toLowerCase():str},substr\x3dthis.string.substr(this.pos,\npattern.length);if(cased(substr)\x3d\x3dcased(pattern))return!1!\x3d\x3dconsume\x26\x26(this.pos+\x3dpattern.length),!0}else{if((pattern\x3dthis.string.slice(this.pos).match(pattern))\x26\x260\x3cpattern.index)return null;pattern\x26\x26!1!\x3d\x3dconsume\x26\x26(this.pos+\x3dpattern[0].length);return pattern}};StringStream.prototype.current\x3dfunction(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars\x3dfunction(n,inner){this.lineStart+\x3dn;try{return inner()}finally{this.lineStart-\x3dn}};StringStream.prototype.lookAhead\x3d\nfunction(n){var oracle\x3dthis.lineOracle;return oracle\x26\x26oracle.lookAhead(n)};StringStream.prototype.baseToken\x3dfunction(){var oracle\x3dthis.lineOracle;return oracle\x26\x26oracle.baseToken(this.pos)};var SavedContext\x3dfunction(state,lookAhead){this.state\x3dstate;this.lookAhead\x3dlookAhead},Context\x3dfunction(doc,state,line,lookAhead){this.state\x3dstate;this.doc\x3ddoc;this.line\x3dline;this.maxLookAhead\x3dlookAhead||0;this.baseTokens\x3dnull;this.baseTokenPos\x3d1};Context.prototype.lookAhead\x3dfunction(n){var line\x3dthis.doc.getLine(this.line+\nn);null!\x3dline\x26\x26n\x3ethis.maxLookAhead\x26\x26(this.maxLookAhead\x3dn);return line};Context.prototype.baseToken\x3dfunction(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]\x3c\x3dn;)this.baseTokenPos+\x3d2;var type\x3dthis.baseTokens[this.baseTokenPos+1];return{type:type\x26\x26type.replace(/( |^)overlay .*/,\x22\x22),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine\x3dfunction(){this.line++;0\x3cthis.maxLookAhead\x26\x26this.maxLookAhead--};Context.fromSaved\x3dfunction(doc,saved,line){return saved instanceof\nSavedContext?new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead):new Context(doc,copyState(doc.mode,saved),line)};Context.prototype.save\x3dfunction(copy){copy\x3d!1!\x3d\x3dcopy?copyState(this.doc.mode,this.state):this.state;return 0\x3cthis.maxLookAhead?new SavedContext(copy,this.maxLookAhead):copy};var Token\x3dfunction(stream,type,state){this.start\x3dstream.start;this.end\x3dstream.pos;this.string\x3dstream.current();this.type\x3dtype||null;this.state\x3dstate},sawReadOnlySpans\x3d!1,sawCollapsedSpans\x3d!1,Line\x3d\nfunction(text,markedSpans,estimateHeight){this.text\x3dtext;attachMarkedSpans(this,markedSpans);this.height\x3destimateHeight?estimateHeight(this):1};Line.prototype.lineNo\x3dfunction(){return lineNo(this)};eventMixin(Line);var styleToClassCache\x3d{},styleToClassCacheWithMode\x3d{},operationGroup\x3dnull,orphanDelayedCallbacks\x3dnull,nullRect\x3d{left:0,right:0,top:0,bottom:0},measureText,NativeScrollbars\x3dfunction(place,scroll,cm){this.cm\x3dcm;var vert\x3dthis.vert\x3delt$jscomp$0(\x22div\x22,[elt$jscomp$0(\x22div\x22,null,null,\x22min-width: 1px\x22)],\n\x22CodeMirror-vscrollbar\x22),horiz\x3dthis.horiz\x3delt$jscomp$0(\x22div\x22,[elt$jscomp$0(\x22div\x22,null,null,\x22height: 100%; min-height: 1px\x22)],\x22CodeMirror-hscrollbar\x22);vert.tabIndex\x3dhoriz.tabIndex\x3d-1;place(vert);place(horiz);on$jscomp$0(vert,\x22scroll\x22,function(){vert.clientHeight\x26\x26scroll(vert.scrollTop,\x22vertical\x22)});on$jscomp$0(horiz,\x22scroll\x22,function(){horiz.clientWidth\x26\x26scroll(horiz.scrollLeft,\x22horizontal\x22)});this.checkedZeroWidth\x3d!1;ie\x26\x268\x3eie_version\x26\x26(this.horiz.style.minHeight\x3dthis.vert.style.minWidth\x3d\x2218px\x22)};\nNativeScrollbars.prototype.update\x3dfunction(measure){var needsH\x3dmeasure.scrollWidth\x3emeasure.clientWidth+1,needsV\x3dmeasure.scrollHeight\x3emeasure.clientHeight+1,sWidth\x3dmeasure.nativeBarWidth;needsV?(this.vert.style.display\x3d\x22block\x22,this.vert.style.bottom\x3dneedsH?sWidth+\x22px\x22:\x220\x22,this.vert.firstChild.style.height\x3dMath.max(0,measure.scrollHeight-measure.clientHeight+(measure.viewHeight-(needsH?sWidth:0)))+\x22px\x22):(this.vert.style.display\x3d\x22\x22,this.vert.firstChild.style.height\x3d\x220\x22);needsH?(this.horiz.style.display\x3d\n\x22block\x22,this.horiz.style.right\x3dneedsV?sWidth+\x22px\x22:\x220\x22,this.horiz.style.left\x3dmeasure.barLeft+\x22px\x22,this.horiz.firstChild.style.width\x3dMath.max(0,measure.scrollWidth-measure.clientWidth+(measure.viewWidth-measure.barLeft-(needsV?sWidth:0)))+\x22px\x22):(this.horiz.style.display\x3d\x22\x22,this.horiz.firstChild.style.width\x3d\x220\x22);!this.checkedZeroWidth\x26\x260\x3cmeasure.clientHeight\x26\x26(0\x3d\x3dsWidth\x26\x26this.zeroWidthHack(),this.checkedZeroWidth\x3d!0);return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft\x3d\nfunction(pos){this.horiz.scrollLeft!\x3dpos\x26\x26(this.horiz.scrollLeft\x3dpos);this.disableHoriz\x26\x26this.enableZeroWidthBar(this.horiz,this.disableHoriz,\x22horiz\x22)};NativeScrollbars.prototype.setScrollTop\x3dfunction(pos){this.vert.scrollTop!\x3dpos\x26\x26(this.vert.scrollTop\x3dpos);this.disableVert\x26\x26this.enableZeroWidthBar(this.vert,this.disableVert,\x22vert\x22)};NativeScrollbars.prototype.zeroWidthHack\x3dfunction(){this.horiz.style.height\x3dthis.vert.style.width\x3dmac\x26\x26!mac_geMountainLion?\x2212px\x22:\x2218px\x22;this.horiz.style.pointerEvents\x3d\nthis.vert.style.pointerEvents\x3d\x22none\x22;this.disableHoriz\x3dnew Delayed;this.disableVert\x3dnew Delayed};NativeScrollbars.prototype.enableZeroWidthBar\x3dfunction(bar,delay,type){function maybeDisable(){var box\x3dbar.getBoundingClientRect();(\x22vert\x22\x3d\x3dtype?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1))!\x3dbar?bar.style.pointerEvents\x3d\x22none\x22:delay.set(1E3,maybeDisable)}bar.style.pointerEvents\x3d\x22auto\x22;delay.set(1E3,maybeDisable)};NativeScrollbars.prototype.clear\x3d\nfunction(){var parent\x3dthis.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars\x3dfunction(){};NullScrollbars.prototype.update\x3dfunction(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft\x3dfunction(){};NullScrollbars.prototype.setScrollTop\x3dfunction(){};NullScrollbars.prototype.clear\x3dfunction(){};var scrollbarModel\x3d{\x22native\x22:NativeScrollbars,\x22null\x22:NullScrollbars},nextOpId\x3d0,DisplayUpdate\x3dfunction(cm,viewport,force){var display\x3dcm.display;this.viewport\x3d\nviewport;this.visible\x3dvisibleLines(display,cm.doc,viewport);this.editorIsHidden\x3d!display.wrapper.offsetWidth;this.wrapperHeight\x3ddisplay.wrapper.clientHeight;this.wrapperWidth\x3ddisplay.wrapper.clientWidth;this.oldDisplayWidth\x3ddisplayWidth(cm);this.force\x3dforce;this.dims\x3dgetDimensions(cm);this.events\x3d[]};DisplayUpdate.prototype.signal\x3dfunction(emitter,type){hasHandler(emitter,type)\x26\x26this.events.push(arguments)};DisplayUpdate.prototype.finish\x3dfunction(){for(var i\x3d0;i\x3cthis.events.length;i++)signal.apply(null,\nthis.events[i])};var wheelSamples\x3d0,wheelPixelsPerUnit\x3dnull;ie?wheelPixelsPerUnit\x3d-.53:gecko?wheelPixelsPerUnit\x3d15:chrome?wheelPixelsPerUnit\x3d-.7:safari\x26\x26(wheelPixelsPerUnit\x3d-1/3);var Selection\x3dfunction(ranges,primIndex){this.ranges\x3dranges;this.primIndex\x3dprimIndex};Selection.prototype.primary\x3dfunction(){return this.ranges[this.primIndex]};Selection.prototype.equals\x3dfunction(other){if(other\x3d\x3dthis)return!0;if(other.primIndex!\x3dthis.primIndex||other.ranges.length!\x3dthis.ranges.length)return!1;for(var i\x3d\n0;i\x3cthis.ranges.length;i++){var here\x3dthis.ranges[i],there\x3dother.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head))return!1}return!0};Selection.prototype.deepCopy\x3dfunction(){for(var out\x3d[],i\x3d0;i\x3cthis.ranges.length;i++)out[i]\x3dnew Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected\x3dfunction(){for(var i\x3d0;i\x3cthis.ranges.length;i++)if(!this.ranges[i].empty())return!0;\nreturn!1};Selection.prototype.contains\x3dfunction(pos,end){end||(end\x3dpos);for(var i\x3d0;i\x3cthis.ranges.length;i++){var range\x3dthis.ranges[i];if(0\x3c\x3dcmp(end,range.from())\x26\x260\x3e\x3dcmp(pos,range.to()))return i}return-1};var Range\x3dfunction(anchor,head){this.anchor\x3danchor;this.head\x3dhead};Range.prototype.from\x3dfunction(){return minPos(this.anchor,this.head)};Range.prototype.to\x3dfunction(){return maxPos(this.anchor,this.head)};Range.prototype.empty\x3dfunction(){return this.head.line\x3d\x3dthis.anchor.line\x26\x26this.head.ch\x3d\x3dthis.anchor.ch};\nLeafChunk.prototype\x3d{chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i\x3dat,e\x3dat+n;i\x3ce;++i){var line\x3dthis.lines[i];this.height-\x3dline.height;var line$jscomp$0\x3dline;line$jscomp$0.parent\x3dnull;detachMarkedSpans(line$jscomp$0);signalLater(line,\x22delete\x22)}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+\x3dheight;this.lines\x3dthis.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));\nfor(at\x3d0;at\x3clines.length;++at)lines[at].parent\x3dthis},iterN:function(at,n,op){for(n\x3dat+n;at\x3cn;++at)if(op(this.lines[at]))return!0}};BranchChunk.prototype\x3d{chunkSize:function(){return this.size},removeInner:function(at,n){this.size-\x3dn;for(var i\x3d0;i\x3cthis.children.length;++i){var child\x3dthis.children[i],sz\x3dchild.chunkSize();if(at\x3csz){var rm\x3dMath.min(n,sz-at),oldHeight\x3dchild.height;child.removeInner(at,rm);this.height-\x3doldHeight-child.height;sz\x3d\x3drm\x26\x26(this.children.splice(i--,1),child.parent\x3dnull);if(0\x3d\x3d\n(n-\x3drm))break;at\x3d0}else at-\x3dsz}25\x3ethis.size-n\x26\x26(1\x3cthis.children.length||!(this.children[0]instanceof LeafChunk))\x26\x26(at\x3d[],this.collapse(at),this.children\x3d[new LeafChunk(at)],this.children[0].parent\x3dthis)},collapse:function(lines){for(var i\x3d0;i\x3cthis.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+\x3dlines.length;this.height+\x3dheight;for(var i\x3d0;i\x3cthis.children.length;++i){var child\x3dthis.children[i],sz\x3dchild.chunkSize();if(at\x3c\x3dsz){child.insertInner(at,\nlines,height);if(child.lines\x26\x2650\x3cchild.lines.length){for(lines\x3dat\x3dchild.lines.length%25+25;lines\x3cchild.lines.length;)height\x3dnew LeafChunk(child.lines.slice(lines,lines+\x3d25)),child.height-\x3dheight.height,this.children.splice(++i,0,height),height.parent\x3dthis;child.lines\x3dchild.lines.slice(0,at);this.maybeSpill()}break}at-\x3dsz}},maybeSpill:function(){if(!(10\x3e\x3dthis.children.length)){var me\x3dthis;do{var spilled\x3dme.children.splice(me.children.length-5,5);spilled\x3dnew BranchChunk(spilled);if(me.parent){me.size-\x3d\nspilled.size;me.height-\x3dspilled.height;var myIndex\x3dindexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,spilled)}else myIndex\x3dnew BranchChunk(me.children),myIndex.parent\x3dme,me.children\x3d[myIndex,spilled],me\x3dmyIndex;spilled.parent\x3dme.parent}while(10\x3cme.children.length);me.parent.maybeSpill()}},iterN:function(at,n,op){for(var i\x3d0;i\x3cthis.children.length;++i){var child\x3dthis.children[i],sz\x3dchild.chunkSize();if(at\x3csz){sz\x3dMath.min(n,sz-at);if(child.iterN(at,sz,op))return!0;if(0\x3d\x3d(n-\x3dsz))break;\nat\x3d0}else at-\x3dsz}}};var LineWidget\x3dfunction(doc,node,options){if(options)for(var opt in options)options.hasOwnProperty(opt)\x26\x26(this[opt]\x3doptions[opt]);this.doc\x3ddoc;this.node\x3dnode};LineWidget.prototype.clear\x3dfunction(){var cm\x3dthis.doc.cm,ws\x3dthis.line.widgets,line\x3dthis.line,no\x3dlineNo(line);if(null!\x3dno\x26\x26ws){for(var i\x3d0;i\x3cws.length;++i)ws[i]\x3d\x3dthis\x26\x26ws.splice(i--,1);ws.length||(line.widgets\x3dnull);var height\x3dwidgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));cm\x26\x26(runInOp(cm,function(){var diff\x3d\n-height;heightAtLine(line)\x3c(cm.curOp\x26\x26cm.curOp.scrollTop||cm.doc.scrollTop)\x26\x26addToScrollTop(cm,diff);regLineChange(cm,no,\x22widget\x22)}),signalLater(cm,\x22lineWidgetCleared\x22,cm,this,no))}};LineWidget.prototype.changed\x3dfunction(){var this$1\x3dthis,oldH\x3dthis.height,cm\x3dthis.doc.cm,line\x3dthis.line;this.height\x3dnull;var diff\x3dwidgetHeight(this)-oldH;diff\x26\x26(lineIsHidden(this.doc,line)||updateLineHeight(line,line.height+diff),cm\x26\x26runInOp(cm,function(){cm.curOp.forceUpdate\x3d!0;heightAtLine(line)\x3c(cm.curOp\x26\x26cm.curOp.scrollTop||\ncm.doc.scrollTop)\x26\x26addToScrollTop(cm,diff);signalLater(cm,\x22lineWidgetChanged\x22,cm,this$1,lineNo(line))}))};eventMixin(LineWidget);var nextMarkerId\x3d0,TextMarker\x3dfunction(doc,type){this.lines\x3d[];this.type\x3dtype;this.doc\x3ddoc;this.id\x3d++nextMarkerId};TextMarker.prototype.clear\x3dfunction(){if(!this.explicitlyCleared){var cm\x3dthis.doc.cm,withOp\x3dcm\x26\x26!cm.curOp;withOp\x26\x26startOperation(cm);if(hasHandler(this,\x22clear\x22)){var found\x3dthis.find();found\x26\x26signalLater(this,\x22clear\x22,found.from,found.to)}for(var max\x3dfound\x3dnull,\ni\x3d0;i\x3cthis.lines.length;++i){var line\x3dthis.lines[i],span\x3dgetMarkedSpanFor(line.markedSpans,this);cm\x26\x26!this.collapsed?regLineChange(cm,lineNo(line),\x22text\x22):cm\x26\x26(null!\x3dspan.to\x26\x26(max\x3dlineNo(line)),null!\x3dspan.from\x26\x26(found\x3dlineNo(line)));for(var JSCompiler_temp_const\x3dline,r\x3dvoid 0,spans\x3dline.markedSpans,span$jscomp$0\x3dspan,i$jscomp$0\x3d0;i$jscomp$0\x3cspans.length;++i$jscomp$0)spans[i$jscomp$0]!\x3dspan$jscomp$0\x26\x26(r||(r\x3d[])).push(spans[i$jscomp$0]);JSCompiler_temp_const.markedSpans\x3dr;null\x3d\x3dspan.from\x26\x26this.collapsed\x26\x26\n!lineIsHidden(this.doc,line)\x26\x26cm\x26\x26updateLineHeight(line,textHeight(cm.display))}if(cm\x26\x26this.collapsed\x26\x26!cm.options.lineWrapping)for(i\x3d0;i\x3cthis.lines.length;++i)line\x3dvisualLine(this.lines[i]),span\x3dlineLength(line),span\x3ecm.display.maxLineLength\x26\x26(cm.display.maxLine\x3dline,cm.display.maxLineLength\x3dspan,cm.display.maxLineChanged\x3d!0);null!\x3dfound\x26\x26cm\x26\x26this.collapsed\x26\x26regChange(cm,found,max+1);this.lines.length\x3d0;this.explicitlyCleared\x3d!0;this.atomic\x26\x26this.doc.cantEdit\x26\x26(this.doc.cantEdit\x3d!1,cm\x26\x26reCheckSelection(cm.doc));\ncm\x26\x26signalLater(cm,\x22markerCleared\x22,cm,this,found,max);withOp\x26\x26endOperation(cm);this.parent\x26\x26this.parent.clear()}};TextMarker.prototype.find\x3dfunction(side,lineObj){null\x3d\x3dside\x26\x26\x22bookmark\x22\x3d\x3dthis.type\x26\x26(side\x3d1);for(var from,to,i\x3d0;i\x3cthis.lines.length;++i){var line\x3dthis.lines[i],span\x3dgetMarkedSpanFor(line.markedSpans,this);if(null!\x3dspan.from\x26\x26(from\x3dPos(lineObj?line:lineNo(line),span.from),-1\x3d\x3dside))return from;if(null!\x3dspan.to\x26\x26(to\x3dPos(lineObj?line:lineNo(line),span.to),1\x3d\x3dside))return to}return from\x26\x26\n{from,to}};TextMarker.prototype.changed\x3dfunction(){var this$1\x3dthis,pos\x3dthis.find(-1,!0),widget\x3dthis,cm\x3dthis.doc.cm;pos\x26\x26cm\x26\x26runInOp(cm,function(){var line\x3dpos.line,lineN\x3dlineNo(pos.line);if(lineN\x3dfindViewForLine(cm,lineN))clearLineMeasurementCacheFor(lineN),cm.curOp.selectionChanged\x3dcm.curOp.forceUpdate\x3d!0;cm.curOp.updateMaxLine\x3d!0;lineIsHidden(widget.doc,line)||null\x3d\x3dwidget.height||(lineN\x3dwidget.height,widget.height\x3dnull,(lineN\x3dwidgetHeight(widget)-lineN)\x26\x26updateLineHeight(line,line.height+lineN));\nsignalLater(cm,\x22markerChanged\x22,cm,this$1)})};TextMarker.prototype.attachLine\x3dfunction(line){if(!this.lines.length\x26\x26this.doc.cm){var op\x3dthis.doc.cm.curOp;op.maybeHiddenMarkers\x26\x26-1!\x3dindexOf(op.maybeHiddenMarkers,this)||(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers\x3d[])).push(this)}this.lines.push(line)};TextMarker.prototype.detachLine\x3dfunction(line){this.lines.splice(indexOf(this.lines,line),1);!this.lines.length\x26\x26this.doc.cm\x26\x26(line\x3dthis.doc.cm.curOp,(line.maybeHiddenMarkers||(line.maybeHiddenMarkers\x3d\n[])).push(this))};eventMixin(TextMarker);var SharedTextMarker\x3dfunction(markers,primary){this.markers\x3dmarkers;this.primary\x3dprimary;for(primary\x3d0;primary\x3cmarkers.length;++primary)markers[primary].parent\x3dthis};SharedTextMarker.prototype.clear\x3dfunction(){if(!this.explicitlyCleared){this.explicitlyCleared\x3d!0;for(var i\x3d0;i\x3cthis.markers.length;++i)this.markers[i].clear();signalLater(this,\x22clear\x22)}};SharedTextMarker.prototype.find\x3dfunction(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);\nvar nextDocId\x3d0,Doc\x3dfunction(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep,direction);null\x3d\x3dfirstLine\x26\x26(firstLine\x3d0);BranchChunk.call(this,[new LeafChunk([new Line(\x22\x22,null)])]);this.first\x3dfirstLine;this.scrollTop\x3dthis.scrollLeft\x3d0;this.cantEdit\x3d!1;this.cleanGeneration\x3d1;this.modeFrontier\x3dthis.highlightFrontier\x3dfirstLine;firstLine\x3dPos(firstLine,0);this.sel\x3dsimpleSelection(firstLine);this.history\x3dnew History(null);this.id\x3d++nextDocId;this.modeOption\x3d\nmode;this.lineSep\x3dlineSep;this.direction\x3d\x22rtl\x22\x3d\x3ddirection?\x22rtl\x22:\x22ltr\x22;this.extend\x3d!1;\x22string\x22\x3d\x3dtypeof text\x26\x26(text\x3dthis.splitLines(text));updateDoc(this,{from:firstLine,to:firstLine,text});setSelection(this,simpleSelection(firstLine),sel_dontScroll)};Doc.prototype\x3dcreateObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){op?this.iterN(from-this.first,to-from,op):this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){for(var height\x3d0,i\x3d0;i\x3clines.length;++i)height+\x3d\nlines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines\x3dgetLines(this,this.first,this.first+this.size);return!1\x3d\x3d\x3dlineSep?lines:lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top\x3dPos(this.first,0),last\x3dthis.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:\x22setValue\x22,full:!0},!0);this.cm\x26\x26scrollToCoords(this.cm,\n0,0);setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from\x3dclipPos(this,from);to\x3dto?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){from\x3dgetBetween(this,clipPos(this,from),clipPos(this,to));return!1\x3d\x3d\x3dlineSep?from:from.join(lineSep||this.lineSeparator())},getLine:function(line){return(line\x3dthis.getLineHandle(line))\x26\x26line.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},\ngetLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){\x22number\x22\x3d\x3dtypeof line\x26\x26(line\x3dgetLine(this,line));return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range\x3dthis.sel.primary();return null\x3d\x3dstart||\x22head\x22\x3d\x3dstart?range.head:\x22anchor\x22\x3d\x3dstart?range.anchor:\x22end\x22\x3d\x3dstart||\x22to\x22\x3d\x3dstart||!1\x3d\x3d\x3d\nstart?range.to():range.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){line\x3dclipPos(this,\x22number\x22\x3d\x3dtypeof line?Pos(line,ch||0):line);setSelection(this,simpleSelection(line,null),options)}),setSelection:docMethodOp(function(anchor$jscomp$0,head,options){var anchor\x3dclipPos(this,anchor$jscomp$0);anchor$jscomp$0\x3dclipPos(this,head||anchor$jscomp$0);setSelection(this,simpleSelection(anchor,\nanchor$jscomp$0),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other\x26\x26clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){f\x3dmap$jscomp$0(this.sel.ranges,f);extendSelections(this,clipPosArray(this,f),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(ranges.length){for(var out\x3d\n[],i\x3d0;i\x3cranges.length;i++)out[i]\x3dnew Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));null\x3d\x3dprimary\x26\x26(primary\x3dMath.min(ranges.length-1,this.sel.primIndex));setSelection(this,normalizeSelection(this.cm,out,primary),options)}}),addSelection:docMethodOp(function(anchor,head,options){var ranges\x3dthis.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var ranges\x3d\nthis.sel.ranges,lines,i\x3d0;i\x3cranges.length;i++){var sel\x3dgetBetween(this,ranges[i].from(),ranges[i].to());lines\x3dlines?lines.concat(sel):sel}return!1\x3d\x3d\x3dlineSep?lines:lines.join(lineSep||this.lineSeparator())},getSelections:function(lineSep){for(var parts\x3d[],ranges\x3dthis.sel.ranges,i\x3d0;i\x3cranges.length;i++){var sel\x3dgetBetween(this,ranges[i].from(),ranges[i].to());!1!\x3d\x3dlineSep\x26\x26(sel\x3dsel.join(lineSep||this.lineSeparator()));parts[i]\x3dsel}return parts},replaceSelection:function(code,collapse,origin){for(var dup\x3d\n[],i\x3d0;i\x3cthis.sel.ranges.length;i++)dup[i]\x3dcode;this.replaceSelections(dup,collapse,origin||\x22+input\x22)},replaceSelections:docMethodOp(function(code,collapse,origin){for(var changes\x3d[],sel\x3dthis.sel,i\x3d0;i\x3csel.ranges.length;i++){var range\x3dsel.ranges[i];changes[i]\x3d{from:range.from(),to:range.to(),text:this.splitLines(code[i]),origin}}if(code\x3dcollapse\x26\x26\x22end\x22!\x3dcollapse){code\x3d[];sel\x3dorigin\x3dPos(this.first,0);for(i\x3d0;i\x3cchanges.length;i++){var change\x3dchanges[i];range\x3doffsetPos(change.from,origin,sel);var to\x3d\noffsetPos(changeEnd(change),origin,sel);origin\x3dchange.to;sel\x3dto;\x22around\x22\x3d\x3dcollapse?(change\x3dthis.sel.ranges[i],change\x3d0\x3ecmp(change.head,change.anchor),code[i]\x3dnew Range(change?to:range,change?range:to)):code[i]\x3dnew Range(range,range)}code\x3dnew Selection(code,this.sel.primIndex)}collapse\x3dcode;for(code\x3dchanges.length-1;0\x3c\x3dcode;code--)makeChange(this,changes[code]);collapse?setSelectionReplaceHistory(this,collapse):this.cm\x26\x26ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,\n\x22undo\x22)}),redo:docMethodOp(function(){makeChangeFromHistory(this,\x22redo\x22)}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,\x22undo\x22,!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,\x22redo\x22,!0)}),setExtending:function(val){this.extend\x3dval},getExtending:function(){return this.extend},historySize:function(){for(var hist\x3dthis.history,done\x3d0,undone\x3d0,i\x3d0;i\x3chist.done.length;i++)hist.done[i].ranges||++done;for(i\x3d0;i\x3chist.undone.length;i++)hist.undone[i].ranges||++undone;\nreturn{undo:done,redo:undone}},clearHistory:function(){var this$1\x3dthis;this.history\x3dnew History(this.history);linkedDocs(this,function(doc){return doc.history\x3dthis$1.history},!0)},markClean:function(){this.cleanGeneration\x3dthis.changeGeneration(!0)},changeGeneration:function(forceSplit){forceSplit\x26\x26(this.history.lastOp\x3dthis.history.lastSelOp\x3dthis.history.lastOrigin\x3dnull);return this.history.generation},isClean:function(gen){return this.history.generation\x3d\x3d(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),\nundone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist\x3dthis.history\x3dnew History(this.history);hist.done\x3dcopyHistoryArray(histData.done.slice(0),null,!0);hist.undone\x3dcopyHistoryArray(histData.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(line$jscomp$0,gutterID,value){return changeLine(this,line$jscomp$0,\x22gutter\x22,function(line){var markers\x3dline.gutterMarkers||(line.gutterMarkers\x3d{});markers[gutterID]\x3dvalue;!value\x26\x26isEmpty(markers)\x26\x26(line.gutterMarkers\x3d\nnull);return!0})}),clearGutter:docMethodOp(function(gutterID){var this$1\x3dthis;this.iter(function(line){line.gutterMarkers\x26\x26line.gutterMarkers[gutterID]\x26\x26changeLine(this$1,line,\x22gutter\x22,function(){line.gutterMarkers[gutterID]\x3dnull;isEmpty(line.gutterMarkers)\x26\x26(line.gutterMarkers\x3dnull);return!0})})}),lineInfo:function(line){if(\x22number\x22\x3d\x3dtypeof line){if(!isLine(this,line))return null;var n\x3dline;line\x3dgetLine(this,line);if(!line)return null}else if(n\x3dlineNo(line),null\x3d\x3dn)return null;return{line:n,handle:line,\ntext:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,\x22gutter\x22\x3d\x3dwhere?\x22gutter\x22:\x22class\x22,function(line){var prop\x3d\x22text\x22\x3d\x3dwhere?\x22textClass\x22:\x22background\x22\x3d\x3dwhere?\x22bgClass\x22:\x22gutter\x22\x3d\x3dwhere?\x22gutterClass\x22:\x22wrapClass\x22;if(line[prop]){if(classTest(cls).test(line[prop]))return!1;line[prop]+\x3d\x22 \x22+cls}else line[prop]\x3dcls;return!0})}),removeLineClass:docMethodOp(function(handle,\nwhere,cls){return changeLine(this,handle,\x22gutter\x22\x3d\x3dwhere?\x22gutter\x22:\x22class\x22,function(line){var prop\x3d\x22text\x22\x3d\x3dwhere?\x22textClass\x22:\x22background\x22\x3d\x3dwhere?\x22bgClass\x22:\x22gutter\x22\x3d\x3dwhere?\x22gutterClass\x22:\x22wrapClass\x22,cur\x3dline[prop];if(cur)if(null\x3d\x3dcls)line[prop]\x3dnull;else{var found\x3dcur.match(classTest(cls));if(!found)return!1;var end\x3dfound.index+found[0].length;line[prop]\x3dcur.slice(0,found.index)+(found.index\x26\x26end!\x3dcur.length?\x22 \x22:\x22\x22)+cur.slice(end)||null}else return!1;return!0})}),addLineWidget:docMethodOp(function(handle,\nnode,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options\x26\x26options.type||\x22range\x22)},setBookmark:function(pos,options){options\x3d{replacedWith:options\x26\x26(null\x3d\x3doptions.nodeType?options.widget:options),insertLeft:options\x26\x26options.insertLeft,clearWhenEmpty:!1,shared:options\x26\x26options.shared,handleMouseEvents:options\x26\x26options.handleMouseEvents};\npos\x3dclipPos(this,pos);return markText(this,pos,pos,options,\x22bookmark\x22)},findMarksAt:function(pos){pos\x3dclipPos(this,pos);var markers\x3d[],spans\x3dgetLine(this,pos.line).markedSpans;if(spans)for(var i\x3d0;i\x3cspans.length;++i){var span\x3dspans[i];(null\x3d\x3dspan.from||span.from\x3c\x3dpos.ch)\x26\x26(null\x3d\x3dspan.to||span.to\x3e\x3dpos.ch)\x26\x26markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to,filter){from\x3dclipPos(this,from);to\x3dclipPos(this,to);var found\x3d[],lineNo\x3dfrom.line;this.iter(from.line,to.line+\n1,function(line){if(line\x3dline.markedSpans)for(var i\x3d0;i\x3cline.length;i++){var span\x3dline[i];null!\x3dspan.to\x26\x26lineNo\x3d\x3dfrom.line\x26\x26from.ch\x3e\x3dspan.to||null\x3d\x3dspan.from\x26\x26lineNo!\x3dfrom.line||null!\x3dspan.from\x26\x26lineNo\x3d\x3dto.line\x26\x26span.from\x3e\x3dto.ch||filter\x26\x26!filter(span.marker)||found.push(span.marker.parent||span.marker)}++lineNo});return found},getAllMarks:function(){var markers\x3d[];this.iter(function(line){if(line\x3dline.markedSpans)for(var i\x3d0;i\x3cline.length;++i)null!\x3dline[i].from\x26\x26markers.push(line[i].marker)});return markers},\nposFromIndex:function(off){var ch,lineNo\x3dthis.first,sepSize\x3dthis.lineSeparator().length;this.iter(function(line){line\x3dline.text.length+sepSize;if(line\x3eoff)return ch\x3doff,!0;off-\x3dline;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords\x3dclipPos(this,coords);var index\x3dcoords.ch;if(coords.line\x3cthis.first||0\x3ecoords.ch)return 0;var sepSize\x3dthis.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+\x3dline.text.length+sepSize});return index},copy:function(copyHistory){var doc\x3d\nnew Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop\x3dthis.scrollTop;doc.scrollLeft\x3dthis.scrollLeft;doc.sel\x3dthis.sel;doc.extend\x3d!1;copyHistory\x26\x26(doc.history.undoDepth\x3dthis.history.undoDepth,doc.setHistory(this.getHistory()));return doc},linkedDoc:function(options){options||(options\x3d{});var from\x3dthis.first,to\x3dthis.first+this.size;null!\x3doptions.from\x26\x26options.from\x3efrom\x26\x26(from\x3doptions.from);null!\x3doptions.to\x26\x26options.to\x3cto\x26\x26(to\x3doptions.to);\nfrom\x3dnew Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);options.sharedHist\x26\x26(from.history\x3dthis.history);(this.linked||(this.linked\x3d[])).push({doc:from,sharedHist:options.sharedHist});from.linked\x3d[{doc:this,isParent:!0,sharedHist:options.sharedHist}];options\x3dfindSharedMarkers(this);for(to\x3d0;to\x3coptions.length;to++){var marker\x3doptions[to],pos\x3dmarker.find(),mFrom\x3dfrom.clipPos(pos.from);pos\x3dfrom.clipPos(pos.to);cmp(mFrom,pos)\x26\x26(mFrom\x3dmarkText(from,mFrom,pos,\nmarker.primary,marker.primary.type),marker.markers.push(mFrom),mFrom.parent\x3dmarker)}return from},unlinkDoc:function(other){other instanceof CodeMirror$jscomp$0\x26\x26(other\x3dother.doc);if(this.linked)for(var i\x3d0;i\x3cthis.linked.length;++i)if(this.linked[i].doc\x3d\x3dother){this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));break}if(other.history\x3d\x3dthis.history){var splitIds\x3d[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},!0);other.history\x3dnew History(null);\nother.history.done\x3dcopyHistoryArray(this.history.done,splitIds);other.history.undone\x3dcopyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){return this.lineSep?str.split(this.lineSep):splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||\x22\\n\x22},setDirection:docMethodOp(function(dir){\x22rtl\x22!\x3ddir\x26\x26(dir\x3d\x22ltr\x22);dir!\x3dthis.direction\x26\x26(this.direction\x3ddir,\nthis.iter(function(line){return line.order\x3dnull}),this.cm\x26\x26directionChanged(this.cm))})});Doc.prototype.eachLine\x3dDoc.prototype.iter;for(var lastDrop\x3d0,globalsRegistered\x3d!1,keyNames\x3d{3:\x22Pause\x22,8:\x22Backspace\x22,9:\x22Tab\x22,13:\x22Enter\x22,16:\x22Shift\x22,17:\x22Ctrl\x22,18:\x22Alt\x22,19:\x22Pause\x22,20:\x22CapsLock\x22,27:\x22Esc\x22,32:\x22Space\x22,33:\x22PageUp\x22,34:\x22PageDown\x22,35:\x22End\x22,36:\x22Home\x22,37:\x22Left\x22,38:\x22Up\x22,39:\x22Right\x22,40:\x22Down\x22,44:\x22PrintScrn\x22,45:\x22Insert\x22,46:\x22Delete\x22,59:\x22;\x22,61:\x22\\x3d\x22,91:\x22Mod\x22,92:\x22Mod\x22,93:\x22Mod\x22,106:\x22*\x22,107:\x22\\x3d\x22,109:\x22-\x22,110:\x22.\x22,\n111:\x22/\x22,145:\x22ScrollLock\x22,173:\x22-\x22,186:\x22;\x22,187:\x22\\x3d\x22,188:\x22,\x22,189:\x22-\x22,190:\x22.\x22,191:\x22/\x22,192:\x22`\x22,219:\x22[\x22,220:\x22\\\\\x22,221:\x22]\x22,222:\x22\x27\x22,224:\x22Mod\x22,63232:\x22Up\x22,63233:\x22Down\x22,63234:\x22Left\x22,63235:\x22Right\x22,63272:\x22Delete\x22,63273:\x22Home\x22,63275:\x22End\x22,63276:\x22PageUp\x22,63277:\x22PageDown\x22,63302:\x22Insert\x22},i$jscomp$1\x3d0;10\x3ei$jscomp$1;i$jscomp$1++)keyNames[i$jscomp$1+48]\x3dkeyNames[i$jscomp$1+96]\x3dString(i$jscomp$1);for(var i$1$jscomp$0\x3d65;90\x3e\x3di$1$jscomp$0;i$1$jscomp$0++)keyNames[i$1$jscomp$0]\x3dString.fromCharCode(i$1$jscomp$0);for(var i$2\x3d\n1;12\x3e\x3di$2;i$2++)keyNames[i$2+111]\x3dkeyNames[i$2+63235]\x3d\x22F\x22+i$2;var keyMap\x3d{basic:{Left:\x22goCharLeft\x22,Right:\x22goCharRight\x22,Up:\x22goLineUp\x22,Down:\x22goLineDown\x22,End:\x22goLineEnd\x22,Home:\x22goLineStartSmart\x22,PageUp:\x22goPageUp\x22,PageDown:\x22goPageDown\x22,Delete:\x22delCharAfter\x22,Backspace:\x22delCharBefore\x22,\x22Shift-Backspace\x22:\x22delCharBefore\x22,Tab:\x22defaultTab\x22,\x22Shift-Tab\x22:\x22indentAuto\x22,Enter:\x22newlineAndIndent\x22,Insert:\x22toggleOverwrite\x22,Esc:\x22singleSelection\x22},pcDefault:{\x22Ctrl-A\x22:\x22selectAll\x22,\x22Ctrl-D\x22:\x22deleteLine\x22,\x22Ctrl-Z\x22:\x22undo\x22,\x22Shift-Ctrl-Z\x22:\x22redo\x22,\n\x22Ctrl-Y\x22:\x22redo\x22,\x22Ctrl-Home\x22:\x22goDocStart\x22,\x22Ctrl-End\x22:\x22goDocEnd\x22,\x22Ctrl-Up\x22:\x22goLineUp\x22,\x22Ctrl-Down\x22:\x22goLineDown\x22,\x22Ctrl-Left\x22:\x22goGroupLeft\x22,\x22Ctrl-Right\x22:\x22goGroupRight\x22,\x22Alt-Left\x22:\x22goLineStart\x22,\x22Alt-Right\x22:\x22goLineEnd\x22,\x22Ctrl-Backspace\x22:\x22delGroupBefore\x22,\x22Ctrl-Delete\x22:\x22delGroupAfter\x22,\x22Ctrl-S\x22:\x22save\x22,\x22Ctrl-F\x22:\x22find\x22,\x22Ctrl-G\x22:\x22findNext\x22,\x22Shift-Ctrl-G\x22:\x22findPrev\x22,\x22Shift-Ctrl-F\x22:\x22replace\x22,\x22Shift-Ctrl-R\x22:\x22replaceAll\x22,\x22Ctrl-[\x22:\x22indentLess\x22,\x22Ctrl-]\x22:\x22indentMore\x22,\x22Ctrl-U\x22:\x22undoSelection\x22,\x22Shift-Ctrl-U\x22:\x22redoSelection\x22,\n\x22Alt-U\x22:\x22redoSelection\x22,fallthrough:\x22basic\x22},emacsy:{\x22Ctrl-F\x22:\x22goCharRight\x22,\x22Ctrl-B\x22:\x22goCharLeft\x22,\x22Ctrl-P\x22:\x22goLineUp\x22,\x22Ctrl-N\x22:\x22goLineDown\x22,\x22Alt-F\x22:\x22goWordRight\x22,\x22Alt-B\x22:\x22goWordLeft\x22,\x22Ctrl-A\x22:\x22goLineStart\x22,\x22Ctrl-E\x22:\x22goLineEnd\x22,\x22Ctrl-V\x22:\x22goPageDown\x22,\x22Shift-Ctrl-V\x22:\x22goPageUp\x22,\x22Ctrl-D\x22:\x22delCharAfter\x22,\x22Ctrl-H\x22:\x22delCharBefore\x22,\x22Alt-D\x22:\x22delWordAfter\x22,\x22Alt-Backspace\x22:\x22delWordBefore\x22,\x22Ctrl-K\x22:\x22killLine\x22,\x22Ctrl-T\x22:\x22transposeChars\x22,\x22Ctrl-O\x22:\x22openLine\x22},macDefault:{\x22Cmd-A\x22:\x22selectAll\x22,\x22Cmd-D\x22:\x22deleteLine\x22,\x22Cmd-Z\x22:\x22undo\x22,\n\x22Shift-Cmd-Z\x22:\x22redo\x22,\x22Cmd-Y\x22:\x22redo\x22,\x22Cmd-Home\x22:\x22goDocStart\x22,\x22Cmd-Up\x22:\x22goDocStart\x22,\x22Cmd-End\x22:\x22goDocEnd\x22,\x22Cmd-Down\x22:\x22goDocEnd\x22,\x22Alt-Left\x22:\x22goGroupLeft\x22,\x22Alt-Right\x22:\x22goGroupRight\x22,\x22Cmd-Left\x22:\x22goLineLeft\x22,\x22Cmd-Right\x22:\x22goLineRight\x22,\x22Alt-Backspace\x22:\x22delGroupBefore\x22,\x22Ctrl-Alt-Backspace\x22:\x22delGroupAfter\x22,\x22Alt-Delete\x22:\x22delGroupAfter\x22,\x22Cmd-S\x22:\x22save\x22,\x22Cmd-F\x22:\x22find\x22,\x22Cmd-G\x22:\x22findNext\x22,\x22Shift-Cmd-G\x22:\x22findPrev\x22,\x22Cmd-Alt-F\x22:\x22replace\x22,\x22Shift-Cmd-Alt-F\x22:\x22replaceAll\x22,\x22Cmd-[\x22:\x22indentLess\x22,\x22Cmd-]\x22:\x22indentMore\x22,\x22Cmd-Backspace\x22:\x22delWrappedLineLeft\x22,\n\x22Cmd-Delete\x22:\x22delWrappedLineRight\x22,\x22Cmd-U\x22:\x22undoSelection\x22,\x22Shift-Cmd-U\x22:\x22redoSelection\x22,\x22Ctrl-Up\x22:\x22goDocStart\x22,\x22Ctrl-Down\x22:\x22goDocEnd\x22,fallthrough:[\x22basic\x22,\x22emacsy\x22]}};keyMap[\x22default\x22]\x3dmac?keyMap.macDefault:keyMap.pcDefault;var commands\x3d{selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor(\x22anchor\x22),cm.getCursor(\x22head\x22),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len\x3dgetLine(cm.doc,range.head.line).text.length;return range.head.ch\x3d\x3d\nlen\x26\x26range.head.line\x3ccm.lastLine()?{from:range.head,to:Pos(range.head.line+1,0)}:{from:range.head,to:Pos(range.head.line,len)}}return{from:range.from(),to:range.to()}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,\nfunction(range){var top\x3dcm.charCoords(range.head,\x22div\x22).top+5;return{from:cm.coordsChar({left:0,top},\x22div\x22),to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top\x3dcm.charCoords(range.head,\x22div\x22).top+5;top\x3dcm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top},\x22div\x22);return{from:range.from(),to:top}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},\ngoDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:\x22+move\x22,bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:\x22+move\x22,bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){range\x3drange.head.line;\nvar line\x3dgetLine(cm.doc,range);var visual\x3dline;for(var merged;merged\x3dcollapsedSpanAtSide(visual,!1);)visual\x3dmerged.find(1,!0).line;visual!\x3dline\x26\x26(range\x3dlineNo(visual));return endOfLine(!0,cm,line,range,-1)},{origin:\x22+move\x22,bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){range\x3dcm.cursorCoords(range.head,\x22div\x22).top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:range},\x22div\x22)},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){range\x3d\ncm.cursorCoords(range.head,\x22div\x22).top+5;return cm.coordsChar({left:0,top:range},\x22div\x22)},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top\x3dcm.cursorCoords(range.head,\x22div\x22).top+5;top\x3dcm.coordsChar({left:0,top},\x22div\x22);return top.ch\x3ccm.getLine(top.line).search(/\\S/)?lineStartSmart(cm,range.head):top},sel_move)},goLineUp:function(cm){return cm.moveV(-1,\x22line\x22)},goLineDown:function(cm){return cm.moveV(1,\x22line\x22)},goPageUp:function(cm){return cm.moveV(-1,\x22page\x22)},\ngoPageDown:function(cm){return cm.moveV(1,\x22page\x22)},goCharLeft:function(cm){return cm.moveH(-1,\x22char\x22)},goCharRight:function(cm){return cm.moveH(1,\x22char\x22)},goColumnLeft:function(cm){return cm.moveH(-1,\x22column\x22)},goColumnRight:function(cm){return cm.moveH(1,\x22column\x22)},goWordLeft:function(cm){return cm.moveH(-1,\x22word\x22)},goGroupRight:function(cm){return cm.moveH(1,\x22group\x22)},goGroupLeft:function(cm){return cm.moveH(-1,\x22group\x22)},goWordRight:function(cm){return cm.moveH(1,\x22word\x22)},delCharBefore:function(cm){return cm.deleteH(-1,\n\x22codepoint\x22)},delCharAfter:function(cm){return cm.deleteH(1,\x22char\x22)},delWordBefore:function(cm){return cm.deleteH(-1,\x22word\x22)},delWordAfter:function(cm){return cm.deleteH(1,\x22word\x22)},delGroupBefore:function(cm){return cm.deleteH(-1,\x22group\x22)},delGroupAfter:function(cm){return cm.deleteH(1,\x22group\x22)},indentAuto:function(cm){return cm.indentSelection(\x22smart\x22)},indentMore:function(cm){return cm.indentSelection(\x22add\x22)},indentLess:function(cm){return cm.indentSelection(\x22subtract\x22)},insertTab:function(cm){return cm.replaceSelection(\x22\\t\x22)},\ninsertSoftTab:function(cm){for(var spaces\x3d[],ranges\x3dcm.listSelections(),tabSize\x3dcm.options.tabSize,i\x3d0;i\x3cranges.length;i++){var pos\x3dranges[i].from();pos\x3dcountColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-pos%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){cm.somethingSelected()?cm.indentSelection(\x22add\x22):cm.execCommand(\x22insertTab\x22)},transposeChars:function(cm){return runInOp(cm,function(){for(var ranges\x3dcm.listSelections(),newSel\x3d[],i\x3d0;i\x3cranges.length;i++)if(ranges[i].empty()){var cur\x3d\nranges[i].head,line\x3dgetLine(cm.doc,cur.line).text;if(line)if(cur.ch\x3d\x3dline.length\x26\x26(cur\x3dnew Pos(cur.line,cur.ch-1)),0\x3ccur.ch)cur\x3dnew Pos(cur.line,cur.ch+1),cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,\x22+transpose\x22);else if(cur.line\x3ecm.doc.first){var prev\x3dgetLine(cm.doc,cur.line-1).text;prev\x26\x26(cur\x3dnew Pos(cur.line,1),cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,\x22+transpose\x22))}newSel.push(new Range(cur,\ncur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){for(var sels\x3dcm.listSelections(),i\x3dsels.length-1;0\x3c\x3di;i--)cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,\x22+input\x22);sels\x3dcm.listSelections();for(i\x3d0;i\x3csels.length;i++)cm.indentLine(sels[i].from().line,null,!0);ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection(\x22\\n\x22,\x22start\x22)},toggleOverwrite:function(cm){return cm.toggleOverwrite()}},stopSeq\x3dnew Delayed,lastStoppedKey\x3d\nnull,PastClick\x3dfunction(time,pos,button){this.time\x3dtime;this.pos\x3dpos;this.button\x3dbutton};PastClick.prototype.compare\x3dfunction(time,pos,button){return this.time+400\x3etime\x26\x260\x3d\x3dcmp(pos,this.pos)\x26\x26button\x3d\x3dthis.button};var lastClick,lastDoubleClick,Init\x3d{toString:function(){return\x22CodeMirror.Init\x22}},defaults\x3d{},optionHandlers\x3d{};CodeMirror$jscomp$0.defaults\x3ddefaults;CodeMirror$jscomp$0.optionHandlers\x3doptionHandlers;var initHooks\x3d[];CodeMirror$jscomp$0.defineInitHook\x3dfunction(f){return initHooks.push(f)};\nvar lastCopied\x3dnull,ContentEditableInput\x3dfunction(cm){this.cm\x3dcm;this.lastAnchorNode\x3dthis.lastAnchorOffset\x3dthis.lastFocusNode\x3dthis.lastFocusOffset\x3dnull;this.polling\x3dnew Delayed;this.composing\x3dnull;this.gracePeriod\x3d!1;this.readDOMTimeout\x3dnull};ContentEditableInput.prototype.init\x3dfunction(display){function belongsToInput(e){for(e\x3de.target;e;e\x3de.parentNode){if(e\x3d\x3ddiv)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(e.className))break}return!1}function onCopyCut(e){if(belongsToInput(e)\x26\x26!signalDOMEvent(cm,\ne)){if(cm.somethingSelected())lastCopied\x3d{lineWise:!1,text:cm.getSelections()},\x22cut\x22\x3d\x3de.type\x26\x26cm.replaceSelection(\x22\x22,null,\x22cut\x22);else if(cm.options.lineWiseCopyCut){var ranges\x3dcopyableRanges(cm);lastCopied\x3d{lineWise:!0,text:ranges.text};\x22cut\x22\x3d\x3de.type\x26\x26cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection(\x22\x22,null,\x22cut\x22)})}else return;if(e.clipboardData){e.clipboardData.clearData();var content\x3dlastCopied.text.join(\x22\\n\x22);e.clipboardData.setData(\x22Text\x22,content);\nif(e.clipboardData.getData(\x22Text\x22)\x3d\x3dcontent){e.preventDefault();return}}var kludge\x3dhiddenTextarea();e\x3dkludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);e.value\x3dlastCopied.text.join(\x22\\n\x22);var hadFocus\x3ddocument.activeElement;selectInput(e);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();hadFocus\x3d\x3ddiv\x26\x26input.showPrimarySelection()},50)}}var this$1\x3dthis,input\x3dthis,cm\x3dinput.cm,div\x3dinput.div\x3ddisplay.lineDiv;disableBrowserMagic(div,\ncm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize);on$jscomp$0(div,\x22paste\x22,function(e){!belongsToInput(e)||signalDOMEvent(cm,e)||handlePaste(e,cm)||11\x3e\x3die_version\x26\x26setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)});on$jscomp$0(div,\x22compositionstart\x22,function(e){this$1.composing\x3d{data:e.data,done:!1}});on$jscomp$0(div,\x22compositionupdate\x22,function(e){this$1.composing||(this$1.composing\x3d{data:e.data,done:!1})});on$jscomp$0(div,\x22compositionend\x22,function(e){this$1.composing\x26\x26\n(e.data!\x3dthis$1.composing.data\x26\x26this$1.readFromDOMSoon(),this$1.composing.done\x3d!0)});on$jscomp$0(div,\x22touchstart\x22,function(){return input.forceCompositionEnd()});on$jscomp$0(div,\x22input\x22,function(){this$1.composing||this$1.readFromDOMSoon()});on$jscomp$0(div,\x22copy\x22,onCopyCut);on$jscomp$0(div,\x22cut\x22,onCopyCut)};ContentEditableInput.prototype.screenReaderLabelChanged\x3dfunction(label){label?this.div.setAttribute(\x22aria-label\x22,label):this.div.removeAttribute(\x22aria-label\x22)};ContentEditableInput.prototype.prepareSelection\x3d\nfunction(){var result\x3dprepareSelection(this.cm,!1);result.focus\x3ddocument.activeElement\x3d\x3dthis.div;return result};ContentEditableInput.prototype.showSelection\x3dfunction(info,takeFocus){info\x26\x26this.cm.display.view.length\x26\x26((info.focus||takeFocus)\x26\x26this.showPrimarySelection(),this.showMultipleSelections(info))};ContentEditableInput.prototype.getSelection\x3dfunction(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection\x3dfunction(){var sel\x3dthis.getSelection(),\ncm\x3dthis.cm,prim\x3dcm.doc.sel.primary(),from\x3dprim.from();prim\x3dprim.to();if(cm.display.viewTo\x3d\x3dcm.display.viewFrom||from.line\x3e\x3dcm.display.viewTo||prim.line\x3ccm.display.viewFrom)sel.removeAllRanges();else{var curAnchor\x3ddomToPos(cm,sel.anchorNode,sel.anchorOffset),curFocus\x3ddomToPos(cm,sel.focusNode,sel.focusOffset);if(!curAnchor||curAnchor.bad||!curFocus||curFocus.bad||0!\x3dcmp(minPos(curAnchor,curFocus),from)||0!\x3dcmp(maxPos(curAnchor,curFocus),prim))if(curAnchor\x3dcm.display.view,from\x3dfrom.line\x3e\x3dcm.display.viewFrom\x26\x26\nposToDOM(cm,from)||{node:curAnchor[0].measure.map[2],offset:0},prim\x3dprim.line\x3ccm.display.viewTo\x26\x26posToDOM(cm,prim),prim||(prim\x3dcurAnchor[curAnchor.length-1].measure,prim\x3dprim.maps?prim.maps[prim.maps.length-1]:prim.map,prim\x3d{node:prim[prim.length-1],offset:prim[prim.length-2]-prim[prim.length-3]}),from\x26\x26prim){curAnchor\x3dsel.rangeCount\x26\x26sel.getRangeAt(0);try{var rng\x3drange$jscomp$0(from.node,from.offset,prim.offset,prim.node)}catch(e){}rng\x26\x26(!gecko\x26\x26cm.state.focused?(sel.collapse(from.node,from.offset),\nrng.collapsed||(sel.removeAllRanges(),sel.addRange(rng))):(sel.removeAllRanges(),sel.addRange(rng)),curAnchor\x26\x26null\x3d\x3dsel.anchorNode?sel.addRange(curAnchor):gecko\x26\x26this.startGracePeriod());this.rememberSelection()}else sel.removeAllRanges()}};ContentEditableInput.prototype.startGracePeriod\x3dfunction(){var this$1\x3dthis;clearTimeout(this.gracePeriod);this.gracePeriod\x3dsetTimeout(function(){this$1.gracePeriod\x3d!1;this$1.selectionChanged()\x26\x26this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged\x3d\n!0})},20)};ContentEditableInput.prototype.showMultipleSelections\x3dfunction(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection\x3dfunction(){var sel\x3dthis.getSelection();this.lastAnchorNode\x3dsel.anchorNode;this.lastAnchorOffset\x3dsel.anchorOffset;this.lastFocusNode\x3dsel.focusNode;this.lastFocusOffset\x3dsel.focusOffset};ContentEditableInput.prototype.selectionInEditor\x3dfunction(){var sel\x3d\nthis.getSelection();if(!sel.rangeCount)return!1;sel\x3dsel.getRangeAt(0).commonAncestorContainer;return contains(this.div,sel)};ContentEditableInput.prototype.focus\x3dfunction(){\x22nocursor\x22!\x3dthis.cm.options.readOnly\x26\x26(this.selectionInEditor()\x26\x26document.activeElement\x3d\x3dthis.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};ContentEditableInput.prototype.blur\x3dfunction(){this.div.blur()};ContentEditableInput.prototype.getField\x3dfunction(){return this.div};ContentEditableInput.prototype.supportsTouch\x3d\nfunction(){return!0};ContentEditableInput.prototype.receivedFocus\x3dfunction(){function poll(){input.cm.state.focused\x26\x26(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,poll))}var input\x3dthis;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){return input.cm.curOp.selectionChanged\x3d!0});this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged\x3dfunction(){var sel\x3dthis.getSelection();return sel.anchorNode!\x3dthis.lastAnchorNode||\nsel.anchorOffset!\x3dthis.lastAnchorOffset||sel.focusNode!\x3dthis.lastFocusNode||sel.focusOffset!\x3dthis.lastFocusOffset};ContentEditableInput.prototype.pollSelection\x3dfunction(){if(null\x3d\x3dthis.readDOMTimeout\x26\x26!this.gracePeriod\x26\x26this.selectionChanged()){var sel\x3dthis.getSelection(),cm\x3dthis.cm;if(android\x26\x26chrome\x26\x26this.cm.display.gutterSpecs.length\x26\x26isInGutter(sel.anchorNode))this.cm.triggerOnKeyDown({type:\x22keydown\x22,keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();\nvar anchor\x3ddomToPos(cm,sel.anchorNode,sel.anchorOffset),head\x3ddomToPos(cm,sel.focusNode,sel.focusOffset);anchor\x26\x26head\x26\x26runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged\x3d!0})}}};ContentEditableInput.prototype.pollContent\x3dfunction(){null!\x3dthis.readDOMTimeout\x26\x26(clearTimeout(this.readDOMTimeout),this.readDOMTimeout\x3dnull);var cm\x3dthis.cm,display\x3dcm.display,sel\x3dcm.doc.sel.primary(),from\x3dsel.from(),to\x3dsel.to();0\x3d\x3dfrom.ch\x26\x26\nfrom.line\x3ecm.firstLine()\x26\x26(from\x3dPos(from.line-1,getLine(cm.doc,from.line-1).length));to.ch\x3d\x3dgetLine(cm.doc,to.line).text.length\x26\x26to.line\x3ccm.lastLine()\x26\x26(to\x3dPos(to.line+1,0));if(from.line\x3cdisplay.viewFrom||to.line\x3edisplay.viewTo-1)return!1;var fromIndex;from.line\x3d\x3ddisplay.viewFrom||0\x3d\x3d(fromIndex\x3dfindViewIndex(cm,from.line))?(sel\x3dlineNo(display.view[0].line),fromIndex\x3ddisplay.view[0].node):(sel\x3dlineNo(display.view[fromIndex].line),fromIndex\x3ddisplay.view[fromIndex-1].node.nextSibling);var toIndex\x3dfindViewIndex(cm,\nto.line);toIndex\x3d\x3ddisplay.view.length-1?(to\x3ddisplay.viewTo-1,display\x3ddisplay.lineDiv.lastChild):(to\x3dlineNo(display.view[toIndex+1].line)-1,display\x3ddisplay.view[toIndex+1].node.previousSibling);if(!fromIndex)return!1;display\x3dcm.doc.splitLines(domTextBetween(cm,fromIndex,display,sel,to));for(fromIndex\x3dgetBetween(cm.doc,Pos(sel,0),Pos(to,getLine(cm.doc,to).text.length));1\x3cdisplay.length\x26\x261\x3cfromIndex.length;)if(lst(display)\x3d\x3dlst(fromIndex))display.pop(),fromIndex.pop(),to--;else if(display[0]\x3d\x3dfromIndex[0])display.shift(),\nfromIndex.shift(),sel++;else break;var cutFront\x3d0;toIndex\x3d0;for(var newTop\x3ddisplay[0],oldTop\x3dfromIndex[0],maxCutFront\x3dMath.min(newTop.length,oldTop.length);cutFront\x3cmaxCutFront\x26\x26newTop.charCodeAt(cutFront)\x3d\x3doldTop.charCodeAt(cutFront);)++cutFront;newTop\x3dlst(display);oldTop\x3dlst(fromIndex);for(maxCutFront\x3dMath.min(newTop.length-(1\x3d\x3ddisplay.length?cutFront:0),oldTop.length-(1\x3d\x3dfromIndex.length?cutFront:0));toIndex\x3cmaxCutFront\x26\x26newTop.charCodeAt(newTop.length-toIndex-1)\x3d\x3doldTop.charCodeAt(oldTop.length-\ntoIndex-1);)++toIndex;if(1\x3d\x3ddisplay.length\x26\x261\x3d\x3dfromIndex.length\x26\x26sel\x3d\x3dfrom.line)for(;cutFront\x26\x26cutFront\x3efrom.ch\x26\x26newTop.charCodeAt(newTop.length-toIndex-1)\x3d\x3doldTop.charCodeAt(oldTop.length-toIndex-1);)cutFront--,toIndex++;display[display.length-1]\x3dnewTop.slice(0,newTop.length-toIndex).replace(/^\\u200b+/,\x22\x22);display[0]\x3ddisplay[0].slice(cutFront).replace(/\\u200b+$/,\x22\x22);from\x3dPos(sel,cutFront);sel\x3dPos(to,fromIndex.length?lst(fromIndex).length-toIndex:0);if(1\x3cdisplay.length||display[0]||cmp(from,sel))return replaceRange(cm.doc,\ndisplay,from,sel,\x22+input\x22),!0};ContentEditableInput.prototype.ensurePolled\x3dfunction(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset\x3dfunction(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd\x3dfunction(){this.composing\x26\x26(clearTimeout(this.readDOMTimeout),this.composing\x3dnull,this.updateFromDOM(),this.div.blur(),this.div.focus())};ContentEditableInput.prototype.readFromDOMSoon\x3dfunction(){var this$1\x3dthis;null\x3d\x3dthis.readDOMTimeout\x26\x26(this.readDOMTimeout\x3d\nsetTimeout(function(){this$1.readDOMTimeout\x3dnull;if(this$1.composing)if(this$1.composing.done)this$1.composing\x3dnull;else return;this$1.updateFromDOM()},80))};ContentEditableInput.prototype.updateFromDOM\x3dfunction(){var this$1\x3dthis;!this.cm.isReadOnly()\x26\x26this.pollContent()||runInOp(this.cm,function(){return regChange(this$1.cm)})};ContentEditableInput.prototype.setUneditable\x3dfunction(node){node.contentEditable\x3d\x22false\x22};ContentEditableInput.prototype.onKeyPress\x3dfunction(e){0\x3d\x3de.charCode||this.composing||\n(e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null\x3d\x3de.charCode?e.keyCode:e.charCode),0))};ContentEditableInput.prototype.readOnlyChanged\x3dfunction(val){this.div.contentEditable\x3dString(\x22nocursor\x22!\x3dval)};ContentEditableInput.prototype.onContextMenu\x3dfunction(){};ContentEditableInput.prototype.resetPosition\x3dfunction(){};ContentEditableInput.prototype.needsContentAttribute\x3d!0;var TextareaInput\x3dfunction(cm){this.cm\x3dcm;this.prevInput\x3d\x22\x22;this.pollingFast\x3d\n!1;this.polling\x3dnew Delayed;this.hasSelection\x3d!1;this.composing\x3dnull};TextareaInput.prototype.init\x3dfunction(display){function prepareCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())lastCopied\x3d{lineWise:!1,text:cm.getSelections()};else if(cm.options.lineWiseCopyCut){var ranges\x3dcopyableRanges(cm);lastCopied\x3d{lineWise:!0,text:ranges.text};\x22cut\x22\x3d\x3de.type?cm.setSelections(ranges.ranges,null,sel_dontScroll):(input.prevInput\x3d\x22\x22,te.value\x3dranges.text.join(\x22\\n\x22),selectInput(te))}else return;\x22cut\x22\x3d\x3d\ne.type\x26\x26(cm.state.cutIncoming\x3d+new Date)}}var this$1\x3dthis,input\x3dthis,cm\x3dthis.cm;this.createField(display);var te\x3dthis.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);ios\x26\x26(te.style.width\x3d\x220px\x22);on$jscomp$0(te,\x22input\x22,function(){ie\x26\x269\x3c\x3die_version\x26\x26this$1.hasSelection\x26\x26(this$1.hasSelection\x3dnull);input.poll()});on$jscomp$0(te,\x22paste\x22,function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)||(cm.state.pasteIncoming\x3d+new Date,input.fastPoll())});on$jscomp$0(te,\x22cut\x22,prepareCopyCut);\non$jscomp$0(te,\x22copy\x22,prepareCopyCut);on$jscomp$0(display.scroller,\x22paste\x22,function(e){if(!eventInWidget(display,e)\x26\x26!signalDOMEvent(cm,e))if(te.dispatchEvent){var event\x3dnew Event(\x22paste\x22);event.clipboardData\x3de.clipboardData;te.dispatchEvent(event)}else cm.state.pasteIncoming\x3d+new Date,input.focus()});on$jscomp$0(display.lineSpace,\x22selectstart\x22,function(e){eventInWidget(display,e)||e_preventDefault(e)});on$jscomp$0(te,\x22compositionstart\x22,function(){var start\x3dcm.getCursor(\x22from\x22);input.composing\x26\x26input.composing.range.clear();\ninput.composing\x3d{start,range:cm.markText(start,cm.getCursor(\x22to\x22),{className:\x22CodeMirror-composing\x22})}});on$jscomp$0(te,\x22compositionend\x22,function(){input.composing\x26\x26(input.poll(),input.composing.range.clear(),input.composing\x3dnull)})};TextareaInput.prototype.createField\x3dfunction(_display){this.wrapper\x3dhiddenTextarea();this.textarea\x3dthis.wrapper.firstChild};TextareaInput.prototype.screenReaderLabelChanged\x3dfunction(label){label?this.textarea.setAttribute(\x22aria-label\x22,label):this.textarea.removeAttribute(\x22aria-label\x22)};\nTextareaInput.prototype.prepareSelection\x3dfunction(){var cm\x3dthis.cm,display\x3dcm.display,doc\x3dcm.doc,result\x3dprepareSelection(cm);if(cm.options.moveInputWithCursor){cm\x3dcursorCoords(cm,doc.sel.primary().head,\x22div\x22);doc\x3ddisplay.wrapper.getBoundingClientRect();var lineOff\x3ddisplay.lineDiv.getBoundingClientRect();result.teTop\x3dMath.max(0,Math.min(display.wrapper.clientHeight-10,cm.top+lineOff.top-doc.top));result.teLeft\x3dMath.max(0,Math.min(display.wrapper.clientWidth-10,cm.left+lineOff.left-doc.left))}return result};\nTextareaInput.prototype.showSelection\x3dfunction(drawn){var display\x3dthis.cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);null!\x3ddrawn.teTop\x26\x26(this.wrapper.style.top\x3ddrawn.teTop+\x22px\x22,this.wrapper.style.left\x3ddrawn.teLeft+\x22px\x22)};TextareaInput.prototype.reset\x3dfunction(typing){if(!this.contextMenuPending\x26\x26!this.composing){var cm\x3dthis.cm;cm.somethingSelected()?(this.prevInput\x3d\x22\x22,typing\x3dcm.getSelection(),this.textarea.value\x3dtyping,\ncm.state.focused\x26\x26selectInput(this.textarea),ie\x26\x269\x3c\x3die_version\x26\x26(this.hasSelection\x3dtyping)):typing||(this.prevInput\x3dthis.textarea.value\x3d\x22\x22,ie\x26\x269\x3c\x3die_version\x26\x26(this.hasSelection\x3dnull))}};TextareaInput.prototype.getField\x3dfunction(){return this.textarea};TextareaInput.prototype.supportsTouch\x3dfunction(){return!1};TextareaInput.prototype.focus\x3dfunction(){if(\x22nocursor\x22!\x3dthis.cm.options.readOnly\x26\x26(!mobile||activeElt()!\x3dthis.textarea))try{this.textarea.focus()}catch(e){}};TextareaInput.prototype.blur\x3dfunction(){this.textarea.blur()};\nTextareaInput.prototype.resetPosition\x3dfunction(){this.wrapper.style.top\x3dthis.wrapper.style.left\x3d0};TextareaInput.prototype.receivedFocus\x3dfunction(){this.slowPoll()};TextareaInput.prototype.slowPoll\x3dfunction(){var this$1\x3dthis;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();this$1.cm.state.focused\x26\x26this$1.slowPoll()})};TextareaInput.prototype.fastPoll\x3dfunction(){function p(){input.poll()||missed?(input.pollingFast\x3d!1,input.slowPoll()):(missed\x3d!0,input.polling.set(60,\np))}var missed\x3d!1,input\x3dthis;input.pollingFast\x3d!0;input.polling.set(20,p)};TextareaInput.prototype.poll\x3dfunction(){var this$1\x3dthis,cm\x3dthis.cm,input\x3dthis.textarea,prevInput\x3dthis.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)\x26\x26!prevInput\x26\x26!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return!1;var text\x3dinput.value;if(text\x3d\x3dprevInput\x26\x26!cm.somethingSelected())return!1;if(ie\x26\x269\x3c\x3die_version\x26\x26this.hasSelection\x3d\x3d\x3dtext||mac\x26\x26/[\\uf700-\\uf7ff]/.test(text))return cm.display.input.reset(),\n!1;if(cm.doc.sel\x3d\x3dcm.display.selForContextMenu){var first\x3dtext.charCodeAt(0);8203!\x3dfirst||prevInput||(prevInput\x3d\x22\u200b\x22);if(8666\x3d\x3dfirst)return this.reset(),this.cm.execCommand(\x22undo\x22)}var same\x3d0;for(first\x3dMath.min(prevInput.length,text.length);same\x3cfirst\x26\x26prevInput.charCodeAt(same)\x3d\x3dtext.charCodeAt(same);)++same;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?\x22*compose\x22:null);1E3\x3ctext.length||-1\x3ctext.indexOf(\x22\\n\x22)?input.value\x3dthis$1.prevInput\x3d\x22\x22:this$1.prevInput\x3d\ntext;this$1.composing\x26\x26(this$1.composing.range.clear(),this$1.composing.range\x3dcm.markText(this$1.composing.start,cm.getCursor(\x22to\x22),{className:\x22CodeMirror-composing\x22}))});return!0};TextareaInput.prototype.ensurePolled\x3dfunction(){this.pollingFast\x26\x26this.poll()\x26\x26(this.pollingFast\x3d!1)};TextareaInput.prototype.onKeyPress\x3dfunction(){ie\x26\x269\x3c\x3die_version\x26\x26(this.hasSelection\x3dnull);this.fastPoll()};TextareaInput.prototype.onContextMenu\x3dfunction(e){function prepareSelectAllHack(){if(null!\x3dte.selectionStart){var selected\x3d\ncm.somethingSelected(),extval\x3d\x22\u200b\x22+(selected?te.value:\x22\x22);te.value\x3d\x22\u21da\x22;te.value\x3dextval;input.prevInput\x3dselected?\x22\x22:\x22\u200b\x22;te.selectionStart\x3d1;te.selectionEnd\x3dextval.length;display.selForContextMenu\x3dcm.doc.sel}}function rehide(){if(input.contextMenuPending\x3d\x3drehide\x26\x26(input.contextMenuPending\x3d!1,input.wrapper.style.cssText\x3doldWrapperCSS,te.style.cssText\x3doldCSS,ie\x26\x269\x3eie_version\x26\x26display.scrollbars.setScrollTop(display.scroller.scrollTop\x3dscrollPos),null!\x3dte.selectionStart)){(!ie||ie\x26\x269\x3eie_version)\x26\x26prepareSelectAllHack();\nvar i\x3d0,poll\x3dfunction(){display.selForContextMenu\x3d\x3dcm.doc.sel\x26\x260\x3d\x3dte.selectionStart\x26\x260\x3cte.selectionEnd\x26\x26\x22\u200b\x22\x3d\x3dinput.prevInput?operation(cm,selectAll)(cm):10\x3ei++?display.detectingSelectAll\x3dsetTimeout(poll,500):(display.selForContextMenu\x3dnull,display.input.reset())};display.detectingSelectAll\x3dsetTimeout(poll,200)}}var input\x3dthis,cm\x3dinput.cm,display\x3dcm.display,te\x3dinput.textarea;input.contextMenuPending\x26\x26input.contextMenuPending();var pos\x3dposFromMouse(cm,e),scrollPos\x3ddisplay.scroller.scrollTop;if(pos\x26\x26\n!presto){cm.options.resetSelectionOnContextMenu\x26\x26-1\x3d\x3dcm.doc.sel.contains(pos)\x26\x26operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS\x3dte.style.cssText,oldWrapperCSS\x3dinput.wrapper.style.cssText;pos\x3dinput.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText\x3d\x22position: static\x22;te.style.cssText\x3d\x22position: absolute; width: 30px; height: 30px;\\n      top: \x22+(e.clientY-pos.top-5)+\x22px; left: \x22+(e.clientX-pos.left-5)+\x22px;\\n      z-index: 1000; background: \x22+(ie?\n\x22rgba(255, 255, 255, .05)\x22:\x22transparent\x22)+\x22;\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\\x3d5);\x22;if(webkit)var oldScrollY\x3dwindow.scrollY;display.input.focus();webkit\x26\x26window.scrollTo(null,oldScrollY);display.input.reset();cm.somethingSelected()||(te.value\x3dinput.prevInput\x3d\x22 \x22);input.contextMenuPending\x3drehide;display.selForContextMenu\x3dcm.doc.sel;clearTimeout(display.detectingSelectAll);ie\x26\x269\x3c\x3die_version\x26\x26prepareSelectAllHack();if(captureRightClick){e_stop(e);\nvar mouseup\x3dfunction(){off$jscomp$0(window,\x22mouseup\x22,mouseup);setTimeout(rehide,20)};on$jscomp$0(window,\x22mouseup\x22,mouseup)}else setTimeout(rehide,50)}};TextareaInput.prototype.readOnlyChanged\x3dfunction(val){val||this.reset();this.textarea.disabled\x3d\x22nocursor\x22\x3d\x3dval;this.textarea.readOnly\x3d!!val};TextareaInput.prototype.setUneditable\x3dfunction(){};TextareaInput.prototype.needsContentAttribute\x3d!1;(function(CodeMirror){function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]\x3ddeflt;handle\x26\x26(optionHandlers[name]\x3d\nnotOnInit?function(cm,val,old){old!\x3dInit\x26\x26handle(cm,val,old)}:handle)}var optionHandlers\x3dCodeMirror.optionHandlers;CodeMirror.defineOption\x3doption;CodeMirror.Init\x3dInit;option(\x22value\x22,\x22\x22,function(cm,val){return cm.setValue(val)},!0);option(\x22mode\x22,null,function(cm,val){cm.doc.modeOption\x3dval;loadMode(cm)},!0);option(\x22indentUnit\x22,2,loadMode,!0);option(\x22indentWithTabs\x22,!1);option(\x22smartIndent\x22,!0);option(\x22tabSize\x22,4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},!0);option(\x22lineSeparator\x22,\nnull,function(cm,val){if(cm.doc.lineSep\x3dval){var newBreaks\x3d[],lineNo\x3dcm.doc.first;cm.doc.iter(function(line){for(var pos\x3d0;;){var found\x3dline.text.indexOf(val,pos);if(-1\x3d\x3dfound)break;pos\x3dfound+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i\x3dnewBreaks.length-1;0\x3c\x3di;i--)replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option(\x22specialChars\x22,/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g,function(cm,\nval,old){cm.state.specialChars\x3dnew RegExp(val.source+(val.test(\x22\\t\x22)?\x22\x22:\x22|\\t\x22),\x22g\x22);old!\x3dInit\x26\x26cm.refresh()});option(\x22specialCharPlaceholder\x22,defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},!0);option(\x22electricChars\x22,!0);option(\x22inputStyle\x22,mobile?\x22contenteditable\x22:\x22textarea\x22,function(){throw Error(\x22inputStyle can not (yet) be changed in a running editor\x22);},!0);option(\x22spellcheck\x22,!1,function(cm,val){return cm.getInputField().spellcheck\x3dval},!0);option(\x22autocorrect\x22,!1,function(cm,\nval){return cm.getInputField().autocorrect\x3dval},!0);option(\x22autocapitalize\x22,!1,function(cm,val){return cm.getInputField().autocapitalize\x3dval},!0);option(\x22rtlMoveVisually\x22,!windows);option(\x22wholeLineUpdateBefore\x22,!0);option(\x22theme\x22,\x22default\x22,function(cm){themeChanged(cm);updateGutters(cm)},!0);option(\x22keyMap\x22,\x22default\x22,function(cm,val,old){val\x3dgetKeyMap(val);(old\x3dold!\x3dInit\x26\x26getKeyMap(old))\x26\x26old.detach\x26\x26old.detach(cm,val);val.attach\x26\x26val.attach(cm,old||null)});option(\x22extraKeys\x22,null);option(\x22configureMouse\x22,\nnull);option(\x22lineWrapping\x22,!1,wrappingChanged,!0);option(\x22gutters\x22,[],function(cm,val){cm.display.gutterSpecs\x3dgetGutters(val,cm.options.lineNumbers);updateGutters(cm)},!0);option(\x22fixedGutter\x22,!0,function(cm,val){cm.display.gutters.style.left\x3dval?compensateForHScroll(cm.display)+\x22px\x22:\x220\x22;cm.refresh()},!0);option(\x22coverGutterNextToScrollbar\x22,!1,function(cm){return updateScrollbars(cm)},!0);option(\x22scrollbarStyle\x22,\x22native\x22,function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\ncm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0);option(\x22lineNumbers\x22,!1,function(cm,val){cm.display.gutterSpecs\x3dgetGutters(cm.options.gutters,val);updateGutters(cm)},!0);option(\x22firstLineNumber\x22,1,updateGutters,!0);option(\x22lineNumberFormatter\x22,function(integer){return integer},updateGutters,!0);option(\x22showCursorWhenSelecting\x22,!1,updateSelection,!0);option(\x22resetSelectionOnContextMenu\x22,!0);option(\x22lineWiseCopyCut\x22,!0);option(\x22pasteLinesPerSelection\x22,!0);option(\x22selectionsMayTouch\x22,!1);\noption(\x22readOnly\x22,!1,function(cm,val){\x22nocursor\x22\x3d\x3dval\x26\x26(onBlur(cm),cm.display.input.blur());cm.display.input.readOnlyChanged(val)});option(\x22screenReaderLabel\x22,null,function(cm,val){cm.display.input.screenReaderLabelChanged(\x22\x22\x3d\x3d\x3dval?null:val)});option(\x22disableInput\x22,!1,function(cm,val){val||cm.display.input.reset()},!0);option(\x22dragDrop\x22,!0,dragDropChanged);option(\x22allowDropFileTypes\x22,null);option(\x22cursorBlinkRate\x22,530);option(\x22cursorScrollMargin\x22,0);option(\x22cursorHeight\x22,1,updateSelection,!0);option(\x22singleCursorHeightPerLine\x22,\n!0,updateSelection,!0);option(\x22workTime\x22,100);option(\x22workDelay\x22,100);option(\x22flattenSpans\x22,!0,resetModeState,!0);option(\x22addModeClass\x22,!1,resetModeState,!0);option(\x22pollInterval\x22,100);option(\x22undoDepth\x22,200,function(cm,val){return cm.doc.history.undoDepth\x3dval});option(\x22historyEventDelay\x22,1250);option(\x22viewportMargin\x22,10,function(cm){return cm.refresh()},!0);option(\x22maxHighlightLength\x22,1E4,resetModeState,!0);option(\x22moveInputWithCursor\x22,!0,function(cm,val){val||cm.display.input.resetPosition()});\noption(\x22tabindex\x22,null,function(cm,val){return cm.display.input.getField().tabIndex\x3dval||\x22\x22});option(\x22autofocus\x22,null);option(\x22direction\x22,\x22ltr\x22,function(cm,val){return cm.doc.setDirection(val)},!0);option(\x22phrases\x22,null)})(CodeMirror$jscomp$0);(function(CodeMirror){var optionHandlers\x3dCodeMirror.optionHandlers,helpers\x3dCodeMirror.helpers\x3d{};CodeMirror.prototype\x3d{constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options\x3dthis.options,\nold\x3doptions[option];if(options[option]!\x3dvalue||\x22mode\x22\x3d\x3doption)options[option]\x3dvalue,optionHandlers.hasOwnProperty(option)\x26\x26operation(this,optionHandlers[option])(this,value,old),signal(this,\x22optionChange\x22,this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?\x22push\x22:\x22unshift\x22](getKeyMap(map))},removeKeyMap:function(map){for(var maps\x3dthis.state.keyMaps,i\x3d0;i\x3cmaps.length;++i)if(maps[i]\x3d\x3dmap||maps[i].name\x3d\x3d\nmap)return maps.splice(i,1),!0},addOverlay:methodOp(function(spec,options){var mode\x3dspec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw Error(\x22Overlays may not be stateful.\x22);insertSorted(this.state.overlays,{mode,modeSpec:spec,opaque:options\x26\x26options.opaque,priority:options\x26\x26options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){for(var overlays\x3dthis.state.overlays,i\x3d0;i\x3coverlays.length;++i){var cur\x3d\noverlays[i].modeSpec;if(cur\x3d\x3dspec||\x22string\x22\x3d\x3dtypeof spec\x26\x26cur.name\x3d\x3dspec){overlays.splice(i,1);this.state.modeGen++;regChange(this);break}}}),indentLine:methodOp(function(n,dir,aggressive){\x22string\x22!\x3dtypeof dir\x26\x26\x22number\x22!\x3dtypeof dir\x26\x26(dir\x3dnull\x3d\x3ddir?this.options.smartIndent?\x22smart\x22:\x22prev\x22:dir?\x22add\x22:\x22subtract\x22);isLine(this.doc,n)\x26\x26indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){for(var ranges\x3dthis.doc.sel.ranges,end\x3d-1,i\x3d0;i\x3cranges.length;i++){var range\x3dranges[i];if(range.empty())range.head.line\x3e\nend\x26\x26(indentLine(this,range.head.line,how,!0),end\x3drange.head.line,i\x3d\x3dthis.doc.sel.primIndex\x26\x26ensureCursorVisible(this));else{var from\x3drange.from();range\x3drange.to();var start\x3dMath.max(end,from.line);end\x3dMath.min(this.lastLine(),range.line-(range.ch?0:1))+1;for(range\x3dstart;range\x3cend;++range)indentLine(this,range,how);range\x3dthis.doc.sel.ranges;0\x3d\x3dfrom.ch\x26\x26ranges.length\x3d\x3drange.length\x26\x260\x3crange[i].from().ch\x26\x26replaceOneSelection(this.doc,i,new Range(from,range[i].to()),sel_dontScroll)}}}),getTokenAt:function(pos,\nprecise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos\x3dclipPos(this.doc,pos);var styles\x3dgetLineStyles(this,getLine(this.doc,pos.line)),before\x3d0,after\x3d(styles.length-1)/2;pos\x3dpos.ch;if(0\x3d\x3dpos)styles\x3dstyles[2];else for(;;){var mid\x3dbefore+after\x3e\x3e1;if((mid?styles[2*mid-1]:0)\x3e\x3dpos)after\x3dmid;else if(styles[2*mid+1]\x3cpos)before\x3dmid+1;else{styles\x3dstyles[2*mid+2];break}}before\x3dstyles?styles.indexOf(\x22overlay \x22):\n-1;return 0\x3ebefore?styles:0\x3d\x3dbefore?null:styles.slice(0,before-1)},getModeAt:function(pos){var mode\x3dthis.doc.mode;return mode.innerMode?CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode:mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found\x3d[];if(!helpers.hasOwnProperty(type))return found;var help\x3dhelpers[type];pos\x3dthis.getModeAt(pos);if(\x22string\x22\x3d\x3dtypeof pos[type])help[pos[type]]\x26\x26found.push(help[pos[type]]);else if(pos[type])for(var i\x3d\n0;i\x3cpos[type].length;i++){var val\x3dhelp[pos[type][i]];val\x26\x26found.push(val)}else pos.helperType\x26\x26help[pos.helperType]?found.push(help[pos.helperType]):help[pos.name]\x26\x26found.push(help[pos.name]);for(type\x3d0;type\x3chelp._global.length;type++)i\x3dhelp._global[type],i.pred(pos,this)\x26\x26-1\x3d\x3dindexOf(found,i.val)\x26\x26found.push(i.val);return found},getStateAfter:function(line,precise){var doc\x3dthis.doc;line\x3dMath.max(doc.first,Math.min(null\x3d\x3dline?doc.first+doc.size-1:line,doc.first+doc.size-1));return getContextBefore(this,\nline+1,precise).state},cursorCoords:function(start,mode){var range\x3dthis.doc.sel.primary();start\x3dnull\x3d\x3dstart?range.head:\x22object\x22\x3d\x3dtypeof start?clipPos(this.doc,start):start?range.from():range.to();return cursorCoords(this,start,mode||\x22page\x22)},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||\x22page\x22)},coordsChar:function(coords,mode){coords\x3dfromCoordSystem(this,coords,mode||\x22page\x22);return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height\x3d\nfromCoordSystem(this,{top:height,left:0},mode||\x22page\x22).top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end\x3d!1;if(\x22number\x22\x3d\x3dtypeof line){var last\x3dthis.doc.first+this.doc.size-1;line\x3cthis.doc.first?line\x3dthis.doc.first:line\x3elast\x26\x26(line\x3dlast,end\x3d!0);line\x3dgetLine(this.doc,line)}return intoCoordSystem(this,line,{top:0,left:0},mode||\x22page\x22,includeWidgets||end).top+(end?this.doc.height-heightAtLine(line):0)},defaultTextHeight:function(){return textHeight(this.display)},\ndefaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display\x3dthis.display;pos\x3dcursorCoords(this,clipPos(this.doc,pos));var top\x3dpos.bottom,left\x3dpos.left;node.style.position\x3d\x22absolute\x22;node.setAttribute(\x22cm-ignore-events\x22,\x22true\x22);this.display.input.setUneditable(node);display.sizer.appendChild(node);if(\x22over\x22\x3d\x3dvert)top\x3dpos.top;else if(\x22above\x22\x3d\x3dvert||\x22near\x22\x3d\x3dvert){var vspace\x3d\nMath.max(display.wrapper.clientHeight,this.doc.height),hspace\x3dMath.max(display.sizer.clientWidth,display.lineSpace.clientWidth);(\x22above\x22\x3d\x3dvert||pos.bottom+node.offsetHeight\x3evspace)\x26\x26pos.top\x3enode.offsetHeight?top\x3dpos.top-node.offsetHeight:pos.bottom+node.offsetHeight\x3c\x3dvspace\x26\x26(top\x3dpos.bottom);left+node.offsetWidth\x3ehspace\x26\x26(left\x3dhspace-node.offsetWidth)}node.style.top\x3dtop+\x22px\x22;node.style.left\x3dnode.style.right\x3d\x22\x22;\x22right\x22\x3d\x3dhoriz?(left\x3ddisplay.sizer.clientWidth-node.offsetWidth,node.style.right\x3d\x220px\x22):\n(\x22left\x22\x3d\x3dhoriz?left\x3d0:\x22middle\x22\x3d\x3dhoriz\x26\x26(left\x3d(display.sizer.clientWidth-node.offsetWidth)/2),node.style.left\x3dleft+\x22px\x22);scroll\x26\x26(pos\x3dcalculateScrollPos(this,{left,top,right:left+node.offsetWidth,bottom:top+node.offsetHeight}),null!\x3dpos.scrollTop\x26\x26updateScrollTop(this,pos.scrollTop),null!\x3dpos.scrollLeft\x26\x26setScrollLeft(this,pos.scrollLeft))},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,\nthis)},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var dir\x3d1;0\x3eamount\x26\x26(dir\x3d-1,amount\x3d-amount);from\x3dclipPos(this.doc,from);for(var i\x3d0;i\x3camount\x26\x26(from\x3dfindPosH(this.doc,from,dir,unit,visually),!from.hitSide);++i);return from},moveH:methodOp(function(dir,unit){var this$1\x3dthis;this.extendSelectionsBy(function(range){return this$1.display.shift||this$1.doc.extend||range.empty()?findPosH(this$1.doc,range.head,dir,unit,this$1.options.rtlMoveVisually):\n0\x3edir?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var doc\x3dthis.doc;this.doc.sel.somethingSelected()?doc.replaceSelection(\x22\x22,null,\x22+delete\x22):deleteNearSelection(this,function(range){var other\x3dfindPosH(doc,range.head,dir,unit,!1);return 0\x3edir?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir\x3d1;0\x3eamount\x26\x26(dir\x3d-1,amount\x3d-amount);var cur\x3dclipPos(this.doc,from);for(from\x3d0;from\x3camount\x26\x26(cur\x3dcursorCoords(this,cur,\n\x22div\x22),null\x3d\x3dgoalColumn?goalColumn\x3dcur.left:cur.left\x3dgoalColumn,cur\x3dfindPosV(this,cur,dir,unit),!cur.hitSide);++from);return cur},moveV:methodOp(function(dir,unit){var this$1\x3dthis,doc\x3dthis.doc,goals\x3d[],collapse\x3d!this.display.shift\x26\x26!doc.extend\x26\x26doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return 0\x3edir?range.from():range.to();var headPos\x3dcursorCoords(this$1,range.head,\x22div\x22);null!\x3drange.goalColumn\x26\x26(headPos.left\x3drange.goalColumn);goals.push(headPos.left);var pos\x3dfindPosV(this$1,\nheadPos,dir,unit);\x22page\x22\x3d\x3dunit\x26\x26range\x3d\x3ddoc.sel.primary()\x26\x26addToScrollTop(this$1,charCoords(this$1,pos,\x22div\x22).top-headPos.top);return pos},sel_move);if(goals.length)for(var i\x3d0;i\x3cdoc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn\x3dgoals[i]}),findWordAt:function(pos){var line\x3dgetLine(this.doc,pos.line).text,start\x3dpos.ch,end\x3dpos.ch;if(line){var helper\x3dthis.getHelper(pos,\x22wordChars\x22);\x22before\x22!\x3dpos.sticky\x26\x26end!\x3dline.length||!start?++end:--start;var startChar\x3dline.charAt(start);for(startChar\x3disWordChar(startChar,\nhelper)?function(ch){return isWordChar(ch,helper)}:/\\s/.test(startChar)?function(ch){return/\\s/.test(ch)}:function(ch){return!/\\s/.test(ch)\x26\x26!isWordChar(ch)};0\x3cstart\x26\x26startChar(line.charAt(start-1));)--start;for(;end\x3cline.length\x26\x26startChar(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(null\x3d\x3dvalue||value!\x3dthis.state.overwrite)(this.state.overwrite\x3d!this.state.overwrite)?addClass(this.display.cursorDiv,\x22CodeMirror-overwrite\x22):rmClass(this.display.cursorDiv,\n\x22CodeMirror-overwrite\x22),signal(this,\x22overwriteToggle\x22,this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()\x3d\x3dactiveElt()},isReadOnly:function(){return!(!this.options.readOnly\x26\x26!this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller\x3dthis.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-\nthis.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){null\x3d\x3drange?(range\x3d{from:this.doc.sel.primary().head,to:null},null\x3d\x3dmargin\x26\x26(margin\x3dthis.options.cursorScrollMargin)):\x22number\x22\x3d\x3dtypeof range?range\x3d{from:Pos(range,0),to:null}:null\x3d\x3drange.from\x26\x26(range\x3d{from:range,to:null});range.to||(range.to\x3drange.from);range.margin\x3dmargin||0;null!\x3drange.from.line?(resolveScrollToPos(this),this.curOp.scrollToPos\x3drange):scrollToCoordsRange(this,\nrange.from,range.to,range.margin)}),setSize:methodOp(function(width,height){var this$1\x3dthis,interpret\x3dfunction(val){return\x22number\x22\x3d\x3dtypeof val||/^\\d+$/.test(String(val))?val+\x22px\x22:val};null!\x3dwidth\x26\x26(this.display.wrapper.style.width\x3dinterpret(width));null!\x3dheight\x26\x26(this.display.wrapper.style.height\x3dinterpret(height));this.options.lineWrapping\x26\x26clearLineMeasurementCache(this);var lineNo\x3dthis.display.viewFrom;this.doc.iter(lineNo,this.display.viewTo,function(line){if(line.widgets)for(var i\x3d0;i\x3cline.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(this$1,\nlineNo,\x22widget\x22);break}++lineNo});this.curOp.forceUpdate\x3d!0;signal(this,\x22refresh\x22,this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight\x3dthis.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate\x3d!0;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);(null\x3d\x3doldHeight||.5\x3cMath.abs(oldHeight-\ntextHeight(this.display))||this.options.lineWrapping)\x26\x26estimateLineHeights(this);signal(this,\x22refresh\x22,this)}),swapDoc:methodOp(function(doc){var old\x3dthis.doc;old.cm\x3dnull;this.state.selectingText\x26\x26this.state.selectingText();attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll\x3d!0;signalLater(this,\x22swapDoc\x22,this,old);return old}),phrase:function(phraseText){var phrases\x3dthis.options.phrases;return phrases\x26\x26Object.prototype.hasOwnProperty.call(phrases,\nphraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper\x3dfunction(type,name,value){helpers.hasOwnProperty(type)||(helpers[type]\x3dCodeMirror[type]\x3d{_global:[]});helpers[type][name]\x3dvalue};CodeMirror.registerGlobalHelper\x3dfunction(type,\nname,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}})(CodeMirror$jscomp$0);var dontDelegate\x3d\x22iter insert remove copy getEditor constructor\x22.split(\x22 \x22),prop$jscomp$0;for(prop$jscomp$0 in Doc.prototype)Doc.prototype.hasOwnProperty(prop$jscomp$0)\x26\x260\x3eindexOf(dontDelegate,prop$jscomp$0)\x26\x26(CodeMirror$jscomp$0.prototype[prop$jscomp$0]\x3dfunction(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop$jscomp$0]));\neventMixin(Doc);CodeMirror$jscomp$0.inputStyles\x3d{textarea:TextareaInput,contenteditable:ContentEditableInput};CodeMirror$jscomp$0.defineMode\x3dfunction(name){CodeMirror$jscomp$0.defaults.mode||\x22null\x22\x3d\x3dname||(CodeMirror$jscomp$0.defaults.mode\x3dname);defineMode.apply(this,arguments)};CodeMirror$jscomp$0.defineMIME\x3dfunction(mime,spec){mimeModes[mime]\x3dspec};CodeMirror$jscomp$0.defineMode(\x22null\x22,function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror$jscomp$0.defineMIME(\x22text/plain\x22,\n\x22null\x22);CodeMirror$jscomp$0.defineExtension\x3dfunction(name,func){CodeMirror$jscomp$0.prototype[name]\x3dfunc};CodeMirror$jscomp$0.defineDocExtension\x3dfunction(name,func){Doc.prototype[name]\x3dfunc};CodeMirror$jscomp$0.fromTextArea\x3dfunction(textarea,options){function save(){textarea.value\x3dcm$jscomp$0.getValue()}options\x3doptions?copyObj(options):{};options.value\x3dtextarea.value;!options.tabindex\x26\x26textarea.tabIndex\x26\x26(options.tabindex\x3dtextarea.tabIndex);!options.placeholder\x26\x26textarea.placeholder\x26\x26(options.placeholder\x3d\ntextarea.placeholder);if(null\x3d\x3doptions.autofocus){var hasFocus\x3dactiveElt();options.autofocus\x3dhasFocus\x3d\x3dtextarea||null!\x3dtextarea.getAttribute(\x22autofocus\x22)\x26\x26hasFocus\x3d\x3ddocument.body}if(textarea.form\x26\x26(on$jscomp$0(textarea.form,\x22submit\x22,save),!options.leaveSubmitMethodAlone)){var form\x3dtextarea.form;var realSubmit\x3dform.submit;try{var wrappedSubmit\x3dform.submit\x3dfunction(){save();form.submit\x3drealSubmit;form.submit();form.submit\x3dwrappedSubmit}}catch(e){}}options.finishInit\x3dfunction(cm){cm.save\x3dsave;cm.getTextArea\x3d\nfunction(){return textarea};cm.toTextArea\x3dfunction(){cm.toTextArea\x3disNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display\x3d\x22\x22;textarea.form\x26\x26(off$jscomp$0(textarea.form,\x22submit\x22,save),options.leaveSubmitMethodAlone||\x22function\x22!\x3dtypeof textarea.form.submit||(textarea.form.submit\x3drealSubmit))}};textarea.style.display\x3d\x22none\x22;var cm$jscomp$0\x3dCodeMirror$jscomp$0(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm$jscomp$0};\n(function(CodeMirror){CodeMirror.off\x3doff$jscomp$0;CodeMirror.on\x3don$jscomp$0;CodeMirror.wheelEventPixels\x3dwheelEventPixels;CodeMirror.Doc\x3dDoc;CodeMirror.splitLines\x3dsplitLinesAuto;CodeMirror.countColumn\x3dcountColumn;CodeMirror.findColumn\x3dfindColumn;CodeMirror.isWordChar\x3disWordCharBasic;CodeMirror.Pass\x3dPass;CodeMirror.signal\x3dsignal;CodeMirror.Line\x3dLine;CodeMirror.changeEnd\x3dchangeEnd;CodeMirror.scrollbarModel\x3dscrollbarModel;CodeMirror.Pos\x3dPos;CodeMirror.cmpPos\x3dcmp;CodeMirror.modes\x3dmodes;CodeMirror.mimeModes\x3d\nmimeModes;CodeMirror.resolveMode\x3dresolveMode;CodeMirror.getMode\x3dgetMode;CodeMirror.modeExtensions\x3dmodeExtensions;CodeMirror.extendMode\x3dextendMode;CodeMirror.copyState\x3dcopyState;CodeMirror.startState\x3dstartState;CodeMirror.innerMode\x3dinnerMode;CodeMirror.commands\x3dcommands;CodeMirror.keyMap\x3dkeyMap;CodeMirror.keyName\x3dkeyName;CodeMirror.isModifierKey\x3disModifierKey;CodeMirror.lookupKey\x3dlookupKey;CodeMirror.normalizeKeyMap\x3dnormalizeKeyMap;CodeMirror.StringStream\x3dStringStream;CodeMirror.SharedTextMarker\x3dSharedTextMarker;\nCodeMirror.TextMarker\x3dTextMarker;CodeMirror.LineWidget\x3dLineWidget;CodeMirror.e_preventDefault\x3de_preventDefault;CodeMirror.e_stopPropagation\x3de_stopPropagation;CodeMirror.e_stop\x3de_stop;CodeMirror.addClass\x3daddClass;CodeMirror.contains\x3dcontains;CodeMirror.rmClass\x3drmClass;CodeMirror.keyNames\x3dkeyNames})(CodeMirror$jscomp$0);CodeMirror$jscomp$0.version\x3d\x225.59.4\x22;return CodeMirror$jscomp$0})}");
SHADOW_ENV.evalLoad("module$node_modules$codemirror$mode$clojure$clojure.js", true , "shadow$provide.module$node_modules$codemirror$mode$clojure$clojure\x3dfunction(global,require,module,exports){(function(mod){\x22object\x22\x3d\x3d\x3dtypeof exports\x26\x26\x22object\x22\x3d\x3d\x3dtypeof module?mod(require(\x22module$node_modules$codemirror$lib$codemirror\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22../../lib/codemirror\x22],mod):mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode(\x22clojure\x22,function(options){function base(stream,state){if(stream.eatSpace()||stream.eat(\x22,\x22))return[\x22space\x22,null];if(stream.match(numberLiteral))return[null,\n\x22number\x22];if(stream.match(characterLiteral))return[null,\x22string-2\x22];if(stream.eat(/^\x22/))return(state.tokenize\x3dinString)(stream,state);if(stream.eat(/^[(\\[{]/))return[\x22open\x22,\x22bracket\x22];if(stream.eat(/^[)\\]}]/))return[\x22close\x22,\x22bracket\x22];if(stream.eat(/^;/))return stream.skipToEnd(),[\x22space\x22,\x22comment\x22];if(stream.eat(/^[#\x27@^`~]/))return[null,\x22meta\x22];var matches\x3dstream.match(qualifiedSymbol);matches\x3dmatches\x26\x26matches[0];return matches?\x22comment\x22\x3d\x3d\x3dmatches\x26\x26\x22(\x22\x3d\x3d\x3dstate.lastToken?(state.tokenize\x3dinComment)(stream,\nstate):is(matches,atom)||\x22:\x22\x3d\x3d\x3dmatches.charAt(0)?[\x22symbol\x22,\x22atom\x22]:is(matches,specialForm)||is(matches,coreSymbol)?[\x22symbol\x22,\x22keyword\x22]:\x22(\x22\x3d\x3d\x3dstate.lastToken?[\x22symbol\x22,\x22builtin\x22]:[\x22symbol\x22,\x22variable\x22]:(stream.next(),stream.eatWhile(function(c){return!is(c,delimiter)}),[null,\x22error\x22])}function inString(stream,state){for(var escaped\x3d!1,next;next\x3dstream.next();){if(\x27\x22\x27\x3d\x3d\x3dnext\x26\x26!escaped){state.tokenize\x3dbase;break}escaped\x3d!escaped\x26\x26\x22\\\\\x22\x3d\x3d\x3dnext}return[null,\x22string\x22]}function inComment(stream,state){for(var parenthesisCount\x3d\n1,next;next\x3dstream.next();)if(\x22)\x22\x3d\x3d\x3dnext\x26\x26parenthesisCount--,\x22(\x22\x3d\x3d\x3dnext\x26\x26parenthesisCount++,0\x3d\x3d\x3dparenthesisCount){stream.backUp(1);state.tokenize\x3dbase;break}return[\x22space\x22,\x22comment\x22]}function createLookupMap(words){for(var obj\x3d{},i\x3d0;i\x3cwords.length;++i)obj[words[i]]\x3d!0;return obj}function is(value,test){if(test instanceof RegExp)return test.test(value);if(test instanceof Object)return test.propertyIsEnumerable(value)}var atoms\x3d[\x22false\x22,\x22nil\x22,\x22true\x22],specialForms\x3d\x22. catch def do if monitor-enter monitor-exit new quote recur set! throw try var\x22.split(\x22 \x22),\ncoreSymbols\x3d\x22* *\x27 *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +\x27 - -\x27 -\\x3e -\\x3e\\x3e -\\x3eArrayChunk -\\x3eEduction -\\x3eVec -\\x3eVecNode -\\x3eVecSeq -cache-protocol-fn -reset-methods .. / \\x3c \\x3c\\x3d \\x3d \\x3d\\x3d \\x3e \\x3e\\x3d EMPTY-NODE Inst StackTraceElement-\\x3evec Throwable-\\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\\x3e cond-\\x3e\\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec\x27 decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc\x27 indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\\x3e some-\\x3e\\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap\x22.split(\x22 \x22);\nCodeMirror.registerHelper(\x22hintWords\x22,\x22clojure\x22,[].concat(atoms,specialForms,coreSymbols));var atom\x3dcreateLookupMap(atoms),specialForm\x3dcreateLookupMap(specialForms),coreSymbol\x3dcreateLookupMap(coreSymbols),hasBodyParameter\x3dcreateLookupMap(\x22-\\x3e -\\x3e\\x3e as-\\x3e binding bound-fn case catch comment cond cond-\\x3e cond-\\x3e\\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\\x3e some-\\x3e\\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn\x22.split(\x22 \x22)),\ndelimiter\x3d/^(?:[\\\\\\[\\]\\s\x22(),;@^`{}~]|$)/,numberLiteral\x3d/^(?:[+\\-]?\\d+(?:(?:N|(?:[eE][+\\-]?\\d+))|(?:\\.?\\d*(?:M|(?:[eE][+\\-]?\\d+))?)|\\/\\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?\x3d[\\\\\\[\\]\\s\x22#\x27(),;@^`{}~]|$))/,characterLiteral\x3d/^(?:\\\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?\x3d[\\\\\\[\\]\\s\x22(),;@^`{}~]|$))/,qualifiedSymbol\x3d/^(?:(?:[^\\\\\\/\\[\\]\\d\\s\x22#\x27(),;@^`{}~.][^\\\\\\[\\]\\s\x22(),;@^`{}~.\\/]*(?:\\.[^\\\\\\/\\[\\]\\d\\s\x22#\x27(),;@^`{}~.][^\\\\\\[\\]\\s\x22(),;@^`{}~.\\/]*)*\\/)?(?:\\/|[^\\\\\\/\\[\\]\\d\\s\x22#\x27(),;@^`{}~][^\\\\\\[\\]\\s\x22(),;@^`{}~]*)*(?\x3d[\\\\\\[\\]\\s\x22(),;@^`{}~]|$))/;\nreturn{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:base}},token:function(stream,state){stream.sol()\x26\x26\x22number\x22!\x3d\x3dtypeof state.ctx.indentTo\x26\x26(state.ctx.indentTo\x3dstate.ctx.start+1);var typeStylePair\x3dstate.tokenize(stream,state),type\x3dtypeStylePair[0];typeStylePair\x3dtypeStylePair[1];var current\x3dstream.current();\x22space\x22!\x3d\x3dtype\x26\x26(\x22(\x22\x3d\x3d\x3dstate.lastToken\x26\x26null\x3d\x3d\x3dstate.ctx.indentTo?\x22symbol\x22\x3d\x3d\x3dtype\x26\x26is(current,hasBodyParameter)?state.ctx.indentTo\x3dstate.ctx.start+options.indentUnit:\nstate.ctx.indentTo\x3d\x22next\x22:\x22next\x22\x3d\x3d\x3dstate.ctx.indentTo\x26\x26(state.ctx.indentTo\x3dstream.column()),state.lastToken\x3dcurrent);\x22open\x22\x3d\x3d\x3dtype?state.ctx\x3d{prev:state.ctx,start:stream.column(),indentTo:null}:\x22close\x22\x3d\x3d\x3dtype\x26\x26(state.ctx\x3dstate.ctx.prev||state.ctx);return typeStylePair},indent:function(state){var i\x3dstate.ctx.indentTo;return\x22number\x22\x3d\x3d\x3dtypeof i?i:state.ctx.start+1},closeBrackets:{pairs:\x27()[]{}\x22\x22\x27},lineComment:\x22;;\x22}});CodeMirror.defineMIME(\x22text/x-clojure\x22,\x22clojure\x22);CodeMirror.defineMIME(\x22text/x-clojurescript\x22,\n\x22clojure\x22);CodeMirror.defineMIME(\x22application/edn\x22,\x22clojure\x22)})}");
SHADOW_ENV.evalLoad("org.browjure.codemirror.base.js", true , "goog.provide(\x27org.browjure.codemirror.base\x27);\nvar module$node_modules$codemirror$lib$codemirror\x3dshadow.js.require(\x22module$node_modules$codemirror$lib$codemirror\x22, {});\nvar module$node_modules$codemirror$mode$clojure$clojure\x3dshadow.js.require(\x22module$node_modules$codemirror$mode$clojure$clojure\x22, {});\norg.browjure.codemirror.base.embed_simple_clojure_src \x3d (function org$browjure$codemirror$base$embed_simple_clojure_src(style,content){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22div\x22,\x22div\x22,1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22style\x22,\x22style\x22,-496642736),\x22/* BASICS */\\n\\n.CodeMirror {\\n  /* Set height, width, borders, and global font properties here */\\n  font-family: monospace;\\n  height: 300px;\\n  color: black;\\n  direction: ltr;\\n}\\n\\n/* PADDING */\\n\\n.CodeMirror-lines {\\n  padding: 4px 0; /* Vertical padding around content */\\n}\\n.CodeMirror pre.CodeMirror-line,\\n.CodeMirror pre.CodeMirror-line-like {\\n  padding: 0 4px; /* Horizontal padding of content */\\n}\\n\\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\\n  background-color: white; /* The little square between H and V scrollbars */\\n}\\n\\n/* GUTTER */\\n\\n.CodeMirror-gutters {\\n  border-right: 1px solid #ddd;\\n  background-color: #f7f7f7;\\n  white-space: nowrap;\\n}\\n.CodeMirror-linenumbers {}\\n.CodeMirror-linenumber {\\n  padding: 0 3px 0 5px;\\n  min-width: 20px;\\n  text-align: right;\\n  color: #999;\\n  white-space: nowrap;\\n}\\n\\n.CodeMirror-guttermarker { color: black; }\\n.CodeMirror-guttermarker-subtle { color: #999; }\\n\\n/* CURSOR */\\n\\n.CodeMirror-cursor {\\n  border-left: 1px solid black;\\n  border-right: none;\\n  width: 0;\\n}\\n/* Shown when moving in bi-directional text */\\n.CodeMirror div.CodeMirror-secondarycursor {\\n  border-left: 1px solid silver;\\n}\\n.cm-fat-cursor .CodeMirror-cursor {\\n  width: auto;\\n  border: 0 !important;\\n  background: #7e7;\\n}\\n.cm-fat-cursor div.CodeMirror-cursors {\\n  z-index: 1;\\n}\\n.cm-fat-cursor-mark {\\n  background-color: rgba(20, 255, 20, 0.5);\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  -moz-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n}\\n.cm-animate-fat-cursor {\\n  width: auto;\\n  border: 0;\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  -moz-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n  background-color: #7e7;\\n}\\n@-moz-keyframes blink {\\n  0% {}\\n  50% { background-color: transparent; }\\n  100% {}\\n}\\n@-webkit-keyframes blink {\\n  0% {}\\n  50% { background-color: transparent; }\\n  100% {}\\n}\\n@keyframes blink {\\n  0% {}\\n  50% { background-color: transparent; }\\n  100% {}\\n}\\n\\n/* Can style cursor different in overwrite (non-insert) mode */\\n.CodeMirror-overwrite .CodeMirror-cursor {}\\n\\n.cm-tab { display: inline-block; text-decoration: inherit; }\\n\\n.CodeMirror-rulers {\\n  position: absolute;\\n  left: 0; right: 0; top: -50px; bottom: 0;\\n  overflow: hidden;\\n}\\n.CodeMirror-ruler {\\n  border-left: 1px solid #ccc;\\n  top: 0; bottom: 0;\\n  position: absolute;\\n}\\n\\n/* DEFAULT THEME */\\n\\n.cm-s-default .cm-header {color: blue;}\\n.cm-s-default .cm-quote {color: #090;}\\n.cm-negative {color: #d44;}\\n.cm-positive {color: #292;}\\n.cm-header, .cm-strong {font-weight: bold;}\\n.cm-em {font-style: italic;}\\n.cm-link {text-decoration: underline;}\\n.cm-strikethrough {text-decoration: line-through;}\\n\\n.cm-s-default .cm-keyword {color: #708;}\\n.cm-s-default .cm-atom {color: #219;}\\n.cm-s-default .cm-number {color: #164;}\\n.cm-s-default .cm-def {color: #00f;}\\n.cm-s-default .cm-variable,\\n.cm-s-default .cm-punctuation,\\n.cm-s-default .cm-property,\\n.cm-s-default .cm-operator {}\\n.cm-s-default .cm-variable-2 {color: #05a;}\\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\\n.cm-s-default .cm-comment {color: #a50;}\\n.cm-s-default .cm-string {color: #a11;}\\n.cm-s-default .cm-string-2 {color: #f50;}\\n.cm-s-default .cm-meta {color: #555;}\\n.cm-s-default .cm-qualifier {color: #555;}\\n.cm-s-default .cm-builtin {color: #30a;}\\n.cm-s-default .cm-bracket {color: #997;}\\n.cm-s-default .cm-tag {color: #170;}\\n.cm-s-default .cm-attribute {color: #00c;}\\n.cm-s-default .cm-hr {color: #999;}\\n.cm-s-default .cm-link {color: #00c;}\\n\\n.cm-s-default .cm-error {color: #f00;}\\n.cm-invalidchar {color: #f00;}\\n\\n.CodeMirror-composing { border-bottom: 2px solid; }\\n\\n/* Default styles for common addons */\\n\\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\\n.CodeMirror-activeline-background {background: #e8f2ff;}\\n\\n/* STOP */\\n\\n/* The rest of this file contains styles related to the mechanics of\\n   the editor. You probably shouldn\x27t touch them. */\\n\\n.CodeMirror {\\n  position: relative;\\n  overflow: hidden;\\n  background: white;\\n}\\n\\n.CodeMirror-scroll {\\n  overflow: scroll !important; /* Things will break if this is overridden */\\n  /* 30px is the magic margin used to hide the element\x27s real scrollbars */\\n  /* See overflow: hidden in .CodeMirror */\\n  margin-bottom: -30px; margin-right: -30px;\\n  padding-bottom: 30px;\\n  height: 100%;\\n  outline: none; /* Prevent dragging from highlighting the element */\\n  position: relative;\\n}\\n.CodeMirror-sizer {\\n  position: relative;\\n  border-right: 30px solid transparent;\\n}\\n\\n/* The fake, visible scrollbars. Used to force redraw during scrolling\\n   before actual scrolling happens, thus preventing shaking and\\n   flickering artifacts. */\\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\\n  position: absolute;\\n  z-index: 6;\\n  display: none;\\n}\\n.CodeMirror-vscrollbar {\\n  right: 0; top: 0;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n}\\n.CodeMirror-hscrollbar {\\n  bottom: 0; left: 0;\\n  overflow-y: hidden;\\n  overflow-x: scroll;\\n}\\n.CodeMirror-scrollbar-filler {\\n  right: 0; bottom: 0;\\n}\\n.CodeMirror-gutter-filler {\\n  left: 0; bottom: 0;\\n}\\n\\n.CodeMirror-gutters {\\n  position: absolute; left: 0; top: 0;\\n  min-height: 100%;\\n  z-index: 3;\\n}\\n.CodeMirror-gutter {\\n  white-space: normal;\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  margin-bottom: -30px;\\n}\\n.CodeMirror-gutter-wrapper {\\n  position: absolute;\\n  z-index: 4;\\n  background: none !important;\\n  border: none !important;\\n}\\n.CodeMirror-gutter-background {\\n  position: absolute;\\n  top: 0; bottom: 0;\\n  z-index: 4;\\n}\\n.CodeMirror-gutter-elt {\\n  position: absolute;\\n  cursor: default;\\n  z-index: 4;\\n}\\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\\n\\n.CodeMirror-lines {\\n  cursor: text;\\n  min-height: 1px; /* prevents collapsing before first draw */\\n}\\n.CodeMirror pre.CodeMirror-line,\\n.CodeMirror pre.CodeMirror-line-like {\\n  /* Reset some styles that the rest of the page might have set */\\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\\n  border-width: 0;\\n  background: transparent;\\n  font-family: inherit;\\n  font-size: inherit;\\n  margin: 0;\\n  white-space: pre;\\n  word-wrap: normal;\\n  line-height: inherit;\\n  color: inherit;\\n  z-index: 2;\\n  position: relative;\\n  overflow: visible;\\n  -webkit-tap-highlight-color: transparent;\\n  -webkit-font-variant-ligatures: contextual;\\n  font-variant-ligatures: contextual;\\n}\\n.CodeMirror-wrap pre.CodeMirror-line,\\n.CodeMirror-wrap pre.CodeMirror-line-like {\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  word-break: normal;\\n}\\n\\n.CodeMirror-linebackground {\\n  position: absolute;\\n  left: 0; right: 0; top: 0; bottom: 0;\\n  z-index: 0;\\n}\\n\\n.CodeMirror-linewidget {\\n  position: relative;\\n  z-index: 2;\\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\\n}\\n\\n.CodeMirror-widget {}\\n\\n.CodeMirror-rtl pre { direction: rtl; }\\n\\n.CodeMirror-code {\\n  outline: none;\\n}\\n\\n/* Force content-box sizing for the elements where we expect it */\\n.CodeMirror-scroll,\\n.CodeMirror-sizer,\\n.CodeMirror-gutter,\\n.CodeMirror-gutters,\\n.CodeMirror-linenumber {\\n  -moz-box-sizing: content-box;\\n  box-sizing: content-box;\\n}\\n\\n.CodeMirror-measure {\\n  position: absolute;\\n  width: 100%;\\n  height: 0;\\n  overflow: hidden;\\n  visibility: hidden;\\n}\\n\\n.CodeMirror-cursor {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.CodeMirror-measure pre { position: static; }\\n\\ndiv.CodeMirror-cursors {\\n  visibility: hidden;\\n  position: relative;\\n  z-index: 3;\\n}\\ndiv.CodeMirror-dragcursors {\\n  visibility: visible;\\n}\\n\\n.CodeMirror-focused div.CodeMirror-cursors {\\n  visibility: visible;\\n}\\n\\n.CodeMirror-selected { background: #d9d9d9; }\\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\\n.CodeMirror-crosshair { cursor: crosshair; }\\n.CodeMirror-line::selection, .CodeMirror-line \x3e span::selection, .CodeMirror-line \x3e span \x3e span::selection { background: #d7d4f0; }\\n.CodeMirror-line::-moz-selection, .CodeMirror-line \x3e span::-moz-selection, .CodeMirror-line \x3e span \x3e span::-moz-selection { background: #d7d4f0; }\\n\\n.cm-searching {\\n  background-color: #ffa;\\n  background-color: rgba(255, 255, 0, .4);\\n}\\n\\n/* Used to force a border model for a node */\\n.cm-force-border { padding-right: .1px; }\\n\\n@media print {\\n  /* Hide the cursor when printing */\\n  .CodeMirror div.CodeMirror-cursors {\\n    visibility: hidden;\\n  }\\n}\\n\\n/* See issue #2901 */\\n.cm-tab-wrap-hack:after { content: \x27\x27; }\\n\\n/* Help users use markselection to safely style text background */\\nspan.CodeMirror-selectedtext { background: none; }\x22], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22textarea\x22,\x22textarea\x22,-650375824),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\x22ref\x22,\x22ref\x22,1289896967),(function (ref){\nif(cljs.core.truth_(ref)){\nvar editor \x3d module$node_modules$codemirror$lib$codemirror.fromTextArea(ref,cljs.core.clj__GT_js(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\x22lineNumbers\x22,\x22lineNumbers\x22,1374890941),true,new cljs.core.Keyword(null,\x22mode\x22,\x22mode\x22,654403691),\x22clojure\x22], null)));\neditor.setValue(content);\n\nreturn editor.refresh();\n} else {\nreturn null;\n}\n})], null)], null)], null);\n});\norg.browjure.codemirror.base.handler \x3d (function org$browjure$codemirror$base$handler(p__80444){\nvar map__80447 \x3d p__80444;\nvar map__80447__$1 \x3d (((((!((map__80447 \x3d\x3d null))))?(((((map__80447.cljs$lang$protocol_mask$partition0$ \x26 (64))) || ((cljs.core.PROTOCOL_SENTINEL \x3d\x3d\x3d map__80447.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__80447):map__80447);\nvar command \x3d map__80447__$1;\nvar id \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__80447__$1,new cljs.core.Keyword(null,\x22id\x22,\x22id\x22,-1388402092));\nvar type \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__80447__$1,new cljs.core.Keyword(null,\x22type\x22,\x22type\x22,1174270348));\nvar payload \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__80447__$1,new cljs.core.Keyword(null,\x22payload\x22,\x22payload\x22,-383036092));\nreturn console.log(\x22codemirror handler command: \x22,command);\n});\n");
SHADOW_ENV.evalLoad("shadow.module.codemirror.append.js", false , ";\nSHADOW_ENV.setLoaded(\x22module$node_modules$codemirror$lib$codemirror.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$codemirror$mode$clojure$clojure.js\x22);\nSHADOW_ENV.setLoaded(\x22org.browjure.codemirror.base.js\x22);\nSHADOW_ENV.setLoaded(\x22shadow.module.codemirror.append.js\x22);");